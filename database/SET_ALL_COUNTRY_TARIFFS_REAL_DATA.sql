-- ============================================
-- тЁетјЪућБтЏйсЂ«жќбуејујЄУеГт«џ№╝ѕ2025т╣┤т«ЪсЃЄсЃ╝сѓ┐№╝Ѕ
-- ============================================
--
-- сЃЄсЃ╝сѓ┐сѓйсЃ╝сѓ╣: TRUMP_2025 уЏИС║њжќбуеј
-- тЪ║Т║ќ: тљётЏйсЂ«т»Йу▒│У▓┐ТўЊжџютБЂсЂФт┐юсЂўсЂЪУ┐йтіажќбуеј
--

-- ============================================
-- Asia (14сЃХтЏй) - TRUMP_2025
-- ============================================

UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.4600, antidumping_rate = 0.0000 WHERE code = 'VN'; -- сЃЎсЃѕсЃісЃа 46%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.3700, antidumping_rate = 0.0000 WHERE code = 'BD'; -- сЃљсЃ│сѓ░сЃЕсЃЄсѓисЃЦ 37%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.3600, antidumping_rate = 0.0000 WHERE code = 'TH'; -- сѓ┐сѓц 36%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.3400, antidumping_rate = 0.0000 WHERE code = 'CN'; -- СИГтЏй 34%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.3200, antidumping_rate = 0.0000 WHERE code = 'TW'; -- тЈ░Т╣Й 32%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.3200, antidumping_rate = 0.0000 WHERE code = 'ID'; -- сѓцсЃ│сЃЅсЃЇсѓисѓб 32%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.3000, antidumping_rate = 0.0000 WHERE code = 'HK'; -- ждЎТИ» 30%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2900, antidumping_rate = 0.0000 WHERE code = 'PK'; -- сЃЉсѓГсѓ╣сѓ┐сЃ│ 29%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2600, antidumping_rate = 0.0000 WHERE code = 'IN'; -- сѓцсЃ│сЃЅ 26%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code = 'KR'; -- жЪЊтЏй 25%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2400, antidumping_rate = 0.0000 WHERE code = 'JP'; -- ТЌЦТюг 24%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2400, antidumping_rate = 0.0000 WHERE code = 'MY'; -- сЃъсЃгсЃ╝сѓисѓб 24%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1700, antidumping_rate = 0.0000 WHERE code = 'PH'; -- сЃЋсѓБсЃфсЃћсЃ│ 17%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'SG'; -- сѓисЃ│сѓгсЃЮсЃ╝сЃФ 15%

-- сЂЮсЂ«С╗ќсѓбсѓИсѓбУФИтЏй
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.4400, antidumping_rate = 0.0000 WHERE code = 'LK'; -- сѓ╣сЃфсЃЕсЃ│сѓФ 44%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.4400, antidumping_rate = 0.0000 WHERE code = 'MM'; -- сЃЪсЃБсЃ│сЃъсЃ╝ 44%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.4900, antidumping_rate = 0.0000 WHERE code = 'KH'; -- сѓФсЃ│сЃюсѓИсѓб 49%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.4800, antidumping_rate = 0.0000 WHERE code = 'LA'; -- сЃЕсѓфсѓ╣ 48%

-- ============================================
-- Europe (20сЃХтЏй) - TRADE_DEAL / TRUMP_2025
-- ============================================

-- EUУФИтЏй№╝ѕTRADE_DEAL 15%№╝Ѕ
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'AT'; -- сѓфсЃ╝сѓ╣сЃѕсЃфсѓб 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'BE'; -- сЃЎсЃФсѓ«сЃ╝ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'CZ'; -- сЃЂсѓДсѓ│ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'DE'; -- сЃЅсѓцсЃё 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'DK'; -- сЃЄсЃ│сЃъсЃ╝сѓ» 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'ES'; -- сѓ╣сЃџсѓцсЃ│ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'FI'; -- сЃЋсѓБсЃ│сЃЕсЃ│сЃЅ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'FR'; -- сЃЋсЃЕсЃ│сѓ╣ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'GB'; -- сѓцсѓ«сЃфсѓ╣ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'GR'; -- сѓ«сЃфсѓисЃБ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'HU'; -- сЃЈсЃ│сѓгсЃфсЃ╝ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'IE'; -- сѓбсѓцсЃФсЃЕсЃ│сЃЅ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'IT'; -- сѓцсѓ┐сЃфсѓб 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'NL'; -- сѓфсЃЕсЃ│сЃђ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'NO'; -- сЃјсЃФсѓдсѓДсЃ╝ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'PL'; -- сЃЮсЃ╝сЃЕсЃ│сЃЅ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'PT'; -- сЃЮсЃФсЃѕсѓгсЃФ 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'RO'; -- сЃФсЃ╝сЃъсЃІсѓб 15%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code = 'SE'; -- сѓ╣сѓдсѓДсЃ╝сЃЄсЃ│ 15%

-- сѓ╣сѓцсѓ╣№╝ѕTRUMP_2025 31%№╝Ѕ
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.3100, antidumping_rate = 0.0000 WHERE code = 'CH'; -- сѓ╣сѓцсѓ╣ 31%

-- сЂЮсЂ«С╗ќТгДтиъ
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1500, antidumping_rate = 0.0000 WHERE code IN ('BG', 'HR', 'SK', 'SI', 'EE', 'LV', 'LT', 'CY', 'MT', 'LU');

-- ============================================
-- North America (3сЃХтЏй) - TRUMP_2025
-- ============================================

UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.3500, antidumping_rate = 0.0000 WHERE code = 'CA'; -- сѓФсЃісЃђ 35%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code = 'MX'; -- сЃАсѓГсѓисѓ│ 25%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.0000, antidumping_rate = 0.0000 WHERE code = 'US'; -- сѓбсЃАсЃфсѓФ 0%

-- ============================================
-- South America (5сЃХтЏй) - TRUMP_2025
-- ============================================

UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.5000, antidumping_rate = 0.0000 WHERE code = 'BR'; -- сЃќсЃЕсѓИсЃФ 50%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code = 'AR'; -- сѓбсЃФсѓ╝сЃ│сЃЂсЃ│ 25%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2000, antidumping_rate = 0.0000 WHERE code = 'CL'; -- сЃЂсЃф 20%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2000, antidumping_rate = 0.0000 WHERE code = 'CO'; -- сѓ│сЃГсЃ│сЃЊсѓб 20%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2000, antidumping_rate = 0.0000 WHERE code = 'PE'; -- сЃџсЃФсЃ╝ 20%

-- сЂЮсЂ«С╗ќтЇЌу▒│
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.5000, antidumping_rate = 0.0000 WHERE code = 'LS'; -- сЃгсѓйсЃѕ 50%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.4700, antidumping_rate = 0.0000 WHERE code = 'MG'; -- сЃъсЃђсѓгсѓ╣сѓФсЃФ 47%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2000, antidumping_rate = 0.0000 WHERE code IN ('EC', 'VE', 'UY', 'PY', 'BO');

-- ============================================
-- Middle East (4сЃХтЏй) - TRUMP_2025
-- ============================================

UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code = 'AE'; -- UAE 25%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code = 'SA'; -- сѓхсѓдсѓИсѓбсЃЕсЃЊсѓб 25%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code = 'TR'; -- сЃѕсЃФсѓ│ 25%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1700, antidumping_rate = 0.0000 WHERE code = 'IL'; -- сѓцсѓ╣сЃЕсѓесЃФ 17%

-- сЂЮсЂ«С╗ќСИГТЮ▒
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.4100, antidumping_rate = 0.0000 WHERE code = 'SY'; -- сѓисЃфсѓб 41%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code IN ('IQ', 'IR', 'JO', 'KW', 'LB', 'OM', 'QA', 'YE');

-- ============================================
-- Oceania (2сЃХтЏй) - TRUMP_2025
-- ============================================

UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2000, antidumping_rate = 0.0000 WHERE code = 'NZ'; -- сЃІсЃЦсЃ╝сѓИсЃ╝сЃЕсЃ│сЃЅ 20%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.1000, antidumping_rate = 0.0000 WHERE code = 'AU'; -- сѓфсЃ╝сѓ╣сЃѕсЃЕсЃфсѓб 10%

-- ============================================
-- Africa (3сЃХтЏй) - TRUMP_2025
-- ============================================

UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.3000, antidumping_rate = 0.0000 WHERE code = 'ZA'; -- тЇЌсѓбсЃЋсЃфсѓФ 30%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code = 'EG'; -- сѓесѓИсЃЌсЃѕ 25%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code = 'MA'; -- сЃбсЃГсЃЃсѓ│ 25%

-- сЂЮсЂ«С╗ќсѓбсЃЋсЃфсѓФ
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.4100, antidumping_rate = 0.0000 WHERE code = 'FK'; -- сЃЋсѓЕсЃ╝сѓ»сЃЕсЃ│сЃЅ 41%
UPDATE public.origin_countries SET base_tariff_rate = 0.0000, section301_rate = 0.0000, section232_rate = 0.2500, antidumping_rate = 0.0000 WHERE code IN ('NG', 'KE', 'ET', 'TZ', 'UG', 'GH', 'TN', 'DZ', 'AO', 'SN', 'CI', 'CM', 'ZW', 'BW', 'ZM', 'MW');

-- ============================================
-- сЂЮсЂ«С╗ќтЁесЂдсЂ«тЏй: сЃЄсЃЋсѓЕсЃФсЃѕ25%
-- ============================================
UPDATE public.origin_countries 
SET 
  base_tariff_rate = COALESCE(base_tariff_rate, 0.0000),
  section301_rate = COALESCE(section301_rate, 0.0000),
  section232_rate = COALESCE(section232_rate, 0.2500),
  antidumping_rate = COALESCE(antidumping_rate, 0.0000)
WHERE 
  section232_rate IS NULL;

-- ============================================
-- уб║УфЇсѓ»сѓесЃф
-- ============================================

SELECT 
  code,
  name,
  name_ja,
  ROUND(total_additional_tariff * 100, 1) as tariff_percent,
  CASE 
    WHEN code = 'CN' THEN 'Section 301 + TRUMP_2025'
    WHEN section232_rate > 0 THEN 'TRUMP_2025'
    ELSE 'No Additional Tariff'
  END as tariff_type
FROM public.origin_countries
WHERE active = true
ORDER BY total_additional_tariff DESC
LIMIT 20;

DO $$
BEGIN
  RAISE NOTICE '========================================';
  RAISE NOTICE 'РюЁ 2025т╣┤т«ЪсЃЄсЃ╝сѓ┐тЈЇТўат«їС║є№╝Ђ';
  RAISE NOTICE '========================================';
  RAISE NOTICE '';
  RAISE NOTICE 'сЃѕсЃЃсЃЌ10жФўжќбуејтЏй:';
  RAISE NOTICE '  1. сЃќсЃЕсѓИсЃФ (BR): 50%%';
  RAISE NOTICE '  2. сЃгсѓйсЃѕ (LS): 50%%';
  RAISE NOTICE '  3. сѓФсЃ│сЃюсѓИсѓб (KH): 49%%';
  RAISE NOTICE '  4. сЃЕсѓфсѓ╣ (LA): 48%%';
  RAISE NOTICE '  5. сЃъсЃђсѓгсѓ╣сѓФсЃФ (MG): 47%%';
  RAISE NOTICE '  6. сЃЎсЃѕсЃісЃа (VN): 46%%';
  RAISE NOTICE '  7. сЃЪсЃБсЃ│сЃъсЃ╝ (MM): 44%%';
  RAISE NOTICE '  8. сѓ╣сЃфсЃЕсЃ│сѓФ (LK): 44%%';
  RAISE NOTICE '  9. сѓисЃфсѓб (SY): 41%%';
  RAISE NOTICE ' 10. сЃЋсѓЕсЃ╝сѓ»сЃЕсЃ│сЃЅ (FK): 41%%';
  RAISE NOTICE '';
  RAISE NOTICE 'СИ╗УдЂсѓбсѓИсѓбУФИтЏй:';
  RAISE NOTICE '  - сЃЎсЃѕсЃісЃа: 46%%';
  RAISE NOTICE '  - сЃљсЃ│сѓ░сЃЕсЃЄсѓисЃЦ: 37%%';
  RAISE NOTICE '  - сѓ┐сѓц: 36%%';
  RAISE NOTICE '  - СИГтЏй: 34%%';
  RAISE NOTICE '  - сѓцсЃ│сЃЅ: 26%%';
  RAISE NOTICE '  - ТЌЦТюг: 24%%';
  RAISE NOTICE '';
  RAISE NOTICE '­ЪјЅ Т║ќтѓЎт«їС║є№╝Ђ';
  RAISE NOTICE '========================================';
END $$;
