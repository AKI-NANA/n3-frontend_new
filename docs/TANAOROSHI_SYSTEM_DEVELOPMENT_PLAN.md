# üì¶ Ê£öÂç∏„ÅóÔºàÂú®Â∫´ÔºâÁµ±Âêà„Ç∑„Çπ„ÉÜ„É† ÈñãÁô∫Ë®àÁîªÊõ∏

**„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂêç**: Â§öË≤©Ë∑ØÁµ±ÂêàÊ£öÂç∏„ÅóÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
**„Éê„Éº„Ç∏„Éß„É≥**: 1.0
**‰ΩúÊàêÊó•**: 2025Âπ¥10Êúà26Êó•
**ÈñãÁô∫ÊúüÈñì**: 6ÈÄ±ÈñìÔºàPhase 1-1 ÔΩû Phase 1-4Ôºâ
**ÊäÄË°ì„Çπ„Çø„ÉÉ„ÇØ**: Next.js 14 + Supabase + TypeScript

---

## üìã ÁõÆÊ¨°

1. [„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÊ¶ÇË¶Å](#1-„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÊ¶ÇË¶Å)
2. [„Ç∑„Çπ„ÉÜ„É†ÂÖ®‰ΩìÂÉè](#2-„Ç∑„Çπ„ÉÜ„É†ÂÖ®‰ΩìÂÉè)
3. [„Éá„Éº„Çø„Éô„Éº„ÇπË®≠Ë®à](#3-„Éá„Éº„Çø„Éô„Éº„ÇπË®≠Ë®à)
4. [Ê©üËÉΩË¶Å‰ª∂](#4-Ê©üËÉΩË¶Å‰ª∂)
5. [UI/UXË®≠Ë®à](#5-uiuxË®≠Ë®à)
6. [ÈñãÁô∫„Éï„Çß„Éº„Ç∫](#6-ÈñãÁô∫„Éï„Çß„Éº„Ç∫)
7. [ÊäÄË°ì‰ªïÊßò](#7-ÊäÄË°ì‰ªïÊßò)
8. [„ÉÜ„Çπ„ÉàË®àÁîª](#8-„ÉÜ„Çπ„ÉàË®àÁîª)
9. [„Éá„Éó„É≠„Ç§Ë®àÁîª](#9-„Éá„Éó„É≠„Ç§Ë®àÁîª)
10. [„É™„Çπ„ÇØÁÆ°ÁêÜ](#10-„É™„Çπ„ÇØÁÆ°ÁêÜ)

---

## 1. „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÊ¶ÇË¶Å

### 1.1 ËÉåÊôØ„Å®ÁõÆÁöÑ

**ÁèæÁä∂„ÅÆË™≤È°å**:
- Âú®Â∫´„Éá„Éº„Çø„Å®Âá∫ÂìÅ„Éá„Éº„Çø„ÅåÂàÜÈõ¢„Åï„Çå„Å¶„Åä„Çä„ÄÅ‰∫åÈáçÁÆ°ÁêÜ„ÅåÁô∫Áîü
- „Çª„ÉÉ„ÉàÂïÜÂìÅ„ÅÆÂú®Â∫´ÈÄ£Âãï„ÅåÊâãÂãï„ÅßÈùûÂäπÁéá
- ÂèóÊ≥®ÊôÇ„ÅÆÂú®Â∫´Ê∏õÁÆó„ÅåËá™ÂãïÂåñ„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ
- Ë§áÊï∞„É¢„Éº„É´ÔºàeBay„ÄÅAmazon„ÄÅShopeeÁ≠âÔºâ„ÅÆÂú®Â∫´„Çí‰∏ÄÂÖÉÁÆ°ÁêÜ„Åß„Åç„Å¶„ÅÑ„Å™„ÅÑ

**ÁõÆÁöÑ**:
1. ‚úÖ **Âú®Â∫´„Éû„Çπ„Çø„ÉºÁÆ°ÁêÜ**ÔºöSKU„ÄÅÂéü‰æ°„ÄÅÂú®Â∫´Êï∞„Çí‰∏ÄÂÖÉÁÆ°ÁêÜ„Åô„ÇãËµ∑ÁÇπ„Çí‰Ωú„Çã
2. ‚úÖ **Âá∫ÂìÅ„Éï„É≠„ÉºÁµ±Âêà**ÔºöÊ£öÂç∏„Åó ‚Üí Âá∫ÂìÅ„Éá„Éº„Çø‰ΩúÊàê ‚Üí Âá∫ÂìÅÂÆüË°å„ÅÆ‰∏ÄË≤´„Åó„Åü„Éï„É≠„Éº
3. ‚úÖ **„Çª„ÉÉ„ÉàÂïÜÂìÅÂØæÂøú**ÔºöË§áÊï∞ÂïÜÂìÅ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Åü„Çª„ÉÉ„ÉàÂìÅ„ÅÆËá™ÂãïÂú®Â∫´Ë®àÁÆó
4. ‚úÖ **ÂèóÊ≥®ÈÄ£Âãï**ÔºöeBay/AmazonÁ≠â„ÅÆÂèóÊ≥®API„Å®ÈÄ£Êê∫„ÅóËá™Âãï„ÅßÂú®Â∫´Ê∏õÁÆó
5. ‚úÖ **ÈáçË§áÊéíÈô§**Ôºö„Çª„ÉÉ„ÉàÂìÅÂá∫ÂìÅÊôÇ„Å´ÊßãÊàêÂçòÂìÅ„ÅÆÈáçË§áÂá∫ÂìÅ„ÇíËá™ÂãïÂÅúÊ≠¢

### 1.2 „Çπ„Ç≥„Éº„Éó

**Phase 1ÔºàÊú¨Ë®àÁîªÊõ∏„ÅÆÂØæË±°Ôºâ**:
- `/zaiko/tanaoroshi` Ê£öÂç∏„ÅóÁÆ°ÁêÜÁîªÈù¢„ÅÆÂÆüË£Ö
- `inventory_master`„ÄÅ`set_components`„ÄÅ`inventory_changes` „ÉÜ„Éº„Éñ„É´„ÅÆÊßãÁØâ
- Êó¢Â≠ò `/tools/editing` „Å®„ÅÆÈÄ£Êê∫ÂÆüË£Ö
- „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê„ÉªÂá∫ÂìÅÊ©üËÉΩ
- ÂèóÊ≥®ÈÄ£Âãï„ÅÆÂü∫Êú¨„É≠„Ç∏„ÉÉ„ÇØ

**Phase 2ÔºàÂ∞ÜÊù•Ë®àÁîªÔºâ**:
- Amazon SP-APIÈÄ£Êê∫
- Shopee/Coupang APIÈÄ£Êê∫
- Âú®Â∫´Ëá™ÂãïË£úÂÖÖ„Ç¢„É©„Éº„Éà
- Â§öË®ÄË™ûÂØæÂøú

---

## 2. „Ç∑„Çπ„ÉÜ„É†ÂÖ®‰ΩìÂÉè

### 2.1 „Ç∑„Çπ„ÉÜ„É†„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        „É¶„Éº„Ç∂„Éº                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚ñº               ‚ñº               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Ê£öÂç∏„Åó     ‚îÇ ‚îÇ  Âá∫ÂìÅÁ∑®ÈõÜ    ‚îÇ ‚îÇ  ÂèóÊ≥®ÁÆ°ÁêÜ    ‚îÇ
‚îÇ /zaiko/      ‚îÇ ‚îÇ /tools/      ‚îÇ ‚îÇ /orders/     ‚îÇ
‚îÇ tanaoroshi   ‚îÇ ‚îÇ editing      ‚îÇ ‚îÇ webhook      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                 ‚îÇ                 ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ   Supabase          ‚îÇ
              ‚îÇ  (PostgreSQL)       ‚îÇ
              ‚îÇ                     ‚îÇ
              ‚îÇ ‚Ä¢ inventory_master  ‚îÇ
              ‚îÇ ‚Ä¢ set_components    ‚îÇ
              ‚îÇ ‚Ä¢ inventory_changes ‚îÇ
              ‚îÇ ‚Ä¢ marketplace_      ‚îÇ
              ‚îÇ   listings          ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚ñº                ‚ñº                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   eBay API   ‚îÇ ‚îÇ  Amazon      ‚îÇ ‚îÇ   Shopee     ‚îÇ
‚îÇ              ‚îÇ ‚îÇ  SP-API      ‚îÇ ‚îÇ   API        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2.2 „Éá„Éº„Çø„Éï„É≠„Éº

#### **A. ÂïÜÂìÅÁôªÈå≤ ‚Üí Âá∫ÂìÅ„Éï„É≠„Éº**

```
[Ê£öÂç∏„ÅóÁîªÈù¢]
1. ÂïÜÂìÅÁôªÈå≤„É¢„Éº„ÉÄ„É´
   ‚îú‚îÄ SKUÂÖ•Âäõ
   ‚îú‚îÄ Âéü‰æ°ÂÖ•Âäõ
   ‚îú‚îÄ Âú®Â∫´Êï∞ÂÖ•Âäõ
   ‚îú‚îÄ ÁîªÂÉè„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ
   ‚îî‚îÄ ‰ªïÂÖ•ÂÖàÊÉÖÂ†±ÔºàÁÑ°Âú®Â∫´„ÅÆÂ†¥ÂêàÔºâ
        ‚Üì
2. inventory_master „Å´‰øùÂ≠ò
        ‚Üì
3. „ÄåÂá∫ÂìÅ„Éá„Éº„Çø‰ΩúÊàê„Äç„Éú„Çø„É≥
        ‚Üì
[Âá∫ÂìÅÁ∑®ÈõÜÁîªÈù¢]
4. /tools/editing „Å´ÈÅ∑Áßª
   ‚îú‚îÄ „Çø„Ç§„Éà„É´Ëã±Ë®≥
   ‚îú‚îÄ „Ç´„ÉÜ„Ç¥„É™ÈÅ∏Êäû
   ‚îú‚îÄ HTMLÁîüÊàê
   ‚îú‚îÄ ÈÖçÈÄÅË®≠ÂÆö
   ‚îî‚îÄ ‰æ°Ê†ºË®≠ÂÆö
        ‚Üì
5. TabFinal„ÄåÂá∫ÂìÅÂÆüË°å„Äç
        ‚Üì
6. eBay AddItem API
        ‚Üì
7. marketplace_listings „Å´Ë®òÈå≤
```

#### **B. „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê ‚Üí Âá∫ÂìÅ„Éï„É≠„Éº**

```
[Ê£öÂç∏„ÅóÁîªÈù¢]
1. ÂïÜÂìÅA, B, C„ÇíÈÅ∏Êäû
        ‚Üì
2. „Äå„Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê„Äç„Éú„Çø„É≥
        ‚Üì
3. „Çª„ÉÉ„ÉàÂìÅ‰ΩúÊàê„É¢„Éº„ÉÄ„É´
   ‚îú‚îÄ „Çª„ÉÉ„ÉàÂêçÂÖ•Âäõ
   ‚îú‚îÄ ÊßãÊàêÂìÅ„Å®Êï∞ÈáèË®≠ÂÆö
   ‚îÇ  ‚Ä¢ iPhone √ó 1
   ‚îÇ  ‚Ä¢ AirPods √ó 1
   ‚îÇ  ‚Ä¢ AppleWatch √ó 1
   ‚îú‚îÄ „Çª„ÉÉ„ÉàË≤©Â£≤‰æ°Ê†ºÂÖ•Âäõ
   ‚îî‚îÄ Âú®Â∫´Êï∞Ëá™ÂãïË®àÁÆó
        ‚Üì
4. inventory_master (type='set') „Å´‰øùÂ≠ò
        ‚Üì
5. set_components „Å´ÊßãÊàêÊÉÖÂ†±‰øùÂ≠ò
        ‚Üì
6. „ÄåÂá∫ÂìÅ„Éá„Éº„Çø‰ΩúÊàê„Äç„Éú„Çø„É≥
        ‚Üì
[Âá∫ÂìÅÁ∑®ÈõÜÁîªÈù¢]
7. /tools/editing „Åß„Çª„ÉÉ„ÉàÂìÅÊÉÖÂ†±Ë°®Á§∫
        ‚Üì
8. ÈáçË§áÂá∫ÂìÅ„ÉÅ„Çß„ÉÉ„ÇØ
   ‚îú‚îÄ iPhone„ÅåÊó¢„Å´Âá∫ÂìÅ‰∏≠Ôºü
   ‚îÇ   ‚Üí Ëá™ÂãïÂÅúÊ≠¢„Éï„É©„Ç∞
   ‚îî‚îÄ Ë≠¶Âëä„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
        ‚Üì
9. „Äå„Çª„ÉÉ„ÉàÂìÅ„Å®„Åó„Å¶Âá∫ÂìÅ„ÄçÂÆüË°å
        ‚Üì
10. ÊßãÊàêÂìÅ„ÅÆÂá∫ÂìÅ„ÇíËá™ÂãïÂÅúÊ≠¢
        ‚Üì
11. „Çª„ÉÉ„ÉàÂìÅ„ÇíeBay„Å´Âá∫ÂìÅ
```

#### **C. ÂèóÊ≥®ÈÄ£Âãï„Éï„É≠„Éº**

```
[eBayÂèóÊ≥®ÈÄöÁü•]
1. Order WebhookÂèó‰ø°
        ‚Üì
2. /api/orders/webhook
        ‚Üì
3. SKU„Åßinventory_masterÊ§úÁ¥¢
        ‚Üì
4. ÂïÜÂìÅ„Çø„Ç§„ÉóÂà§ÂÆö
   ‚îú‚îÄ ÂçòÂìÅÔºàstockÔºâ
   ‚îÇ   ‚Üí physical_quantity - 1
   ‚îî‚îÄ „Çª„ÉÉ„ÉàÂìÅÔºàsetÔºâ
       ‚Üí ÊßãÊàêÂìÅ„ÅÆÂú®Â∫´„Çí„Åù„Çå„Åû„ÇåÊ∏õÁÆó
        ‚Üì
5. inventory_changes „Å´Â±•Ê≠¥Ë®òÈå≤
   {
     change_type: 'sale',
     quantity_before: 10,
     quantity_after: 9,
     source: 'ebay_order_12345'
   }
        ‚Üì
6. WebSocketÈÄöÁü•„ÅßÊ£öÂç∏„ÅóÁîªÈù¢„Çí„É™„Ç¢„É´„Çø„Ç§„É†Êõ¥Êñ∞
```

---

## 3. „Éá„Éº„Çø„Éô„Éº„ÇπË®≠Ë®à

### 3.1 „ÉÜ„Éº„Éñ„É´ÊßãÊàê

#### **A. inventory_masterÔºàÊ£öÂç∏„Åó„Éû„Çπ„Çø„ÉºÔºâ**

```sql
CREATE TABLE inventory_master (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    unique_id TEXT UNIQUE NOT NULL,              -- ÂïÜÂìÅÂõ∫ÊúâID (ITEM-001, SET-001)
    product_name TEXT NOT NULL,                  -- ÂïÜÂìÅÂêç
    sku TEXT,                                    -- SKU (ÁÆ°ÁêÜ„Ç≥„Éº„Éâ)
    product_type inventory_type NOT NULL,        -- 'stock'|'dropship'|'set'|'hybrid'
    physical_quantity INTEGER DEFAULT 0,         -- ÂÆüÂú®Â∫´Êï∞
    listing_quantity INTEGER DEFAULT 0,          -- Âá∫ÂìÅ‰∏≠Âú®Â∫´Êï∞
    cost_price DECIMAL(12,2) DEFAULT 0,         -- ‰ªïÂÖ•‰æ°Ê†ºÔºàUSDÔºâ
    selling_price DECIMAL(12,2) DEFAULT 0,      -- Ë≤©Â£≤‰æ°Ê†ºÔºàUSDÔºâ
    condition_name TEXT DEFAULT 'used',          -- Áä∂ÊÖãÔºànew/used/refurbishedÔºâ
    category TEXT DEFAULT 'Electronics',         -- „Ç´„ÉÜ„Ç¥„É™
    subcategory TEXT,                            -- „Çµ„Éñ„Ç´„ÉÜ„Ç¥„É™
    images JSONB DEFAULT '[]'::jsonb,            -- ÁîªÂÉèURLÈÖçÂàó
    source_data JSONB DEFAULT '{}'::jsonb,       -- ‰ªïÂÖ•ÂÖÉ„Éá„Éº„Çø
    supplier_info JSONB DEFAULT '{}'::jsonb,     -- ‰ªïÂÖ•ÂÖàÊÉÖÂ†±ÔºàÁÑ°Âú®Â∫´Áî®Ôºâ
    is_manual_entry BOOLEAN DEFAULT FALSE,       -- ÊâãÂãïÁôªÈå≤„Éï„É©„Ç∞
    priority_score INTEGER DEFAULT 0,            -- ÂÑ™ÂÖàÂ∫¶„Çπ„Ç≥„Ç¢
    notes TEXT,                                  -- ÂÇôËÄÉ
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TYPE inventory_type AS ENUM ('stock', 'dropship', 'set', 'hybrid');

CREATE INDEX idx_inventory_sku ON inventory_master(sku);
CREATE INDEX idx_inventory_type ON inventory_master(product_type);
CREATE INDEX idx_inventory_updated ON inventory_master(updated_at);
```

**„Ç´„É©„É†Ë™¨Êòé**:

| „Ç´„É©„É† | Âûã | Ë™¨Êòé | ‰æã |
|--------|-----|------|-----|
| `product_type` | ENUM | ÂïÜÂìÅ„Çø„Ç§„Éó | 'stock'ÔºàÊúâÂú®Â∫´Ôºâ„ÄÅ'dropship'ÔºàÁÑ°Âú®Â∫´Ôºâ„ÄÅ'set'Ôºà„Çª„ÉÉ„ÉàÂìÅÔºâ |
| `physical_quantity` | INTEGER | ÂÆüÂú®Â∫´Êï∞ÔºàÂèóÊ≥®„ÅßËá™ÂãïÊ∏õÁÆóÔºâ | 10 |
| `listing_quantity` | INTEGER | ÂêÑ„É¢„Éº„É´„Åß„ÅÆÂá∫ÂìÅÊï∞ÂêàË®à | 8 |
| `cost_price` | DECIMAL | ‰ªïÂÖ•‰æ°Ê†ºÔºàÂà©ÁõäË®àÁÆó„Å´‰ΩøÁî®Ôºâ | 50.00 |
| `supplier_info` | JSONB | ‰ªïÂÖ•ÂÖàURL„ÄÅÂú®Â∫´ËøΩË∑°IDÁ≠â | `{"url": "https://...", "track_id": "..."}` |

#### **B. set_componentsÔºà„Çª„ÉÉ„ÉàÂìÅÊßãÊàêÔºâ**

```sql
CREATE TABLE set_components (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    set_product_id UUID NOT NULL REFERENCES inventory_master(id) ON DELETE CASCADE,
    component_product_id UUID NOT NULL REFERENCES inventory_master(id) ON DELETE CASCADE,
    quantity_required INTEGER NOT NULL CHECK (quantity_required > 0),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    UNIQUE(set_product_id, component_product_id)
);

CREATE INDEX idx_set_components_set ON set_components(set_product_id);
CREATE INDEX idx_set_components_comp ON set_components(component_product_id);
```

**‰æã**:
```sql
-- Apple Bundle Set (SET-001) „ÅÆÊßãÊàê
INSERT INTO set_components VALUES
  (uuid1, 'SET-001', 'ITEM-001', 1),  -- iPhone √ó 1
  (uuid2, 'SET-001', 'ITEM-003', 1),  -- AirPods √ó 1
  (uuid3, 'SET-001', 'ITEM-004', 1);  -- AppleWatch √ó 1
```

#### **C. inventory_changesÔºàÂú®Â∫´Â§âÊõ¥Â±•Ê≠¥Ôºâ**

```sql
CREATE TABLE inventory_changes (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    product_id UUID NOT NULL REFERENCES inventory_master(id) ON DELETE CASCADE,
    change_type change_type NOT NULL,            -- Â§âÊõ¥„Çø„Ç§„Éó
    quantity_before INTEGER NOT NULL,            -- Â§âÊõ¥ÂâçÂú®Â∫´Êï∞
    quantity_after INTEGER NOT NULL,             -- Â§âÊõ¥ÂæåÂú®Â∫´Êï∞
    source TEXT DEFAULT 'manual',                -- Â§âÊõ¥ÂÖÉÔºàmanual/ebay_order/amazon_orderÔºâ
    notes TEXT,                                  -- ÂÇôËÄÉ
    metadata JSONB DEFAULT '{}'::jsonb,          -- ËøΩÂä†ÊÉÖÂ†±ÔºàÊ≥®ÊñáIDÁ≠âÔºâ
    created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TYPE change_type AS ENUM ('sale', 'import', 'manual', 'adjustment', 'set_sale');

CREATE INDEX idx_changes_product ON inventory_changes(product_id);
CREATE INDEX idx_changes_type ON inventory_changes(change_type);
CREATE INDEX idx_changes_created ON inventory_changes(created_at);
```

**change_typeË™¨Êòé**:
- `sale`: ÂèóÊ≥®„Å´„Çà„ÇãÊ∏õÁÆó
- `import`: ‰ªïÂÖ•„Çå„Å´„Çà„ÇãÂ¢óÂä†
- `manual`: ÊâãÂãïË™øÊï¥
- `adjustment`: Ê£öÂç∏„ÅóË™øÊï¥
- `set_sale`: „Çª„ÉÉ„ÉàÂìÅË≤©Â£≤ÔºàÊßãÊàêÂìÅ„ÅÆÊ∏õÁÆóÔºâ

### 3.2 „Çπ„Éà„Ç¢„ÉâÈñ¢Êï∞

#### **„Çª„ÉÉ„ÉàÂìÅÂú®Â∫´Êï∞Ëá™ÂãïË®àÁÆó**

```sql
CREATE OR REPLACE FUNCTION calculate_set_available_quantity(set_id UUID)
RETURNS INTEGER AS $$
DECLARE
    min_available INTEGER := 999999;
    component_record RECORD;
BEGIN
    -- „Çª„ÉÉ„Éà„ÇíÊßãÊàê„Åô„ÇãÂêÑÂïÜÂìÅ„ÅÆÂú®Â∫´Êï∞„ÇíÂèñÂæó
    FOR component_record IN
        SELECT
            im.physical_quantity,
            sc.quantity_required
        FROM set_components sc
        JOIN inventory_master im ON sc.component_product_id = im.id
        WHERE sc.set_product_id = set_id
    LOOP
        -- ÂêÑÊßãÊàêÂìÅ„Åß‰ΩúÊàêÂèØËÉΩ„Å™„Çª„ÉÉ„ÉàÊï∞„ÇíË®àÁÆó„Åó„ÄÅÊúÄÂ∞èÂÄ§„ÇíÂèñÂæó
        min_available := LEAST(min_available,
            FLOOR(component_record.physical_quantity / component_record.quantity_required));
    END LOOP;

    IF min_available = 999999 THEN
        RETURN 0;
    END IF;

    RETURN min_available;
END;
$$ LANGUAGE plpgsql;
```

**‰ΩøÁî®‰æã**:
```sql
-- „Çª„ÉÉ„ÉàÂïÜÂìÅ„ÅÆÂú®Â∫´Êï∞„ÇíÂèñÂæó
SELECT calculate_set_available_quantity('SET-001');
-- ‚Üí 5 (iPhone 5ÂÄã„ÄÅAirPods 10ÂÄã„ÄÅWatch 8ÂÄã „ÅÆÂ†¥Âêà)
```

#### **Âú®Â∫´Ëá™ÂãïÊõ¥Êñ∞„Éà„É™„Ç¨„Éº**

```sql
CREATE OR REPLACE FUNCTION update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_inventory_master_updated_at
    BEFORE UPDATE ON inventory_master
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at();
```

---

## 4. Ê©üËÉΩË¶Å‰ª∂

### 4.1 Ê£öÂç∏„ÅóÁÆ°ÁêÜÁîªÈù¢Ôºà`/zaiko/tanaoroshi`Ôºâ

#### **FR-T01: ÂïÜÂìÅ‰∏ÄË¶ßË°®Á§∫**

**ÂÑ™ÂÖàÂ∫¶**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (ÂøÖÈ†à)

**Ê©üËÉΩ**:
- ÂÖ®ÂïÜÂìÅ„Çí8Âàó„Ç∞„É™„ÉÉ„Éâ„ÅßË°®Á§∫
- „Ç´„Éº„Éâ„Éì„É•„Éº / „ÉÜ„Éº„Éñ„É´„Éì„É•„Éº„ÅÆÂàáÊõø
- ÂïÜÂìÅ„Çø„Ç§„Éó„Éê„ÉÉ„Ç∏Ë°®Á§∫ÔºàÊúâÂú®Â∫´/ÁÑ°Âú®Â∫´/„Çª„ÉÉ„ÉàÂìÅÔºâ
- Âú®Â∫´Êï∞„ÅÆ„Ç´„É©„ÉºË°®Á§∫ÔºàÂú®Â∫´„ÅÇ„ÇäÔºöÁ∑ë„ÄÅÂú®Â∫´Âàá„ÇåÔºöËµ§Ôºâ

**UIË¶ÅÁ¥†**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üì¶ Ê£öÂç∏„ÅóÁÆ°ÁêÜ                                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Á∑èÂïÜÂìÅ: 120  Âú®Â∫´„ÅÇ„Çä: 85  Âú®Â∫´Âàá„Çå: 35  ÈÅ∏Êäû‰∏≠: 3 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [Êñ∞Ë¶èÂïÜÂìÅÁôªÈå≤] [„Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê(3)] [CSV‰∏ÄÊã¨Êõ¥Êñ∞]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üîç [Ê§úÁ¥¢...] [Á®ÆÈ°û‚ñº] [Áä∂ÊÖã‚ñº] [„Ç´„ÉÜ„Ç¥„É™‚ñº] [„Ç´„Éº„Éâ/„ÉÜ„Éº„Éñ„É´] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ ‚ñ°  ‚îÇ ‚îÇ ‚ñ°  ‚îÇ ‚îÇ ‚òë  ‚îÇ ‚îÇ ‚ñ°  ‚îÇ ‚îÇ ‚òë  ‚îÇ ‚îÇ ‚ñ°  ‚îÇ ‚îÇ ‚òë  ‚îÇ ‚îÇ ‚ñ°  ‚îÇ ‚îÇ
‚îÇ ‚îÇ[üñº]‚îÇ ‚îÇ[üñº]‚îÇ ‚îÇ[üñº]‚îÇ ‚îÇ[üñº]‚îÇ ‚îÇ[üñº]‚îÇ ‚îÇ[üñº]‚îÇ ‚îÇ[üñº]‚îÇ ‚îÇ[üñº]‚îÇ ‚îÇ
‚îÇ ‚îÇÂïÜÂìÅ‚îÇ ‚îÇÂïÜÂìÅ‚îÇ ‚îÇÂïÜÂìÅ‚îÇ ‚îÇÂïÜÂìÅ‚îÇ ‚îÇÂïÜÂìÅ‚îÇ ‚îÇÂïÜÂìÅ‚îÇ ‚îÇÂïÜÂìÅ‚îÇ ‚îÇÂïÜÂìÅ‚îÇ ‚îÇ
‚îÇ ‚îÇÂêç  ‚îÇ ‚îÇÂêç  ‚îÇ ‚îÇÂêç  ‚îÇ ‚îÇÂêç  ‚îÇ ‚îÇÂêç  ‚îÇ ‚îÇÂêç  ‚îÇ ‚îÇÂêç  ‚îÇ ‚îÇÂêç  ‚îÇ ‚îÇ
‚îÇ ‚îÇSKU ‚îÇ ‚îÇSKU ‚îÇ ‚îÇSKU ‚îÇ ‚îÇSKU ‚îÇ ‚îÇSKU ‚îÇ ‚îÇSKU ‚îÇ ‚îÇSKU ‚îÇ ‚îÇSKU ‚îÇ ‚îÇ
‚îÇ ‚îÇ$50 ‚îÇ ‚îÇ$30 ‚îÇ ‚îÇ$80 ‚îÇ ‚îÇ$25 ‚îÇ ‚îÇ$60 ‚îÇ ‚îÇ$45 ‚îÇ ‚îÇ$70 ‚îÇ ‚îÇ$35 ‚îÇ ‚îÇ
‚îÇ ‚îÇÂú®Â∫´:‚îÇ ‚îÇÂú®Â∫´:‚îÇ ‚îÇÂú®Â∫´:‚îÇ ‚îÇÂú®Â∫´:‚îÇ ‚îÇÂú®Â∫´:‚îÇ ‚îÇÂú®Â∫´:‚îÇ ‚îÇÂú®Â∫´:‚îÇ ‚îÇÂú®Â∫´:‚îÇ ‚îÇ
‚îÇ ‚îÇ 10 ‚îÇ ‚îÇ 0  ‚îÇ ‚îÇ 15 ‚îÇ ‚îÇ 5  ‚îÇ ‚îÇ 8  ‚îÇ ‚îÇ 0  ‚îÇ ‚îÇ 12 ‚îÇ ‚îÇ 3  ‚îÇ ‚îÇ
‚îÇ ‚îÇ[Á∑®ÈõÜ]‚îÇ ‚îÇ[Á∑®ÈõÜ]‚îÇ ‚îÇ[Á∑®ÈõÜ]‚îÇ ‚îÇ[Á∑®ÈõÜ]‚îÇ ‚îÇ[Á∑®ÈõÜ]‚îÇ ‚îÇ[Á∑®ÈõÜ]‚îÇ ‚îÇ[Á∑®ÈõÜ]‚îÇ ‚îÇ[Á∑®ÈõÜ]‚îÇ ‚îÇ
‚îÇ ‚îÇ[Âá∫ÂìÅ„Å∏]‚îÇ[Âá∫ÂìÅ„Å∏]‚îÇ[Âá∫ÂìÅ„Å∏]‚îÇ[Âá∫ÂìÅ„Å∏]‚îÇ[Âá∫ÂìÅ„Å∏]‚îÇ[Âá∫ÂìÅ„Å∏]‚îÇ[Âá∫ÂìÅ„Å∏]‚îÇ[Âá∫ÂìÅ„Å∏]‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**ÂèóÂÖ•Âü∫Ê∫ñ**:
- ‚úÖ 100‰ª∂‰ª•‰∏ä„ÅÆÂïÜÂìÅ„Çí1Áßí‰ª•ÂÜÖ„Å´Ë°®Á§∫
- ‚úÖ „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøúÔºà„É¢„Éê„Ç§„É´Ôºö2Âàó„ÄÅ„Çø„Éñ„É¨„ÉÉ„ÉàÔºö4Âàó„ÄÅPCÔºö8ÂàóÔºâ
- ‚úÖ Âú®Â∫´0„ÅÆÂïÜÂìÅ„ÅØ„ÄåÂá∫ÂìÅ„Å∏„Äç„Éú„Çø„É≥„ÅåÁÑ°ÂäπÂåñ

---

#### **FR-T02: ÂïÜÂìÅÁôªÈå≤„É¢„Éº„ÉÄ„É´**

**ÂÑ™ÂÖàÂ∫¶**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (ÂøÖÈ†à)

**Ê©üËÉΩ**:
- ÊúâÂú®Â∫´/ÁÑ°Âú®Â∫´/„Çª„ÉÉ„ÉàÂìÅ/„Éè„Ç§„Éñ„É™„ÉÉ„Éâ„ÅÆÈÅ∏Êäû
- ÁîªÂÉè„Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„Éó„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÔºàË§áÊï∞ÊûöÂØæÂøúÔºâ
- SKUÈáçË§á„ÉÅ„Çß„ÉÉ„ÇØ
- Ëá™Âãï„É™„Çµ„Ç§„Ç∫Ôºà1000px‰ª•‰∏ä„ÄÅAmazonË¶èÁ¥ÑÊ∫ñÊã†Ôºâ

**„Éï„Ç©„Éº„É†„Éï„Ç£„Éº„É´„Éâ**:

| „Éï„Ç£„Éº„É´„Éâ | ÂøÖÈ†à | „Éê„É™„Éá„Éº„Ç∑„Éß„É≥ |
|-----------|------|---------------|
| ÂïÜÂìÅ„Çø„Ç§„Éó | ‚úÖ | stock/dropship/set/hybrid |
| ÂïÜÂìÅÂêç | ‚úÖ | ÊúÄÂ§ß255ÊñáÂ≠ó |
| SKU | ‚úÖ | ÂçäËßíËã±Êï∞Â≠ó„ÄÅÈáçË§á‰∏çÂèØ |
| Âéü‰æ°ÔºàUSDÔºâ | | Êï∞ÂÄ§„ÄÅ0‰ª•‰∏ä |
| Ë≤©Â£≤‰æ°Ê†ºÔºàUSDÔºâ | | Êï∞ÂÄ§„ÄÅ0‰ª•‰∏ä |
| Âú®Â∫´Êï∞ | | Êï¥Êï∞„ÄÅ0‰ª•‰∏äÔºàÊúâÂú®Â∫´„ÅÆ„ÅøÔºâ |
| Áä∂ÊÖã | ‚úÖ | new/used/refurbished |
| „Ç´„ÉÜ„Ç¥„É™ | | „ÉÜ„Ç≠„Çπ„Éà |
| ‰ªïÂÖ•ÂÖà | | „ÉÜ„Ç≠„Çπ„ÉàÔºàÁÑ°Âú®Â∫´„ÅÆ„ÅøÔºâ |
| ÁîªÂÉè | | ÊúÄÂ§ß10Êûö„ÄÅÂêÑ5MB‰ª•‰∏ã |

**UIË¶ÅÁ¥†**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚úï Êñ∞Ë¶èÂïÜÂìÅÁôªÈå≤                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ÂïÜÂìÅ„Çø„Ç§„Éó                               ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ üì¶   ‚îÇ ‚îÇ üöö   ‚îÇ ‚îÇ üìö   ‚îÇ ‚îÇ üîÑ   ‚îÇ   ‚îÇ
‚îÇ ‚îÇÊúâÂú®Â∫´‚îÇ ‚îÇÁÑ°Âú®Â∫´‚îÇ ‚îÇ„Çª„ÉÉ„Éà‚îÇ ‚îÇ„Éè„Ç§„Éñ‚îÇ   ‚îÇ
‚îÇ ‚îÇ      ‚îÇ ‚îÇ      ‚îÇ ‚îÇÂïÜÂìÅ  ‚îÇ ‚îÇ„É™„ÉÉ„Éâ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ ÂïÜÂìÅÁîªÂÉè                                 ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ üì∑ ÁîªÂÉè„Çí„Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„Éó            ‚îÇ ‚îÇ
‚îÇ ‚îÇ    „Åæ„Åü„ÅØ„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÈÅ∏Êäû              ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ ÂïÜÂìÅÂêç *                                 ‚îÇ
‚îÇ [_________________________________]    ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ SKU * ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Âéü‰æ°(USD)              ‚îÇ
‚îÇ [__________]    [__________]           ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ Âú®Â∫´Êï∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Áä∂ÊÖã                     ‚îÇ
‚îÇ [__________]    [Êñ∞ÂìÅ ‚ñº]               ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ „Ç´„ÉÜ„Ç¥„É™                                 ‚îÇ
‚îÇ [Electronics___________________________]‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ ÂïÜÂìÅË™¨Êòé                                 ‚îÇ
‚îÇ [_________________________________]    ‚îÇ
‚îÇ [_________________________________]    ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ         [„Ç≠„É£„É≥„Çª„É´] [‰øùÂ≠ò„Åó„Å¶Âá∫ÂìÅ„Å∏]      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**ÂèóÂÖ•Âü∫Ê∫ñ**:
- ‚úÖ SKUÈáçË§áÊôÇ„Å´„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
- ‚úÖ ÁîªÂÉè„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÊôÇ„Å´Ëá™Âãï„É™„Çµ„Ç§„Ç∫Ôºà1000px‰ª•‰∏äÔºâ
- ‚úÖ ‰øùÂ≠òÂæå„Å´„ÄåÂá∫ÂìÅ„Éá„Éº„Çø‰ΩúÊàê„Äç„Éú„Çø„É≥„ÅåÊúâÂäπÂåñ

---

#### **FR-T03: „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê**

**ÂÑ™ÂÖàÂ∫¶**: ‚≠ê‚≠ê‚≠ê‚≠ê (È´ò)

**Ê©üËÉΩ**:
- Ë§áÊï∞ÂïÜÂìÅ„ÇíÈÅ∏Êäû„Åó„Å¶„Çª„ÉÉ„ÉàÂìÅ‰ΩúÊàê
- ÂêÑÊßãÊàêÂìÅ„ÅÆÊï∞Èáè„ÇíË®≠ÂÆö
- „Çª„ÉÉ„ÉàÂú®Â∫´Êï∞„ÇíËá™ÂãïË®àÁÆó
- „Çª„ÉÉ„ÉàË≤©Â£≤‰æ°Ê†º„ÅÆË®≠ÂÆö

**„Éï„É≠„Éº**:
```
1. ÂïÜÂìÅ‰∏ÄË¶ß„ÅßË§áÊï∞ÈÅ∏ÊäûÔºà„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„ÇπÔºâ
   ‚Üí „Äå„Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê„Äç„Éú„Çø„É≥ÊúâÂäπÂåñ
      ‚Üì
2. „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê„É¢„Éº„ÉÄ„É´Ë°®Á§∫
   ‚îú‚îÄ „Çª„ÉÉ„ÉàÂêçÂÖ•Âäõ
   ‚îú‚îÄ ÊßãÊàêÂìÅ„É™„Çπ„ÉàË°®Á§∫
   ‚îÇ  ‚Ä¢ iPhone √ó [1] Âú®Â∫´: 10ÂÄã
   ‚îÇ  ‚Ä¢ AirPods √ó [1] Âú®Â∫´: 15ÂÄã
   ‚îÇ  ‚Ä¢ Watch √ó [1] Âú®Â∫´: 8ÂÄã
   ‚îú‚îÄ ‰ΩúÊàêÂèØËÉΩÊï∞: 8„Çª„ÉÉ„ÉàÔºàËá™ÂãïË®àÁÆóÔºâ
   ‚îî‚îÄ „Çª„ÉÉ„ÉàË≤©Â£≤‰æ°Ê†º: $1,800
      ‚Üì
3. „Äå‰ΩúÊàê„Äç„Éú„Çø„É≥
   ‚Üí inventory_master (type='set') „Å´‰øùÂ≠ò
   ‚Üí set_components „Å´ÊßãÊàêÊÉÖÂ†±‰øùÂ≠ò
      ‚Üì
4. „ÄåÂá∫ÂìÅ„Éá„Éº„Çø‰ΩúÊàê„Äç„Éú„Çø„É≥„Åß /tools/editing „Å∏ÈÅ∑Áßª
```

**UIË¶ÅÁ¥†**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚úï „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ „Çª„ÉÉ„ÉàÂïÜÂìÅÂêç *                            ‚îÇ
‚îÇ [Apple Bundle Set__________________]   ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ÊßãÊàêÂìÅ„Å®Êï∞Èáè                              ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ [üñº] iPhone 14 Pro                 ‚îÇ   ‚îÇ
‚îÇ ‚îÇ      Âú®Â∫´: 10ÂÄã      Êï∞Èáè: [1] ‚ñ≤‚ñº ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ [üñº] AirPods Pro                   ‚îÇ   ‚îÇ
‚îÇ ‚îÇ      Âú®Â∫´: 15ÂÄã      Êï∞Èáè: [1] ‚ñ≤‚ñº ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ [üñº] Apple Watch Series 9          ‚îÇ   ‚îÇ
‚îÇ ‚îÇ      Âú®Â∫´: 8ÂÄã       Êï∞Èáè: [1] ‚ñ≤‚ñº ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ üßÆ ‰ΩúÊàêÂèØËÉΩ„Å™„Çª„ÉÉ„ÉàÊï∞                ‚îÇ   ‚îÇ
‚îÇ ‚îÇ         8 „Çª„ÉÉ„Éà                   ‚îÇ   ‚îÇ
‚îÇ ‚îÇ ‚Äª ÊßãÊàêÂìÅ„ÅÆÂú®Â∫´„Åã„ÇâËá™ÂãïË®àÁÆó          ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ „Çª„ÉÉ„ÉàË≤©Â£≤‰æ°Ê†ºÔºàUSDÔºâ*                    ‚îÇ
‚îÇ [1800.00___________________________]   ‚îÇ
‚îÇ ÂèÇËÄÉ: ÂÄãÂà•ÂêàË®à $1,950.00                 ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ      [„Ç≠„É£„É≥„Çª„É´] [‰ΩúÊàê„Åó„Å¶Âá∫ÂìÅÁîªÈù¢„Å∏]     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**ÂèóÂÖ•Âü∫Ê∫ñ**:
- ‚úÖ „Çª„ÉÉ„ÉàÂú®Â∫´Êï∞„ÅåÊ≠£„Åó„ÅèË®àÁÆó„Åï„Çå„Çã
- ‚úÖ ÊßãÊàêÂìÅ„ÅÆÂú®Â∫´„Åå0„ÅÆÂ†¥Âêà„ÄÅ„Çª„ÉÉ„Éà‰ΩúÊàê‰∏çÂèØ
- ‚úÖ „Çª„ÉÉ„Éà‰ΩúÊàêÂæå„ÄÅËá™Âãï„Åß `/tools/editing` „Å´ÈÅ∑Áßª

---

#### **FR-T04: „Éá„Éº„ÇøÈÄ£Êê∫ÔºàÂá∫ÂìÅ„Éá„Éº„Çø‰ΩúÊàêÔºâ**

**ÂÑ™ÂÖàÂ∫¶**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (ÂøÖÈ†à)

**Ê©üËÉΩ**:
- Ê£öÂç∏„ÅóÁîªÈù¢„Åã„Çâ `/tools/editing` „Å∏„ÅÆ„Éá„Éº„ÇøÂèó„ÅëÊ∏°„Åó
- `inventory_master` ‚Üí `yahoo_scraped_products` ÂΩ¢Âºè„Å∏„ÅÆÂ§âÊèõ
- „Çª„ÉÉ„ÉàÂìÅÊÉÖÂ†±„ÅÆÂºï„ÅçÁ∂ô„Åé

**ÂÆüË£ÖÊñπÊ≥ï**:

```typescript
// /zaiko/tanaoroshi „ÅßÂÆüË°å
const handleSendToEditing = async (productId: string) => {
  const { data: product } = await supabase
    .from('inventory_master')
    .select(`
      *,
      set_components (
        quantity_required,
        component:component_product_id (
          id, product_name, sku, images
        )
      )
    `)
    .eq('id', productId)
    .single()

  // yahoo_scraped_products „Å´ÊåøÂÖ•
  await supabase.from('yahoo_scraped_products').insert({
    source: 'tanaoroshi',
    source_item_id: product.unique_id,
    sku: product.sku,
    title: product.product_name,
    price_jpy: product.cost_price * 150, // USD ‚Üí JPYÊ¶ÇÁÆó
    current_stock: product.physical_quantity,
    scraped_data: {
      images: product.images,
      category: product.category,
      is_set: product.product_type === 'set',
      set_components: product.set_components
    }
  })

  // /tools/editing „Å´ÈÅ∑Áßª
  router.push(`/tools/editing?from=tanaoroshi`)
}
```

**ÂèóÂÖ•Âü∫Ê∫ñ**:
- ‚úÖ ÂïÜÂìÅ„Éá„Éº„Çø„ÅåÊ≠£„Åó„ÅèÂ§âÊèõ„Åï„Çå„Çã
- ‚úÖ „Çª„ÉÉ„ÉàÂìÅ„ÅÆÊßãÊàêÊÉÖÂ†±„ÅåÂºï„ÅçÁ∂ô„Åå„Çå„Çã
- ‚úÖ `/tools/editing` „Åß„Éá„Éº„Çø„ÅåÊ≠£Â∏∏„Å´Ë°®Á§∫„Åï„Çå„Çã

---

### 4.2 Âá∫ÂìÅÁ∑®ÈõÜÁîªÈù¢Ôºà`/tools/editing`ÔºâÊã°Âºµ

#### **FR-E01: „Çª„ÉÉ„ÉàÂìÅÊÉÖÂ†±Ë°®Á§∫**

**ÂÑ™ÂÖàÂ∫¶**: ‚≠ê‚≠ê‚≠ê‚≠ê (È´ò)

**Ê©üËÉΩ**:
- TabFinal „Å´„Çª„ÉÉ„ÉàÂìÅÂ∞ÇÁî®„Çª„ÇØ„Ç∑„Éß„É≥Ë°®Á§∫
- ÊßãÊàêÂìÅ„É™„Çπ„Éà„ÅÆË°®Á§∫
- ÈáçË§áÂá∫ÂìÅË≠¶Âëä„ÅÆË°®Á§∫

**UIË¶ÅÁ¥†** (TabFinal „Å´ËøΩÂä†):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ TabFinal: ÊúÄÁµÇÁ¢∫Ë™ç„ÉªÂá∫ÂìÅÂÆüË°å              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                          ‚îÇ
‚îÇ üìö „Çª„ÉÉ„ÉàÂïÜÂìÅÊÉÖÂ†±                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ „Çª„ÉÉ„ÉàÊßãÊàê:                        ‚îÇ   ‚îÇ
‚îÇ ‚îÇ ‚Ä¢ iPhone 14 Pro √ó 1                ‚îÇ   ‚îÇ
‚îÇ ‚îÇ ‚Ä¢ AirPods Pro √ó 1                  ‚îÇ   ‚îÇ
‚îÇ ‚îÇ ‚Ä¢ Apple Watch Series 9 √ó 1         ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚ö†Ô∏è ÈáçË§áÂá∫ÂìÅ„ÅÆË≠¶Âëä                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ ‰ª•‰∏ã„ÅÆÊßãÊàêÂìÅ„ÅåÊó¢„Å´Âá∫ÂìÅ„Åï„Çå„Å¶„ÅÑ„Åæ„ÅôÔºö ‚îÇ   ‚îÇ
‚îÇ ‚îÇ ‚Ä¢ iPhone 14 Pro (eBayÂá∫ÂìÅID: 123) ‚îÇ   ‚îÇ
‚îÇ ‚îÇ                                    ‚îÇ   ‚îÇ
‚îÇ ‚îÇ „Çª„ÉÉ„ÉàÂìÅÂá∫ÂìÅÊôÇ„Å´Ëá™ÂãïÂÅúÊ≠¢„Åï„Çå„Åæ„Åô„ÄÇ  ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ [üì¶ „Çª„ÉÉ„ÉàÂìÅ„Å®„Åó„Å¶Âá∫ÂìÅ]                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**ÂèóÂÖ•Âü∫Ê∫ñ**:
- ‚úÖ „Çª„ÉÉ„ÉàÂìÅ„ÅÆÂ†¥Âêà„ÄÅÊßãÊàêÂìÅ„É™„Çπ„Éà„ÅåË°®Á§∫„Åï„Çå„Çã
- ‚úÖ ÈáçË§áÂá∫ÂìÅ„Åå„ÅÇ„ÇãÂ†¥Âêà„ÄÅË≠¶Âëä„ÅåË°®Á§∫„Åï„Çå„Çã
- ‚úÖ Âá∫ÂìÅÂÆüË°åÊôÇ„Å´ÊßãÊàêÂìÅ„ÅåËá™ÂãïÂÅúÊ≠¢„Åï„Çå„Çã

---

#### **FR-E02: ÈáçË§áÂá∫ÂìÅ„ÉÅ„Çß„ÉÉ„ÇØ**

**ÂÑ™ÂÖàÂ∫¶**: ‚≠ê‚≠ê‚≠ê‚≠ê (È´ò)

**Ê©üËÉΩ**:
- „Çª„ÉÉ„ÉàÂìÅÂá∫ÂìÅÂâç„Å´ÊßãÊàêÂìÅ„ÅÆÂá∫ÂìÅÁä∂Ê≥Å„Çí„ÉÅ„Çß„ÉÉ„ÇØ
- ÈáçË§á„Åå„ÅÇ„ÇãÂ†¥Âêà„ÄÅ„É¶„Éº„Ç∂„Éº„Å´Á¢∫Ë™ç
- Á¢∫Ë™çÂæå„ÄÅÊßãÊàêÂìÅ„ÇíËá™ÂãïÂÅúÊ≠¢

**ÂÆüË£Ö**:

```typescript
const checkDuplicateListings = async (setComponents: any[]) => {
  const duplicates = []

  for (const comp of setComponents) {
    const { data } = await supabase
      .from('marketplace_listings')
      .select('*')
      .eq('sku', comp.sku)
      .eq('marketplace', 'ebay')
      .eq('status', 'active')

    if (data && data.length > 0) {
      duplicates.push({
        name: comp.product_name,
        listingId: data[0].listing_id
      })
    }
  }

  return duplicates
}

const handlePublishSet = async () => {
  const duplicates = await checkDuplicateListings(setComponents)

  if (duplicates.length > 0) {
    const confirmed = confirm(
      `‚ö†Ô∏è ‰ª•‰∏ã„ÅÆÊßãÊàêÂìÅ„ÅåÊó¢„Å´Âá∫ÂìÅ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n` +
      `„Åì„Çå„Çâ„ÅÆÂá∫ÂìÅ„ÇíËá™ÂãïÂÅúÊ≠¢„Åó„Å¶„Çª„ÉÉ„ÉàÂìÅ„ÇíÂá∫ÂìÅ„Åó„Åæ„Åô„ÅãÔºü\n\n` +
      duplicates.map(d => `‚Ä¢ ${d.name} (ID: ${d.listingId})`).join('\n')
    )

    if (!confirmed) return

    // ÊßãÊàêÂìÅ„ÇíÂÅúÊ≠¢
    for (const dup of duplicates) {
      await stopListing(dup.listingId)
    }
  }

  // „Çª„ÉÉ„ÉàÂìÅ„ÇíÂá∫ÂìÅ
  await publishSetProduct()
}
```

**ÂèóÂÖ•Âü∫Ê∫ñ**:
- ‚úÖ ÈáçË§á„ÉÅ„Çß„ÉÉ„ÇØ„ÅåÊ≠£„Åó„ÅèÂãï‰Ωú„Åô„Çã
- ‚úÖ „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™çÂæå„Å´ÊßãÊàêÂìÅ„ÅåÂÅúÊ≠¢„Åï„Çå„Çã
- ‚úÖ „Çª„ÉÉ„ÉàÂìÅ„ÅåÊ≠£Â∏∏„Å´Âá∫ÂìÅ„Åï„Çå„Çã

---

### 4.3 ÂèóÊ≥®ÈÄ£ÂãïÊ©üËÉΩ

#### **FR-O01: ÂèóÊ≥®WebhookÂá¶ÁêÜ**

**ÂÑ™ÂÖàÂ∫¶**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (ÂøÖÈ†à)

**Ê©üËÉΩ**:
- eBay/AmazonÁ≠â„ÅÆÂèóÊ≥®ÈÄöÁü•„ÇíÂèó‰ø°
- SKU„ÅßÂú®Â∫´„ÇíÊ§úÁ¥¢
- Âú®Â∫´Êï∞„ÇíËá™ÂãïÊ∏õÁÆó
- Â±•Ê≠¥„ÇíË®òÈå≤

**ÂÆüË£Ö**:

```typescript
// app/api/orders/webhook/route.ts
export async function POST(req: Request) {
  const order = await req.json()

  // SKU„ÅßÂïÜÂìÅÊ§úÁ¥¢
  const { data: product } = await supabase
    .from('inventory_master')
    .select('*')
    .eq('sku', order.sku)
    .single()

  if (!product) {
    return NextResponse.json({ error: 'Product not found' }, { status: 404 })
  }

  // Âú®Â∫´Ê∏õÁÆó
  const newQuantity = product.physical_quantity - order.quantity

  await supabase
    .from('inventory_master')
    .update({ physical_quantity: newQuantity })
    .eq('id', product.id)

  // Â±•Ê≠¥Ë®òÈå≤
  await supabase
    .from('inventory_changes')
    .insert({
      product_id: product.id,
      change_type: 'sale',
      quantity_before: product.physical_quantity,
      quantity_after: newQuantity,
      source: `${order.marketplace}_order_${order.orderId}`,
      metadata: {
        order_id: order.orderId,
        marketplace: order.marketplace,
        buyer: order.buyerName
      }
    })

  return NextResponse.json({ success: true })
}
```

**ÂèóÂÖ•Âü∫Ê∫ñ**:
- ‚úÖ ÂèóÊ≥®ÈÄöÁü•„ÇíÊ≠£„Åó„ÅèÂá¶ÁêÜ„Åß„Åç„Çã
- ‚úÖ Âú®Â∫´Êï∞„ÅåÊ≠£Á¢∫„Å´Ê∏õÁÆó„Åï„Çå„Çã
- ‚úÖ Â±•Ê≠¥„ÅåÊ≠£„Åó„ÅèË®òÈå≤„Åï„Çå„Çã

---

## 5. UI/UXË®≠Ë®à

### 5.1 „Éá„Ç∂„Ç§„É≥„Ç∑„Çπ„ÉÜ„É†

**„Ç´„É©„Éº„Éë„É¨„ÉÉ„Éà**:
```css
:root {
  /* Primary */
  --color-primary: #3b82f6;      /* Blue 500 */
  --color-primary-dark: #2563eb; /* Blue 600 */

  /* ÂïÜÂìÅ„Çø„Ç§„ÉóÂà•„Ç´„É©„Éº */
  --inventory-stock: #16a34a;    /* Green 600 - ÊúâÂú®Â∫´ */
  --inventory-dropship: #9333ea; /* Purple 600 - ÁÑ°Âú®Â∫´ */
  --inventory-set: #f59e0b;      /* Amber 500 - „Çª„ÉÉ„ÉàÂìÅ */
  --inventory-hybrid: #06b6d4;   /* Cyan 500 - „Éè„Ç§„Éñ„É™„ÉÉ„Éâ */

  /* Status */
  --color-success: #22c55e;      /* Green 500 */
  --color-warning: #f59e0b;      /* Amber 500 */
  --color-danger: #ef4444;       /* Red 500 */

  /* Neutral */
  --color-slate-50: #f8fafc;
  --color-slate-100: #f1f5f9;
  --color-slate-600: #475569;
  --color-slate-900: #0f172a;
}
```

**„Çø„Ç§„Éù„Ç∞„É©„Éï„Ç£**:
```css
/* „Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„Éº */
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

/* „Éï„Ç©„É≥„Éà„Çµ„Ç§„Ç∫ */
--text-xs: 0.75rem;    /* 12px */
--text-sm: 0.875rem;   /* 14px */
--text-base: 1rem;     /* 16px */
--text-lg: 1.125rem;   /* 18px */
--text-xl: 1.25rem;    /* 20px */
--text-2xl: 1.5rem;    /* 24px */
```

**„Çπ„Éö„Éº„Ç∑„É≥„Ç∞**:
```css
--space-xs: 0.25rem;   /* 4px */
--space-sm: 0.5rem;    /* 8px */
--space-md: 1rem;      /* 16px */
--space-lg: 1.5rem;    /* 24px */
--space-xl: 2rem;      /* 32px */
```

### 5.2 „Ç≥„É≥„Éù„Éº„Éç„É≥„Éà‰∏ÄË¶ß

| „Ç≥„É≥„Éù„Éº„Éç„É≥„Éà | „Éï„Ç°„Ç§„É´„Éë„Çπ | Ë™¨Êòé |
|--------------|-------------|------|
| `ProductCard` | `components/inventory/ProductCard.tsx` | ÂïÜÂìÅ„Ç´„Éº„ÉâË°®Á§∫ |
| `ProductRegistrationModal` | `components/inventory/ProductRegistrationModal.tsx` | ÂïÜÂìÅÁôªÈå≤„É¢„Éº„ÉÄ„É´ |
| `SetProductModal` | `components/inventory/SetProductModal.tsx` | „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê„É¢„Éº„ÉÄ„É´ |
| `StatsHeader` | `components/inventory/StatsHeader.tsx` | Áµ±Ë®à„Éò„ÉÉ„ÉÄ„Éº |
| `FilterPanel` | `components/inventory/FilterPanel.tsx` | „Éï„Ç£„É´„Çø„Éº„Éë„Éç„É´ |
| `ProductTypeBadge` | `components/inventory/ProductTypeBadge.tsx` | ÂïÜÂìÅ„Çø„Ç§„Éó„Éê„ÉÉ„Ç∏ |
| `ImageUploader` | `components/inventory/ImageUploader.tsx` | ÁîªÂÉè„Ç¢„ÉÉ„Éó„É≠„Éº„ÉÄ„Éº |

---

## 6. ÈñãÁô∫„Éï„Çß„Éº„Ç∫

### Phase 1-1: „Éá„Éº„Çø„Éô„Éº„Çπ„ÉªÂü∫Êú¨UIÔºà2ÈÄ±ÈñìÔºâ

**Week 1**:
- ‚úÖ Supabase„Éû„Ç§„Ç∞„É¨„Éº„Ç∑„Éß„É≥ÂÆüË°å
  - `inventory_master`
  - `set_components`
  - `inventory_changes`
  - „Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ‰ΩúÊàê
  - RLS „Éù„É™„Ç∑„ÉºË®≠ÂÆö
- ‚úÖ `/zaiko/tanaoroshi` „Éö„Éº„Ç∏È™®ÁµÑ„Åø‰ΩúÊàê
- ‚úÖ `ProductCard` „Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÂÆüË£Ö
- ‚úÖ `StatsHeader` „Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÂÆüË£Ö

**Week 2**:
- ‚úÖ ÂïÜÂìÅ‰∏ÄË¶ßË°®Á§∫Ê©üËÉΩÔºà„Ç´„Éº„Éâ„Éì„É•„ÉºÔºâ
- ‚úÖ „ÉÜ„Éº„Éñ„É´„Éì„É•„ÉºÂÆüË£Ö
- ‚úÖ „Éï„Ç£„É´„Çø„ÉºÊ©üËÉΩÔºàÂïÜÂìÅ„Çø„Ç§„Éó„ÄÅ„Ç´„ÉÜ„Ç¥„É™„ÄÅÂú®Â∫´Áä∂ÊÖãÔºâ
- ‚úÖ Ê§úÁ¥¢Ê©üËÉΩÔºàSKU„ÄÅÂïÜÂìÅÂêçÔºâ
- ‚úÖ „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥

**ÊàêÊûúÁâ©**:
- „Éá„Éº„Çø„Éô„Éº„Çπ„Çπ„Ç≠„Éº„ÉûÂÆåÊàê
- ÂïÜÂìÅ‰∏ÄË¶ßÁîªÈù¢„ÅÆÂü∫Êú¨Ê©üËÉΩÂÆåÊàê

---

### Phase 1-2: ÂïÜÂìÅÁôªÈå≤„ÉªÈÄ£Êê∫Ôºà2ÈÄ±ÈñìÔºâ

**Week 3**:
- ‚úÖ `ProductRegistrationModal` ÂÆüË£Ö
  - ÂïÜÂìÅ„Çø„Ç§„ÉóÈÅ∏ÊäûUI
  - ÁîªÂÉè„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÊ©üËÉΩ
  - „Éê„É™„Éá„Éº„Ç∑„Éß„É≥
  - SKUÈáçË§á„ÉÅ„Çß„ÉÉ„ÇØ
- ‚úÖ ÁîªÂÉè„É™„Çµ„Ç§„Ç∫Âá¶ÁêÜÔºàSupabase Storage„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÔºâ
- ‚úÖ ÂïÜÂìÅÁôªÈå≤APIÂÆüË£Ö

**Week 4**:
- ‚úÖ „ÄåÂá∫ÂìÅ„Éá„Éº„Çø‰ΩúÊàê„Äç„Éú„Çø„É≥ÂÆüË£Ö
- ‚úÖ `/tools/editing` „Å∏„ÅÆ„Éá„Éº„ÇøÂèó„ÅëÊ∏°„Åó
- ‚úÖ `inventory_master` ‚Üí `yahoo_scraped_products` Â§âÊèõ„É≠„Ç∏„ÉÉ„ÇØ
- ‚úÖ `/tools/editing` „Åß„ÅÆ„Éá„Éº„ÇøÂèóÂèñÂá¶ÁêÜ

**ÊàêÊûúÁâ©**:
- ÂïÜÂìÅÁôªÈå≤Ê©üËÉΩÂÆåÊàê
- Ê£öÂç∏„Åó ‚Üî Âá∫ÂìÅÁ∑®ÈõÜ„ÅÆÈÄ£Êê∫ÂÆåÊàê

---

### Phase 1-3: „Çª„ÉÉ„ÉàÂïÜÂìÅÊ©üËÉΩÔºà2ÈÄ±ÈñìÔºâ

**Week 5**:
- ‚úÖ Ë§áÊï∞ÂïÜÂìÅÈÅ∏ÊäûUIÔºà„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„ÇπÔºâ
- ‚úÖ `SetProductModal` ÂÆüË£Ö
  - „Çª„ÉÉ„ÉàÂêçÂÖ•Âäõ
  - ÊßãÊàêÂìÅ„É™„Çπ„ÉàË°®Á§∫
  - Êï∞ÈáèË®≠ÂÆöUI
  - „Çª„ÉÉ„ÉàÂú®Â∫´Ëá™ÂãïË®àÁÆó
  - „Çª„ÉÉ„ÉàË≤©Â£≤‰æ°Ê†ºÂÖ•Âäõ
- ‚úÖ `set_components` „ÉÜ„Éº„Éñ„É´ÈÄ£Êê∫
- ‚úÖ `calculate_set_available_quantity()` Èñ¢Êï∞„ÉÜ„Çπ„Éà

**Week 6**:
- ‚úÖ `/tools/editing` „Åß„ÅÆ„Çª„ÉÉ„ÉàÂìÅÊ§úÂá∫
- ‚úÖ `TabFinal` „Å´„Çª„ÉÉ„ÉàÂìÅÊÉÖÂ†±Ë°®Á§∫
- ‚úÖ ÈáçË§áÂá∫ÂìÅ„ÉÅ„Çß„ÉÉ„ÇØÊ©üËÉΩ
- ‚úÖ ÊßãÊàêÂìÅËá™ÂãïÂÅúÊ≠¢„É≠„Ç∏„ÉÉ„ÇØ
- ‚úÖ „Çª„ÉÉ„ÉàÂìÅÂá∫ÂìÅAPIÂÆüË£Ö

**ÊàêÊûúÁâ©**:
- „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê„ÉªÂá∫ÂìÅÊ©üËÉΩÂÆåÊàê

---

### Phase 1-4: ÂèóÊ≥®ÈÄ£Âãï„ÉªÊúÄÁµÇË™øÊï¥Ôºà1ÈÄ±ÈñìÔºâ

**Week 7**:
- ‚úÖ `/api/orders/webhook` ÂÆüË£Ö
- ‚úÖ Âú®Â∫´Ëá™ÂãïÊ∏õÁÆó„É≠„Ç∏„ÉÉ„ÇØ
- ‚úÖ `inventory_changes` Â±•Ê≠¥Ë®òÈå≤
- ‚úÖ WebSocketÈÄöÁü•ÂÆüË£ÖÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
- ‚úÖ „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞Âº∑Âåñ
- ‚úÖ „É≠„Ç∞Ê©üËÉΩÂÆüË£Ö

**ÊàêÊûúÁâ©**:
- ÂèóÊ≥®ÈÄ£ÂãïÊ©üËÉΩÂÆåÊàê
- „Ç∑„Çπ„ÉÜ„É†ÂÖ®‰Ωì„ÅÆÁµ±Âêà„ÉÜ„Çπ„ÉàÂÆå‰∫Ü

---

## 7. ÊäÄË°ì‰ªïÊßò

### 7.1 ÊäÄË°ì„Çπ„Çø„ÉÉ„ÇØ

| „Ç´„ÉÜ„Ç¥„É™ | ÊäÄË°ì | „Éê„Éº„Ç∏„Éß„É≥ |
|---------|------|-----------|
| **„Éï„É≠„É≥„Éà„Ç®„É≥„Éâ** | Next.js | 14.2.x |
| **Ë®ÄË™û** | TypeScript | 5.x |
| **UI„É©„Ç§„Éñ„É©„É™** | shadcn/ui | latest |
| **„Éá„Éº„Çø„Éô„Éº„Çπ** | Supabase (PostgreSQL) | 15.x |
| **Ë™çË®º** | Supabase Auth | latest |
| **„Çπ„Éà„É¨„Éº„Ç∏** | Supabase Storage | latest |
| **„Çπ„Çø„Ç§„É™„É≥„Ç∞** | Tailwind CSS | 3.x |
| **„Éï„Ç©„Éº„É†ÁÆ°ÁêÜ** | React Hook Form | 7.x |
| **„Éê„É™„Éá„Éº„Ç∑„Éß„É≥** | Zod | 3.x |
| **Áä∂ÊÖãÁÆ°ÁêÜ** | React Context + Hooks | - |

### 7.2 „Éá„Ç£„É¨„ÇØ„Éà„É™ÊßãÊàê

```
app/
‚îú‚îÄ‚îÄ zaiko/
‚îÇ   ‚îî‚îÄ‚îÄ tanaoroshi/
‚îÇ       ‚îú‚îÄ‚îÄ page.tsx                    # „É°„Ç§„É≥„Éö„Éº„Ç∏
‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.tsx         # ÂïÜÂìÅ„Ç´„Éº„Éâ
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ProductRegistrationModal.tsx  # ÂïÜÂìÅÁôªÈå≤„É¢„Éº„ÉÄ„É´
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ SetProductModal.tsx     # „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê„É¢„Éº„ÉÄ„É´
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ StatsHeader.tsx         # Áµ±Ë®à„Éò„ÉÉ„ÉÄ„Éº
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ FilterPanel.tsx         # „Éï„Ç£„É´„Çø„Éº„Éë„Éç„É´
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ImageUploader.tsx       # ÁîªÂÉè„Ç¢„ÉÉ„Éó„É≠„Éº„ÉÄ„Éº
‚îÇ       ‚îî‚îÄ‚îÄ hooks/
‚îÇ           ‚îú‚îÄ‚îÄ useInventoryData.ts     # Âú®Â∫´„Éá„Éº„ÇøÂèñÂæó
‚îÇ           ‚îî‚îÄ‚îÄ useSetCreation.ts       # „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê
‚îÇ
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îî‚îÄ‚îÄ editing/
‚îÇ       ‚îú‚îÄ‚îÄ page.tsx                    # Êó¢Â≠ò
‚îÇ       ‚îî‚îÄ‚îÄ components/
‚îÇ           ‚îî‚îÄ‚îÄ ProductModal.tsx        # Êã°Âºµ: „Çª„ÉÉ„ÉàÂìÅÂØæÂøú
‚îÇ
‚îî‚îÄ‚îÄ api/
    ‚îú‚îÄ‚îÄ inventory/
    ‚îÇ   ‚îú‚îÄ‚îÄ route.ts                    # GET/POST
    ‚îÇ   ‚îî‚îÄ‚îÄ [id]/route.ts               # PUT/DELETE
    ‚îú‚îÄ‚îÄ inventory/
    ‚îÇ   ‚îî‚îÄ‚îÄ set/route.ts                # „Çª„ÉÉ„ÉàÂìÅ‰ΩúÊàê
    ‚îî‚îÄ‚îÄ orders/
        ‚îî‚îÄ‚îÄ webhook/route.ts            # ÂèóÊ≥®Webhook

components/
‚îî‚îÄ‚îÄ inventory/                          # ÂÖ±ÈÄö„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà
    ‚îú‚îÄ‚îÄ ProductTypeBadge.tsx
    ‚îî‚îÄ‚îÄ StockIndicator.tsx

lib/
‚îú‚îÄ‚îÄ supabase/
‚îÇ   ‚îî‚îÄ‚îÄ inventory.ts                    # Âú®Â∫´Èñ¢ÈÄ£„Éò„É´„Éë„Éº
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ imageResize.ts                  # ÁîªÂÉè„É™„Çµ„Ç§„Ç∫
    ‚îî‚îÄ‚îÄ setCalculation.ts               # „Çª„ÉÉ„ÉàÂú®Â∫´Ë®àÁÆó

types/
‚îî‚îÄ‚îÄ inventory.ts                        # Âú®Â∫´Èñ¢ÈÄ£ÂûãÂÆöÁæ©
```

### 7.3 API‰ªïÊßò

#### **GET /api/inventory**

**Ë™¨Êòé**: Âú®Â∫´‰∏ÄË¶ßÂèñÂæó

**Query Parameters**:
```typescript
{
  product_type?: 'stock' | 'dropship' | 'set' | 'hybrid'
  search?: string          // SKU„Åæ„Åü„ÅØÂïÜÂìÅÂêç„ÅßÊ§úÁ¥¢
  category?: string
  stock_status?: 'in_stock' | 'out_of_stock'
  limit?: number           // „Éá„Éï„Ç©„É´„Éà: 50
  offset?: number          // „Éá„Éï„Ç©„É´„Éà: 0
}
```

**Response**:
```typescript
{
  data: InventoryProduct[]
  total: number
  limit: number
  offset: number
}
```

---

#### **POST /api/inventory**

**Ë™¨Êòé**: ÂïÜÂìÅÁôªÈå≤

**Request Body**:
```typescript
{
  product_name: string
  sku: string
  product_type: 'stock' | 'dropship' | 'set' | 'hybrid'
  cost_price: number
  selling_price?: number
  physical_quantity: number
  condition_name: 'new' | 'used' | 'refurbished'
  category?: string
  images: string[]           // Supabase Storage URLs
  supplier_info?: {          // ÁÑ°Âú®Â∫´„ÅÆÂ†¥Âêà
    url: string
    tracking_id?: string
  }
}
```

**Response**:
```typescript
{
  success: true
  data: InventoryProduct
}
```

---

#### **POST /api/inventory/set**

**Ë™¨Êòé**: „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê

**Request Body**:
```typescript
{
  product_name: string
  sku: string
  selling_price: number
  components: Array<{
    product_id: string
    quantity: number
  }>
}
```

**Response**:
```typescript
{
  success: true
  data: {
    set_product: InventoryProduct
    calculated_stock: number
  }
}
```

---

#### **POST /api/orders/webhook**

**Ë™¨Êòé**: ÂèóÊ≥®ÈÄöÁü•Âèó‰ø°

**Request Body**:
```typescript
{
  marketplace: 'ebay' | 'amazon' | 'shopee'
  order_id: string
  sku: string
  quantity: number
  buyer_name: string
}
```

**Response**:
```typescript
{
  success: true
  updated_stock: number
}
```

---

## 8. „ÉÜ„Çπ„ÉàË®àÁîª

### 8.1 „É¶„Éã„ÉÉ„Éà„ÉÜ„Çπ„Éà

**ÂØæË±°**:
- `lib/utils/setCalculation.ts` - „Çª„ÉÉ„ÉàÂú®Â∫´Ë®àÁÆó
- `lib/utils/imageResize.ts` - ÁîªÂÉè„É™„Çµ„Ç§„Ç∫
- „Éê„É™„Éá„Éº„Ç∑„Éß„É≥Èñ¢Êï∞

**„ÉÑ„Éº„É´**: Jest + React Testing Library

**„Ç´„Éê„É¨„ÉÉ„Ç∏ÁõÆÊ®ô**: 80%‰ª•‰∏ä

---

### 8.2 Áµ±Âêà„ÉÜ„Çπ„Éà

**„Ç∑„Éä„É™„Ç™**:

**Test Case 1: ÂïÜÂìÅÁôªÈå≤ ‚Üí Âá∫ÂìÅ„Éï„É≠„Éº**
```
1. ÂïÜÂìÅÁôªÈå≤„É¢„Éº„ÉÄ„É´„ÇíÈñã„Åè
2. SKU„ÄÅÂéü‰æ°„ÄÅÂú®Â∫´Êï∞„ÇíÂÖ•Âäõ
3. ÁîªÂÉè„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ
4. „Äå‰øùÂ≠ò„Äç„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ
5. inventory_master „Å´‰øùÂ≠ò„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
6. „ÄåÂá∫ÂìÅ„Éá„Éº„Çø‰ΩúÊàê„Äç„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ
7. /tools/editing „Å´ÈÅ∑Áßª„Åô„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
8. „Éá„Éº„Çø„ÅåÊ≠£„Åó„ÅèË°®Á§∫„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
```

**Test Case 2: „Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê ‚Üí Âá∫ÂìÅ**
```
1. ÂïÜÂìÅA, B, C„ÇíÈÅ∏Êäû
2. „Äå„Çª„ÉÉ„ÉàÂïÜÂìÅ‰ΩúÊàê„Äç„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ
3. „Çª„ÉÉ„ÉàÂêç„ÄÅÊï∞Èáè„ÇíÂÖ•Âäõ
4. „Çª„ÉÉ„ÉàÂú®Â∫´Êï∞„ÅåÊ≠£„Åó„ÅèË®àÁÆó„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
5. „Äå‰ΩúÊàê„Äç„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ
6. set_components „ÉÜ„Éº„Éñ„É´„Å´‰øùÂ≠ò„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
7. /tools/editing „Å´ÈÅ∑Áßª
8. „Çª„ÉÉ„ÉàÂìÅÊÉÖÂ†±„ÅåË°®Á§∫„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
9. ÈáçË§á„ÉÅ„Çß„ÉÉ„ÇØ„ÅåÂãï‰Ωú„Åô„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
10. Âá∫ÂìÅÂÆüË°å„ÅßÊßãÊàêÂìÅ„ÅåÂÅúÊ≠¢„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
```

**Test Case 3: ÂèóÊ≥®ÈÄ£Âãï**
```
1. Âú®Â∫´10ÂÄã„ÅÆÂïÜÂìÅ„ÇíÊ∫ñÂÇô
2. ÂèóÊ≥®Webhook„ÇíÈÄÅ‰ø°Ôºàquantity: 1Ôºâ
3. Âú®Â∫´„Åå9ÂÄã„Å´Ê∏õÁÆó„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
4. inventory_changes „Å´Â±•Ê≠¥„ÅåË®òÈå≤„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
```

---

### 8.3 E2E„ÉÜ„Çπ„Éà

**„ÉÑ„Éº„É´**: Playwright

**„Ç∑„Éä„É™„Ç™**:
```
E2E-1: ÂÆåÂÖ®„Å™Âá∫ÂìÅ„Éï„É≠„Éº
  ‚îú‚îÄ ÂïÜÂìÅÁôªÈå≤
  ‚îú‚îÄ Âá∫ÂìÅ„Éá„Éº„ÇøÁ∑®ÈõÜ
  ‚îú‚îÄ eBayÂá∫ÂìÅ
  ‚îî‚îÄ ÂèóÊ≥® ‚Üí Âú®Â∫´Ê∏õÁÆó

E2E-2: „Çª„ÉÉ„ÉàÂìÅ„ÅÆÂÆåÂÖ®„Éï„É≠„Éº
  ‚îú‚îÄ ÂçòÂìÅÁôªÈå≤√ó3
  ‚îú‚îÄ „Çª„ÉÉ„Éà‰ΩúÊàê
  ‚îú‚îÄ „Çª„ÉÉ„ÉàÂá∫ÂìÅ
  ‚îú‚îÄ ÈáçË§áÂÅúÊ≠¢Á¢∫Ë™ç
  ‚îî‚îÄ „Çª„ÉÉ„ÉàÂèóÊ≥® ‚Üí ÊßãÊàêÂìÅÂú®Â∫´Ê∏õÁÆó
```

---

## 9. „Éá„Éó„É≠„Ç§Ë®àÁîª

### 9.1 Áí∞Â¢É

| Áí∞Â¢É | URL | Áî®ÈÄî |
|------|-----|------|
| **ÈñãÁô∫** | `localhost:3000` | „É≠„Éº„Ç´„É´ÈñãÁô∫ |
| **„Çπ„ÉÜ„Éº„Ç∏„É≥„Ç∞** | `https://staging.n3.emverze.com` | „ÉÜ„Çπ„ÉàÁí∞Â¢É |
| **Êú¨Áï™** | `https://n3.emverze.com` | Êú¨Áï™Áí∞Â¢É |

### 9.2 „Éá„Éó„É≠„Ç§„Éï„É≠„Éº

```
1. ÈñãÁô∫„Éñ„É©„É≥„ÉÅÔºàclaude/tanaoroshi-systemÔºâ„ÅßÈñãÁô∫
   ‚Üì
2. Pull Request‰ΩúÊàê
   ‚Üì
3. „É¨„Éì„É•„Éº + Ëá™Âãï„ÉÜ„Çπ„ÉàÂÆüË°å
   ‚Üì
4. main„Éñ„É©„É≥„ÉÅ„Å´„Éû„Éº„Ç∏
   ‚Üì
5. VercelËá™Âãï„Éá„Éó„É≠„Ç§ÔºàÊú¨Áï™Ôºâ
   ‚Üì
6. VPS„Åßpm2 restartÔºàÁèæÂú®„ÅÆÈÅãÁî®Ôºâ
```

### 9.3 „É≠„Éº„É´„Éê„ÉÉ„ÇØË®àÁîª

**ÊâãÈ†Ü**:
```bash
# VPS‰∏ä„ÅßÂÆüË°å
cd /home/ubuntu/n3-frontend_new
git log --oneline -10  # Áõ¥Ââç„ÅÆ„Ç≥„Éü„ÉÉ„Éà„ÇíÁ¢∫Ë™ç
git checkout <Ââç„ÅÆ„Ç≥„Éü„ÉÉ„ÉàID>
npm run build
pm2 restart n3-frontend
```

---

## 10. „É™„Çπ„ÇØÁÆ°ÁêÜ

### 10.1 ÊäÄË°ìÁöÑ„É™„Çπ„ÇØ

| „É™„Çπ„ÇØ | ÂΩ±ÈüøÂ∫¶ | ÂØæÁ≠ñ |
|--------|--------|------|
| **ÁîªÂÉè„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„ÅÆÂ§±Êïó** | ‰∏≠ | - „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞Âº∑Âåñ<br>- „É™„Éà„É©„Ç§Ê©üËÉΩÂÆüË£Ö<br>- Supabase StorageÂÆπÈáèÁõ£Ë¶ñ |
| **„Çª„ÉÉ„ÉàÂú®Â∫´Ë®àÁÆó„ÅÆ‰∏çÊï¥Âêà** | È´ò | - „Çπ„Éà„Ç¢„ÉâÈñ¢Êï∞„Åß„ÅÆ„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥‰øùË®º<br>- ÂÆöÊúüÁöÑ„Å™Âú®Â∫´Êï¥ÂêàÊÄß„ÉÅ„Çß„ÉÉ„ÇØ |
| **ÂèóÊ≥®WebhookÂèñ„Çä„Åì„Åº„Åó** | È´ò | - WebhookÂÜçÈÄÅÊ©üËÉΩ<br>- „É≠„Ç∞Ë®òÈå≤<br>- ÊâãÂãïË£úÊ≠£UI |
| **Â§ßÈáè„Éá„Éº„Çø„Åß„ÅÆ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ‰Ωé‰∏ã** | ‰∏≠ | - „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥<br>- „Ç§„É≥„Éá„ÉÉ„ÇØ„ÇπÊúÄÈÅ©Âåñ<br>- „Ç≠„É£„ÉÉ„Ç∑„É≥„Ç∞ |

### 10.2 ÈÅãÁî®„É™„Çπ„ÇØ

| „É™„Çπ„ÇØ | ÂΩ±ÈüøÂ∫¶ | ÂØæÁ≠ñ |
|--------|--------|------|
| **„É¶„Éº„Ç∂„Éº„ÅÆÊìç‰Ωú„Éü„Çπ** | ‰∏≠ | - Á¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞Ë°®Á§∫<br>- Êìç‰ΩúÂ±•Ê≠¥Ë®òÈå≤<br>- UndoÊ©üËÉΩÔºàÂ∞ÜÊù•ÂÆüË£ÖÔºâ |
| **„Éá„Éº„ÇøÊ∂àÂ§±** | È´ò | - SupabaseËá™Âãï„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó<br>- ÂÆöÊúüÁöÑ„Å™ÊâãÂãï„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó |
| **APIÂà∂ÈôêË∂ÖÈÅé** | ‰∏≠ | - „É¨„Éº„ÉàÂà∂ÈôêÁõ£Ë¶ñ<br>- „Ç¢„É©„Éº„ÉàË®≠ÂÆö |

---

## 11. ÊàêÂäüÂü∫Ê∫ñ

### 11.1 Ê©üËÉΩÈù¢

- ‚úÖ ÂïÜÂìÅÁôªÈå≤„Åã„ÇâÂá∫ÂìÅ„Åæ„Åß„ÅÆ„Éï„É≠„Éº„Åå5ÂàÜ‰ª•ÂÜÖ„ÅßÂÆå‰∫Ü
- ‚úÖ „Çª„ÉÉ„ÉàÂïÜÂìÅ„ÅÆÂú®Â∫´„ÅåÊ≠£Á¢∫„Å´Ë®àÁÆó„Åï„Çå„ÇãÔºàË™§Â∑Æ0%Ôºâ
- ‚úÖ ÂèóÊ≥®„Åã„ÇâÂú®Â∫´Ê∏õÁÆó„Åæ„Åß30Áßí‰ª•ÂÜÖ
- ‚úÖ 100‰ª∂‰ª•‰∏ä„ÅÆÂïÜÂìÅ„Çí1Áßí‰ª•ÂÜÖ„Å´Ë°®Á§∫

### 11.2 ÂìÅË≥™Èù¢

- ‚úÖ „É¶„Éã„ÉÉ„Éà„ÉÜ„Çπ„Éà„Ç´„Éê„É¨„ÉÉ„Ç∏80%‰ª•‰∏ä
- ‚úÖ E2E„ÉÜ„Çπ„ÉàÂÖ®„Ç∑„Éä„É™„Ç™Pass
- ‚úÖ Lighthouse Performance Score 90‰ª•‰∏ä
- ‚úÖ „Ç®„É©„ÉºÁô∫ÁîüÁéá1%Êú™Ê∫Ä

### 11.3 „Éì„Ç∏„Éç„ÇπÈù¢

- ‚úÖ Âú®Â∫´ÁÆ°ÁêÜÂ∑•Êï∞„Çí50%ÂâäÊ∏õ
- ‚úÖ ÈáçË§áÂá∫ÂìÅ„Éü„Çπ„Çí0‰ª∂„Å´
- ‚úÖ Âú®Â∫´‰∏çË∂≥„Å´„Çà„ÇãÊ©ü‰ºöÊêçÂ§±„Çí30%ÂâäÊ∏õ

---

## 12. ‰ªäÂæå„ÅÆÊã°ÂºµË®àÁîª

### Phase 2Ôºà3„É∂ÊúàÂæåÔºâ

- Amazon SP-APIÈÄ£Êê∫
- Shopee APIÈÄ£Êê∫
- Coupang APIÈÄ£Êê∫
- Âú®Â∫´Ëá™ÂãïË£úÂÖÖ„Ç¢„É©„Éº„Éà

### Phase 3Ôºà6„É∂ÊúàÂæåÔºâ

- ‰ªïÂÖ•ÂÖàËá™ÂãïÁô∫Ê≥®
- Â§öË®ÄË™ûÂØæÂøúÔºàËã±Ë™û„ÄÅ‰∏≠ÂõΩË™ûÔºâ
- „É¢„Éê„Ç§„É´„Ç¢„Éó„É™
- AIÂú®Â∫´‰∫àÊ∏¨

---

## 13. ÈñãÁô∫„É™„ÇΩ„Éº„Çπ

### 13.1 ÈñãÁô∫‰ΩìÂà∂

| ÂΩπÂâ≤ | ÊãÖÂΩìËÄÖ | Â∑•Êï∞ |
|------|--------|------|
| **„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Éû„Éç„Éº„Ç∏„É£„Éº** | User | ÂÖ®ÊúüÈñì |
| **„Éï„É≠„É≥„Éà„Ç®„É≥„ÉâÈñãÁô∫** | Claude | 6ÈÄ±Èñì |
| **„Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâÈñãÁô∫** | Claude | 6ÈÄ±Èñì |
| **UI/UX„Éá„Ç∂„Ç§„É≥** | Claude | 2ÈÄ±Èñì |
| **„ÉÜ„Çπ„Éà** | Claude | 1ÈÄ±Èñì |

### 13.2 „Çπ„Ç±„Ç∏„É•„Éº„É´

```
Week 1-2: Phase 1-1 („Éá„Éº„Çø„Éô„Éº„Çπ„ÉªÂü∫Êú¨UI)
Week 3-4: Phase 1-2 (ÂïÜÂìÅÁôªÈå≤„ÉªÈÄ£Êê∫)
Week 5-6: Phase 1-3 („Çª„ÉÉ„ÉàÂïÜÂìÅÊ©üËÉΩ)
Week 7:   Phase 1-4 (ÂèóÊ≥®ÈÄ£Âãï„ÉªÊúÄÁµÇË™øÊï¥)
```

**ÂÆåÊàê‰∫àÂÆöÊó•**: 2025Âπ¥12Êúà8Êó•

---

## 14. ÊâøË™ç

| ÊâøË™çËÄÖ | ÂΩπÂâ≤ | ÊâøË™çÊó• |
|--------|------|--------|
| User | „Éó„É≠„ÉÄ„ÇØ„Éà„Ç™„Éº„Éä„Éº | 2025-10-26 |

---

**‰ª•‰∏ä„ÄÅÊ£öÂç∏„ÅóÔºàÂú®Â∫´ÔºâÁµ±Âêà„Ç∑„Çπ„ÉÜ„É†ÈñãÁô∫Ë®àÁîªÊõ∏**
