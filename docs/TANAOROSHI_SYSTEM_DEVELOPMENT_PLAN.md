# ğŸ“¦ æ£šå¸ã—ï¼ˆåœ¨åº«ï¼‰çµ±åˆã‚·ã‚¹ãƒ†ãƒ  é–‹ç™ºè¨ˆç”»æ›¸

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: å¤šè²©è·¯çµ±åˆæ£šå¸ã—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
**ä½œæˆæ—¥**: 2025å¹´10æœˆ26æ—¥
**é–‹ç™ºæœŸé–“**: 6é€±é–“ï¼ˆPhase 1-1 ï½ Phase 1-4ï¼‰
**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Next.js 14 + Supabase + TypeScript

---

## ğŸ“‹ ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“åƒ](#2-ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“åƒ)
3. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#3-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
4. [æ©Ÿèƒ½è¦ä»¶](#4-æ©Ÿèƒ½è¦ä»¶)
5. [UI/UXè¨­è¨ˆ](#5-uiuxè¨­è¨ˆ)
6. [é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º](#6-é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º)
7. [æŠ€è¡“ä»•æ§˜](#7-æŠ€è¡“ä»•æ§˜)
8. [ãƒ†ã‚¹ãƒˆè¨ˆç”»](#8-ãƒ†ã‚¹ãƒˆè¨ˆç”»)
9. [ãƒ‡ãƒ—ãƒ­ã‚¤è¨ˆç”»](#9-ãƒ‡ãƒ—ãƒ­ã‚¤è¨ˆç”»)
10. [ãƒªã‚¹ã‚¯ç®¡ç†](#10-ãƒªã‚¹ã‚¯ç®¡ç†)

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 èƒŒæ™¯ã¨ç›®çš„

**ç¾çŠ¶ã®èª²é¡Œ**:
- åœ¨åº«ãƒ‡ãƒ¼ã‚¿ã¨å‡ºå“ãƒ‡ãƒ¼ã‚¿ãŒåˆ†é›¢ã•ã‚Œã¦ãŠã‚Šã€äºŒé‡ç®¡ç†ãŒç™ºç”Ÿ
- ã‚»ãƒƒãƒˆå•†å“ã®åœ¨åº«é€£å‹•ãŒæ‰‹å‹•ã§éåŠ¹ç‡
- å—æ³¨æ™‚ã®åœ¨åº«æ¸›ç®—ãŒè‡ªå‹•åŒ–ã•ã‚Œã¦ã„ãªã„
- è¤‡æ•°ãƒ¢ãƒ¼ãƒ«ï¼ˆeBayã€Amazonã€Shopeeç­‰ï¼‰ã®åœ¨åº«ã‚’ä¸€å…ƒç®¡ç†ã§ãã¦ã„ãªã„

**ç›®çš„**:
1. âœ… **åœ¨åº«ãƒã‚¹ã‚¿ãƒ¼ç®¡ç†**ï¼šSKUã€åŸä¾¡ã€åœ¨åº«æ•°ã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹èµ·ç‚¹ã‚’ä½œã‚‹
2. âœ… **å‡ºå“ãƒ•ãƒ­ãƒ¼çµ±åˆ**ï¼šæ£šå¸ã— â†’ å‡ºå“ãƒ‡ãƒ¼ã‚¿ä½œæˆ â†’ å‡ºå“å®Ÿè¡Œã®ä¸€è²«ã—ãŸãƒ•ãƒ­ãƒ¼
3. âœ… **ã‚»ãƒƒãƒˆå•†å“å¯¾å¿œ**ï¼šè¤‡æ•°å•†å“ã‚’çµ„ã¿åˆã‚ã›ãŸã‚»ãƒƒãƒˆå“ã®è‡ªå‹•åœ¨åº«è¨ˆç®—
4. âœ… **å—æ³¨é€£å‹•**ï¼šeBay/Amazonç­‰ã®å—æ³¨APIã¨é€£æºã—è‡ªå‹•ã§åœ¨åº«æ¸›ç®—
5. âœ… **é‡è¤‡æ’é™¤**ï¼šã‚»ãƒƒãƒˆå“å‡ºå“æ™‚ã«æ§‹æˆå˜å“ã®é‡è¤‡å‡ºå“ã‚’è‡ªå‹•åœæ­¢

### 1.2 ã‚¹ã‚³ãƒ¼ãƒ—

**Phase 1ï¼ˆæœ¬è¨ˆç”»æ›¸ã®å¯¾è±¡ï¼‰**:
- `/zaiko/tanaoroshi` æ£šå¸ã—ç®¡ç†ç”»é¢ã®å®Ÿè£…
- `inventory_master`ã€`set_components`ã€`inventory_changes` ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ§‹ç¯‰
- æ—¢å­˜ `/tools/editing` ã¨ã®é€£æºå®Ÿè£…
- ã‚»ãƒƒãƒˆå•†å“ä½œæˆãƒ»å‡ºå“æ©Ÿèƒ½
- å—æ³¨é€£å‹•ã®åŸºæœ¬ãƒ­ã‚¸ãƒƒã‚¯

**Phase 2ï¼ˆå°†æ¥è¨ˆç”»ï¼‰**:
- Amazon SP-APIé€£æº
- Shopee/Coupang APIé€£æº
- åœ¨åº«è‡ªå‹•è£œå……ã‚¢ãƒ©ãƒ¼ãƒˆ
- å¤šè¨€èªå¯¾å¿œ

---

## 2. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“åƒ

### 2.1 ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ãƒ¦ãƒ¼ã‚¶ãƒ¼                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ£šå¸ã—     â”‚ â”‚  å‡ºå“ç·¨é›†    â”‚ â”‚  å—æ³¨ç®¡ç†    â”‚
â”‚ /zaiko/      â”‚ â”‚ /tools/      â”‚ â”‚ /orders/     â”‚
â”‚ tanaoroshi   â”‚ â”‚ editing      â”‚ â”‚ webhook      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                 â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Supabase          â”‚
              â”‚  (PostgreSQL)       â”‚
              â”‚                     â”‚
              â”‚ â€¢ inventory_master  â”‚
              â”‚ â€¢ set_components    â”‚
              â”‚ â€¢ inventory_changes â”‚
              â”‚ â€¢ marketplace_      â”‚
              â”‚   listings          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   eBay API   â”‚ â”‚  Amazon      â”‚ â”‚   Shopee     â”‚
â”‚              â”‚ â”‚  SP-API      â”‚ â”‚   API        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

#### **A. å•†å“ç™»éŒ² â†’ å‡ºå“ãƒ•ãƒ­ãƒ¼**

```
[æ£šå¸ã—ç”»é¢]
1. å•†å“ç™»éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«
   â”œâ”€ SKUå…¥åŠ›
   â”œâ”€ åŸä¾¡å…¥åŠ›
   â”œâ”€ åœ¨åº«æ•°å…¥åŠ›
   â”œâ”€ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
   â””â”€ ä»•å…¥å…ˆæƒ…å ±ï¼ˆç„¡åœ¨åº«ã®å ´åˆï¼‰
        â†“
2. inventory_master ã«ä¿å­˜
        â†“
3. ã€Œå‡ºå“ãƒ‡ãƒ¼ã‚¿ä½œæˆã€ãƒœã‚¿ãƒ³
        â†“
[å‡ºå“ç·¨é›†ç”»é¢]
4. /tools/editing ã«é·ç§»
   â”œâ”€ ã‚¿ã‚¤ãƒˆãƒ«è‹±è¨³
   â”œâ”€ ã‚«ãƒ†ã‚´ãƒªé¸æŠ
   â”œâ”€ HTMLç”Ÿæˆ
   â”œâ”€ é…é€è¨­å®š
   â””â”€ ä¾¡æ ¼è¨­å®š
        â†“
5. TabFinalã€Œå‡ºå“å®Ÿè¡Œã€
        â†“
6. eBay AddItem API
        â†“
7. marketplace_listings ã«è¨˜éŒ²
```

#### **B. ã‚»ãƒƒãƒˆå•†å“ä½œæˆ â†’ å‡ºå“ãƒ•ãƒ­ãƒ¼**

```
[æ£šå¸ã—ç”»é¢]
1. å•†å“A, B, Cã‚’é¸æŠ
        â†“
2. ã€Œã‚»ãƒƒãƒˆå•†å“ä½œæˆã€ãƒœã‚¿ãƒ³
        â†“
3. ã‚»ãƒƒãƒˆå“ä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ«
   â”œâ”€ ã‚»ãƒƒãƒˆåå…¥åŠ›
   â”œâ”€ æ§‹æˆå“ã¨æ•°é‡è¨­å®š
   â”‚  â€¢ iPhone Ã— 1
   â”‚  â€¢ AirPods Ã— 1
   â”‚  â€¢ AppleWatch Ã— 1
   â”œâ”€ ã‚»ãƒƒãƒˆè²©å£²ä¾¡æ ¼å…¥åŠ›
   â””â”€ åœ¨åº«æ•°è‡ªå‹•è¨ˆç®—
        â†“
4. inventory_master (type='set') ã«ä¿å­˜
        â†“
5. set_components ã«æ§‹æˆæƒ…å ±ä¿å­˜
        â†“
6. ã€Œå‡ºå“ãƒ‡ãƒ¼ã‚¿ä½œæˆã€ãƒœã‚¿ãƒ³
        â†“
[å‡ºå“ç·¨é›†ç”»é¢]
7. /tools/editing ã§ã‚»ãƒƒãƒˆå“æƒ…å ±è¡¨ç¤º
        â†“
8. é‡è¤‡å‡ºå“ãƒã‚§ãƒƒã‚¯
   â”œâ”€ iPhoneãŒæ—¢ã«å‡ºå“ä¸­ï¼Ÿ
   â”‚   â†’ è‡ªå‹•åœæ­¢ãƒ•ãƒ©ã‚°
   â””â”€ è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
        â†“
9. ã€Œã‚»ãƒƒãƒˆå“ã¨ã—ã¦å‡ºå“ã€å®Ÿè¡Œ
        â†“
10. æ§‹æˆå“ã®å‡ºå“ã‚’è‡ªå‹•åœæ­¢
        â†“
11. ã‚»ãƒƒãƒˆå“ã‚’eBayã«å‡ºå“
```

#### **C. å—æ³¨é€£å‹•ãƒ•ãƒ­ãƒ¼**

```
[eBayå—æ³¨é€šçŸ¥]
1. Order Webhookå—ä¿¡
        â†“
2. /api/orders/webhook
        â†“
3. SKUã§inventory_masteræ¤œç´¢
        â†“
4. å•†å“ã‚¿ã‚¤ãƒ—åˆ¤å®š
   â”œâ”€ å˜å“ï¼ˆstockï¼‰
   â”‚   â†’ physical_quantity - 1
   â””â”€ ã‚»ãƒƒãƒˆå“ï¼ˆsetï¼‰
       â†’ æ§‹æˆå“ã®åœ¨åº«ã‚’ãã‚Œãã‚Œæ¸›ç®—
        â†“
5. inventory_changes ã«å±¥æ­´è¨˜éŒ²
   {
     change_type: 'sale',
     quantity_before: 10,
     quantity_after: 9,
     source: 'ebay_order_12345'
   }
        â†“
6. WebSocketé€šçŸ¥ã§æ£šå¸ã—ç”»é¢ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
```

---

## 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 3.1 ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ

#### **A. inventory_masterï¼ˆæ£šå¸ã—ãƒã‚¹ã‚¿ãƒ¼ï¼‰**

```sql
CREATE TABLE inventory_master (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    unique_id TEXT UNIQUE NOT NULL,              -- å•†å“å›ºæœ‰ID (ITEM-001, SET-001)
    product_name TEXT NOT NULL,                  -- å•†å“å
    sku TEXT,                                    -- SKU (ç®¡ç†ã‚³ãƒ¼ãƒ‰)
    product_type inventory_type NOT NULL,        -- 'stock'|'dropship'|'set'|'hybrid'
    physical_quantity INTEGER DEFAULT 0,         -- å®Ÿåœ¨åº«æ•°
    listing_quantity INTEGER DEFAULT 0,          -- å‡ºå“ä¸­åœ¨åº«æ•°
    cost_price DECIMAL(12,2) DEFAULT 0,         -- ä»•å…¥ä¾¡æ ¼ï¼ˆUSDï¼‰
    selling_price DECIMAL(12,2) DEFAULT 0,      -- è²©å£²ä¾¡æ ¼ï¼ˆUSDï¼‰
    condition_name TEXT DEFAULT 'used',          -- çŠ¶æ…‹ï¼ˆnew/used/refurbishedï¼‰
    category TEXT DEFAULT 'Electronics',         -- ã‚«ãƒ†ã‚´ãƒª
    subcategory TEXT,                            -- ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒª
    images JSONB DEFAULT '[]'::jsonb,            -- ç”»åƒURLé…åˆ—
    source_data JSONB DEFAULT '{}'::jsonb,       -- ä»•å…¥å…ƒãƒ‡ãƒ¼ã‚¿
    supplier_info JSONB DEFAULT '{}'::jsonb,     -- ä»•å…¥å…ˆæƒ…å ±ï¼ˆç„¡åœ¨åº«ç”¨ï¼‰
    is_manual_entry BOOLEAN DEFAULT FALSE,       -- æ‰‹å‹•ç™»éŒ²ãƒ•ãƒ©ã‚°
    priority_score INTEGER DEFAULT 0,            -- å„ªå…ˆåº¦ã‚¹ã‚³ã‚¢
    notes TEXT,                                  -- å‚™è€ƒ
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TYPE inventory_type AS ENUM ('stock', 'dropship', 'set', 'hybrid');

CREATE INDEX idx_inventory_sku ON inventory_master(sku);
CREATE INDEX idx_inventory_type ON inventory_master(product_type);
CREATE INDEX idx_inventory_updated ON inventory_master(updated_at);
```

**ã‚«ãƒ©ãƒ èª¬æ˜**:

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ | ä¾‹ |
|--------|-----|------|-----|
| `product_type` | ENUM | å•†å“ã‚¿ã‚¤ãƒ— | 'stock'ï¼ˆæœ‰åœ¨åº«ï¼‰ã€'dropship'ï¼ˆç„¡åœ¨åº«ï¼‰ã€'set'ï¼ˆã‚»ãƒƒãƒˆå“ï¼‰ |
| `physical_quantity` | INTEGER | å®Ÿåœ¨åº«æ•°ï¼ˆå—æ³¨ã§è‡ªå‹•æ¸›ç®—ï¼‰ | 10 |
| `listing_quantity` | INTEGER | å„ãƒ¢ãƒ¼ãƒ«ã§ã®å‡ºå“æ•°åˆè¨ˆ | 8 |
| `cost_price` | DECIMAL | ä»•å…¥ä¾¡æ ¼ï¼ˆåˆ©ç›Šè¨ˆç®—ã«ä½¿ç”¨ï¼‰ | 50.00 |
| `supplier_info` | JSONB | ä»•å…¥å…ˆURLã€åœ¨åº«è¿½è·¡IDç­‰ | `{"url": "https://...", "track_id": "..."}` |

#### **B. set_componentsï¼ˆã‚»ãƒƒãƒˆå“æ§‹æˆï¼‰**

```sql
CREATE TABLE set_components (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    set_product_id UUID NOT NULL REFERENCES inventory_master(id) ON DELETE CASCADE,
    component_product_id UUID NOT NULL REFERENCES inventory_master(id) ON DELETE CASCADE,
    quantity_required INTEGER NOT NULL CHECK (quantity_required > 0),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    UNIQUE(set_product_id, component_product_id)
);

CREATE INDEX idx_set_components_set ON set_components(set_product_id);
CREATE INDEX idx_set_components_comp ON set_components(component_product_id);
```

**ä¾‹**:
```sql
-- Apple Bundle Set (SET-001) ã®æ§‹æˆ
INSERT INTO set_components VALUES
  (uuid1, 'SET-001', 'ITEM-001', 1),  -- iPhone Ã— 1
  (uuid2, 'SET-001', 'ITEM-003', 1),  -- AirPods Ã— 1
  (uuid3, 'SET-001', 'ITEM-004', 1);  -- AppleWatch Ã— 1
```

#### **C. inventory_changesï¼ˆåœ¨åº«å¤‰æ›´å±¥æ­´ï¼‰**

```sql
CREATE TABLE inventory_changes (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    product_id UUID NOT NULL REFERENCES inventory_master(id) ON DELETE CASCADE,
    change_type change_type NOT NULL,            -- å¤‰æ›´ã‚¿ã‚¤ãƒ—
    quantity_before INTEGER NOT NULL,            -- å¤‰æ›´å‰åœ¨åº«æ•°
    quantity_after INTEGER NOT NULL,             -- å¤‰æ›´å¾Œåœ¨åº«æ•°
    source TEXT DEFAULT 'manual',                -- å¤‰æ›´å…ƒï¼ˆmanual/ebay_order/amazon_orderï¼‰
    notes TEXT,                                  -- å‚™è€ƒ
    metadata JSONB DEFAULT '{}'::jsonb,          -- è¿½åŠ æƒ…å ±ï¼ˆæ³¨æ–‡IDç­‰ï¼‰
    created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TYPE change_type AS ENUM ('sale', 'import', 'manual', 'adjustment', 'set_sale');

CREATE INDEX idx_changes_product ON inventory_changes(product_id);
CREATE INDEX idx_changes_type ON inventory_changes(change_type);
CREATE INDEX idx_changes_created ON inventory_changes(created_at);
```

**change_typeèª¬æ˜**:
- `sale`: å—æ³¨ã«ã‚ˆã‚‹æ¸›ç®—
- `import`: ä»•å…¥ã‚Œã«ã‚ˆã‚‹å¢—åŠ 
- `manual`: æ‰‹å‹•èª¿æ•´
- `adjustment`: æ£šå¸ã—èª¿æ•´
- `set_sale`: ã‚»ãƒƒãƒˆå“è²©å£²ï¼ˆæ§‹æˆå“ã®æ¸›ç®—ï¼‰

### 3.2 ã‚¹ãƒˆã‚¢ãƒ‰é–¢æ•°

#### **ã‚»ãƒƒãƒˆå“åœ¨åº«æ•°è‡ªå‹•è¨ˆç®—**

```sql
CREATE OR REPLACE FUNCTION calculate_set_available_quantity(set_id UUID)
RETURNS INTEGER AS $$
DECLARE
    min_available INTEGER := 999999;
    component_record RECORD;
BEGIN
    -- ã‚»ãƒƒãƒˆã‚’æ§‹æˆã™ã‚‹å„å•†å“ã®åœ¨åº«æ•°ã‚’å–å¾—
    FOR component_record IN
        SELECT
            im.physical_quantity,
            sc.quantity_required
        FROM set_components sc
        JOIN inventory_master im ON sc.component_product_id = im.id
        WHERE sc.set_product_id = set_id
    LOOP
        -- å„æ§‹æˆå“ã§ä½œæˆå¯èƒ½ãªã‚»ãƒƒãƒˆæ•°ã‚’è¨ˆç®—ã—ã€æœ€å°å€¤ã‚’å–å¾—
        min_available := LEAST(min_available,
            FLOOR(component_record.physical_quantity / component_record.quantity_required));
    END LOOP;

    IF min_available = 999999 THEN
        RETURN 0;
    END IF;

    RETURN min_available;
END;
$$ LANGUAGE plpgsql;
```

**ä½¿ç”¨ä¾‹**:
```sql
-- ã‚»ãƒƒãƒˆå•†å“ã®åœ¨åº«æ•°ã‚’å–å¾—
SELECT calculate_set_available_quantity('SET-001');
-- â†’ 5 (iPhone 5å€‹ã€AirPods 10å€‹ã€Watch 8å€‹ ã®å ´åˆ)
```

#### **åœ¨åº«è‡ªå‹•æ›´æ–°ãƒˆãƒªã‚¬ãƒ¼**

```sql
CREATE OR REPLACE FUNCTION update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_inventory_master_updated_at
    BEFORE UPDATE ON inventory_master
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at();
```

---

## 4. æ©Ÿèƒ½è¦ä»¶

### 4.1 æ£šå¸ã—ç®¡ç†ç”»é¢ï¼ˆ`/zaiko/tanaoroshi`ï¼‰

#### **FR-T01: å•†å“ä¸€è¦§è¡¨ç¤º**

**å„ªå…ˆåº¦**: â­â­â­â­â­ (å¿…é ˆ)

**æ©Ÿèƒ½**:
- å…¨å•†å“ã‚’8åˆ—ã‚°ãƒªãƒƒãƒ‰ã§è¡¨ç¤º
- ã‚«ãƒ¼ãƒ‰ãƒ“ãƒ¥ãƒ¼ / ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ“ãƒ¥ãƒ¼ã®åˆ‡æ›¿
- å•†å“ã‚¿ã‚¤ãƒ—ãƒãƒƒã‚¸è¡¨ç¤ºï¼ˆæœ‰åœ¨åº«/ç„¡åœ¨åº«/ã‚»ãƒƒãƒˆå“ï¼‰
- åœ¨åº«æ•°ã®ã‚«ãƒ©ãƒ¼è¡¨ç¤ºï¼ˆåœ¨åº«ã‚ã‚Šï¼šç·‘ã€åœ¨åº«åˆ‡ã‚Œï¼šèµ¤ï¼‰

**UIè¦ç´ **:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¦ æ£šå¸ã—ç®¡ç†                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç·å•†å“: 120  åœ¨åº«ã‚ã‚Š: 85  åœ¨åº«åˆ‡ã‚Œ: 35  é¸æŠä¸­: 3 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æ–°è¦å•†å“ç™»éŒ²] [ã‚»ãƒƒãƒˆå•†å“ä½œæˆ(3)] [CSVä¸€æ‹¬æ›´æ–°]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” [æ¤œç´¢...] [ç¨®é¡â–¼] [çŠ¶æ…‹â–¼] [ã‚«ãƒ†ã‚´ãƒªâ–¼] [ã‚«ãƒ¼ãƒ‰/ãƒ†ãƒ¼ãƒ–ãƒ«] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–¡  â”‚ â”‚ â–¡  â”‚ â”‚ â˜‘  â”‚ â”‚ â–¡  â”‚ â”‚ â˜‘  â”‚ â”‚ â–¡  â”‚ â”‚ â˜‘  â”‚ â”‚ â–¡  â”‚ â”‚
â”‚ â”‚[ğŸ–¼]â”‚ â”‚[ğŸ–¼]â”‚ â”‚[ğŸ–¼]â”‚ â”‚[ğŸ–¼]â”‚ â”‚[ğŸ–¼]â”‚ â”‚[ğŸ–¼]â”‚ â”‚[ğŸ–¼]â”‚ â”‚[ğŸ–¼]â”‚ â”‚
â”‚ â”‚å•†å“â”‚ â”‚å•†å“â”‚ â”‚å•†å“â”‚ â”‚å•†å“â”‚ â”‚å•†å“â”‚ â”‚å•†å“â”‚ â”‚å•†å“â”‚ â”‚å•†å“â”‚ â”‚
â”‚ â”‚å  â”‚ â”‚å  â”‚ â”‚å  â”‚ â”‚å  â”‚ â”‚å  â”‚ â”‚å  â”‚ â”‚å  â”‚ â”‚å  â”‚ â”‚
â”‚ â”‚SKU â”‚ â”‚SKU â”‚ â”‚SKU â”‚ â”‚SKU â”‚ â”‚SKU â”‚ â”‚SKU â”‚ â”‚SKU â”‚ â”‚SKU â”‚ â”‚
â”‚ â”‚$50 â”‚ â”‚$30 â”‚ â”‚$80 â”‚ â”‚$25 â”‚ â”‚$60 â”‚ â”‚$45 â”‚ â”‚$70 â”‚ â”‚$35 â”‚ â”‚
â”‚ â”‚åœ¨åº«:â”‚ â”‚åœ¨åº«:â”‚ â”‚åœ¨åº«:â”‚ â”‚åœ¨åº«:â”‚ â”‚åœ¨åº«:â”‚ â”‚åœ¨åº«:â”‚ â”‚åœ¨åº«:â”‚ â”‚åœ¨åº«:â”‚ â”‚
â”‚ â”‚ 10 â”‚ â”‚ 0  â”‚ â”‚ 15 â”‚ â”‚ 5  â”‚ â”‚ 8  â”‚ â”‚ 0  â”‚ â”‚ 12 â”‚ â”‚ 3  â”‚ â”‚
â”‚ â”‚[ç·¨é›†]â”‚ â”‚[ç·¨é›†]â”‚ â”‚[ç·¨é›†]â”‚ â”‚[ç·¨é›†]â”‚ â”‚[ç·¨é›†]â”‚ â”‚[ç·¨é›†]â”‚ â”‚[ç·¨é›†]â”‚ â”‚[ç·¨é›†]â”‚ â”‚
â”‚ â”‚[å‡ºå“ã¸]â”‚[å‡ºå“ã¸]â”‚[å‡ºå“ã¸]â”‚[å‡ºå“ã¸]â”‚[å‡ºå“ã¸]â”‚[å‡ºå“ã¸]â”‚[å‡ºå“ã¸]â”‚[å‡ºå“ã¸]â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å—å…¥åŸºæº–**:
- âœ… 100ä»¶ä»¥ä¸Šã®å•†å“ã‚’1ç§’ä»¥å†…ã«è¡¨ç¤º
- âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆãƒ¢ãƒã‚¤ãƒ«ï¼š2åˆ—ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼š4åˆ—ã€PCï¼š8åˆ—ï¼‰
- âœ… åœ¨åº«0ã®å•†å“ã¯ã€Œå‡ºå“ã¸ã€ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–

---

#### **FR-T02: å•†å“ç™»éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«**

**å„ªå…ˆåº¦**: â­â­â­â­â­ (å¿…é ˆ)

**æ©Ÿèƒ½**:
- æœ‰åœ¨åº«/ç„¡åœ¨åº«/ã‚»ãƒƒãƒˆå“/ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã®é¸æŠ
- ç”»åƒãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆè¤‡æ•°æšå¯¾å¿œï¼‰
- SKUé‡è¤‡ãƒã‚§ãƒƒã‚¯
- è‡ªå‹•ãƒªã‚µã‚¤ã‚ºï¼ˆ1000pxä»¥ä¸Šã€Amazonè¦ç´„æº–æ‹ ï¼‰

**ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¿…é ˆ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
|-----------|------|---------------|
| å•†å“ã‚¿ã‚¤ãƒ— | âœ… | stock/dropship/set/hybrid |
| å•†å“å | âœ… | æœ€å¤§255æ–‡å­— |
| SKU | âœ… | åŠè§’è‹±æ•°å­—ã€é‡è¤‡ä¸å¯ |
| åŸä¾¡ï¼ˆUSDï¼‰ | | æ•°å€¤ã€0ä»¥ä¸Š |
| è²©å£²ä¾¡æ ¼ï¼ˆUSDï¼‰ | | æ•°å€¤ã€0ä»¥ä¸Š |
| åœ¨åº«æ•° | | æ•´æ•°ã€0ä»¥ä¸Šï¼ˆæœ‰åœ¨åº«ã®ã¿ï¼‰ |
| çŠ¶æ…‹ | âœ… | new/used/refurbished |
| ã‚«ãƒ†ã‚´ãƒª | | ãƒ†ã‚­ã‚¹ãƒˆ |
| ä»•å…¥å…ˆ | | ãƒ†ã‚­ã‚¹ãƒˆï¼ˆç„¡åœ¨åº«ã®ã¿ï¼‰ |
| ç”»åƒ | | æœ€å¤§10æšã€å„5MBä»¥ä¸‹ |

**UIè¦ç´ **:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ• æ–°è¦å•†å“ç™»éŒ²                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å•†å“ã‚¿ã‚¤ãƒ—                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“¦   â”‚ â”‚ ğŸšš   â”‚ â”‚ ğŸ“š   â”‚ â”‚ ğŸ”„   â”‚   â”‚
â”‚ â”‚æœ‰åœ¨åº«â”‚ â”‚ç„¡åœ¨åº«â”‚ â”‚ã‚»ãƒƒãƒˆâ”‚ â”‚ãƒã‚¤ãƒ–â”‚   â”‚
â”‚ â”‚      â”‚ â”‚      â”‚ â”‚å•†å“  â”‚ â”‚ãƒªãƒƒãƒ‰â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚ å•†å“ç”»åƒ                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“· ç”»åƒã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—            â”‚ â”‚
â”‚ â”‚    ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ å•†å“å *                                 â”‚
â”‚ [_________________________________]    â”‚
â”‚                                         â”‚
â”‚ SKU * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åŸä¾¡(USD)              â”‚
â”‚ [__________]    [__________]           â”‚
â”‚                                         â”‚
â”‚ åœ¨åº«æ•° â”€â”€â”€â”€â”€â”€â”€â”€ çŠ¶æ…‹                     â”‚
â”‚ [__________]    [æ–°å“ â–¼]               â”‚
â”‚                                         â”‚
â”‚ ã‚«ãƒ†ã‚´ãƒª                                 â”‚
â”‚ [Electronics___________________________]â”‚
â”‚                                         â”‚
â”‚ å•†å“èª¬æ˜                                 â”‚
â”‚ [_________________________________]    â”‚
â”‚ [_________________________________]    â”‚
â”‚                                         â”‚
â”‚         [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ä¿å­˜ã—ã¦å‡ºå“ã¸]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å—å…¥åŸºæº–**:
- âœ… SKUé‡è¤‡æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- âœ… ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ™‚ã«è‡ªå‹•ãƒªã‚µã‚¤ã‚ºï¼ˆ1000pxä»¥ä¸Šï¼‰
- âœ… ä¿å­˜å¾Œã«ã€Œå‡ºå“ãƒ‡ãƒ¼ã‚¿ä½œæˆã€ãƒœã‚¿ãƒ³ãŒæœ‰åŠ¹åŒ–

---

#### **FR-T03: ã‚»ãƒƒãƒˆå•†å“ä½œæˆ**

**å„ªå…ˆåº¦**: â­â­â­â­ (é«˜)

**æ©Ÿèƒ½**:
- è¤‡æ•°å•†å“ã‚’é¸æŠã—ã¦ã‚»ãƒƒãƒˆå“ä½œæˆ
- å„æ§‹æˆå“ã®æ•°é‡ã‚’è¨­å®š
- ã‚»ãƒƒãƒˆåœ¨åº«æ•°ã‚’è‡ªå‹•è¨ˆç®—
- ã‚»ãƒƒãƒˆè²©å£²ä¾¡æ ¼ã®è¨­å®š

**ãƒ•ãƒ­ãƒ¼**:
```
1. å•†å“ä¸€è¦§ã§è¤‡æ•°é¸æŠï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼‰
   â†’ ã€Œã‚»ãƒƒãƒˆå•†å“ä½œæˆã€ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–
      â†“
2. ã‚»ãƒƒãƒˆå•†å“ä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
   â”œâ”€ ã‚»ãƒƒãƒˆåå…¥åŠ›
   â”œâ”€ æ§‹æˆå“ãƒªã‚¹ãƒˆè¡¨ç¤º
   â”‚  â€¢ iPhone Ã— [1] åœ¨åº«: 10å€‹
   â”‚  â€¢ AirPods Ã— [1] åœ¨åº«: 15å€‹
   â”‚  â€¢ Watch Ã— [1] åœ¨åº«: 8å€‹
   â”œâ”€ ä½œæˆå¯èƒ½æ•°: 8ã‚»ãƒƒãƒˆï¼ˆè‡ªå‹•è¨ˆç®—ï¼‰
   â””â”€ ã‚»ãƒƒãƒˆè²©å£²ä¾¡æ ¼: $1,800
      â†“
3. ã€Œä½œæˆã€ãƒœã‚¿ãƒ³
   â†’ inventory_master (type='set') ã«ä¿å­˜
   â†’ set_components ã«æ§‹æˆæƒ…å ±ä¿å­˜
      â†“
4. ã€Œå‡ºå“ãƒ‡ãƒ¼ã‚¿ä½œæˆã€ãƒœã‚¿ãƒ³ã§ /tools/editing ã¸é·ç§»
```

**UIè¦ç´ **:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ• ã‚»ãƒƒãƒˆå•†å“ä½œæˆ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚»ãƒƒãƒˆå•†å“å *                            â”‚
â”‚ [Apple Bundle Set__________________]   â”‚
â”‚                                          â”‚
â”‚ æ§‹æˆå“ã¨æ•°é‡                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [ğŸ–¼] iPhone 14 Pro                 â”‚   â”‚
â”‚ â”‚      åœ¨åº«: 10å€‹      æ•°é‡: [1] â–²â–¼ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [ğŸ–¼] AirPods Pro                   â”‚   â”‚
â”‚ â”‚      åœ¨åº«: 15å€‹      æ•°é‡: [1] â–²â–¼ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [ğŸ–¼] Apple Watch Series 9          â”‚   â”‚
â”‚ â”‚      åœ¨åº«: 8å€‹       æ•°é‡: [1] â–²â–¼ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ§® ä½œæˆå¯èƒ½ãªã‚»ãƒƒãƒˆæ•°                â”‚   â”‚
â”‚ â”‚         8 ã‚»ãƒƒãƒˆ                   â”‚   â”‚
â”‚ â”‚ â€» æ§‹æˆå“ã®åœ¨åº«ã‹ã‚‰è‡ªå‹•è¨ˆç®—          â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚
â”‚ ã‚»ãƒƒãƒˆè²©å£²ä¾¡æ ¼ï¼ˆUSDï¼‰*                    â”‚
â”‚ [1800.00___________________________]   â”‚
â”‚ å‚è€ƒ: å€‹åˆ¥åˆè¨ˆ $1,950.00                 â”‚
â”‚                                          â”‚
â”‚      [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ä½œæˆã—ã¦å‡ºå“ç”»é¢ã¸]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å—å…¥åŸºæº–**:
- âœ… ã‚»ãƒƒãƒˆåœ¨åº«æ•°ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹
- âœ… æ§‹æˆå“ã®åœ¨åº«ãŒ0ã®å ´åˆã€ã‚»ãƒƒãƒˆä½œæˆä¸å¯
- âœ… ã‚»ãƒƒãƒˆä½œæˆå¾Œã€è‡ªå‹•ã§ `/tools/editing` ã«é·ç§»

---

#### **FR-T04: ãƒ‡ãƒ¼ã‚¿é€£æºï¼ˆå‡ºå“ãƒ‡ãƒ¼ã‚¿ä½œæˆï¼‰**

**å„ªå…ˆåº¦**: â­â­â­â­â­ (å¿…é ˆ)

**æ©Ÿèƒ½**:
- æ£šå¸ã—ç”»é¢ã‹ã‚‰ `/tools/editing` ã¸ã®ãƒ‡ãƒ¼ã‚¿å—ã‘æ¸¡ã—
- `inventory_master` â†’ `yahoo_scraped_products` å½¢å¼ã¸ã®å¤‰æ›
- ã‚»ãƒƒãƒˆå“æƒ…å ±ã®å¼•ãç¶™ã

**å®Ÿè£…æ–¹æ³•**:

```typescript
// /zaiko/tanaoroshi ã§å®Ÿè¡Œ
const handleSendToEditing = async (productId: string) => {
  const { data: product } = await supabase
    .from('inventory_master')
    .select(`
      *,
      set_components (
        quantity_required,
        component:component_product_id (
          id, product_name, sku, images
        )
      )
    `)
    .eq('id', productId)
    .single()

  // yahoo_scraped_products ã«æŒ¿å…¥
  await supabase.from('yahoo_scraped_products').insert({
    source: 'tanaoroshi',
    source_item_id: product.unique_id,
    sku: product.sku,
    title: product.product_name,
    price_jpy: product.cost_price * 150, // USD â†’ JPYæ¦‚ç®—
    current_stock: product.physical_quantity,
    scraped_data: {
      images: product.images,
      category: product.category,
      is_set: product.product_type === 'set',
      set_components: product.set_components
    }
  })

  // /tools/editing ã«é·ç§»
  router.push(`/tools/editing?from=tanaoroshi`)
}
```

**å—å…¥åŸºæº–**:
- âœ… å•†å“ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãå¤‰æ›ã•ã‚Œã‚‹
- âœ… ã‚»ãƒƒãƒˆå“ã®æ§‹æˆæƒ…å ±ãŒå¼•ãç¶™ãŒã‚Œã‚‹
- âœ… `/tools/editing` ã§ãƒ‡ãƒ¼ã‚¿ãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹

---

### 4.2 å‡ºå“ç·¨é›†ç”»é¢ï¼ˆ`/tools/editing`ï¼‰æ‹¡å¼µ

#### **FR-E01: ã‚»ãƒƒãƒˆå“æƒ…å ±è¡¨ç¤º**

**å„ªå…ˆåº¦**: â­â­â­â­ (é«˜)

**æ©Ÿèƒ½**:
- TabFinal ã«ã‚»ãƒƒãƒˆå“å°‚ç”¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤º
- æ§‹æˆå“ãƒªã‚¹ãƒˆã®è¡¨ç¤º
- é‡è¤‡å‡ºå“è­¦å‘Šã®è¡¨ç¤º

**UIè¦ç´ ** (TabFinal ã«è¿½åŠ ):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TabFinal: æœ€çµ‚ç¢ºèªãƒ»å‡ºå“å®Ÿè¡Œ              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚ ğŸ“š ã‚»ãƒƒãƒˆå•†å“æƒ…å ±                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ã‚»ãƒƒãƒˆæ§‹æˆ:                        â”‚   â”‚
â”‚ â”‚ â€¢ iPhone 14 Pro Ã— 1                â”‚   â”‚
â”‚ â”‚ â€¢ AirPods Pro Ã— 1                  â”‚   â”‚
â”‚ â”‚ â€¢ Apple Watch Series 9 Ã— 1         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚
â”‚ âš ï¸ é‡è¤‡å‡ºå“ã®è­¦å‘Š                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ä»¥ä¸‹ã®æ§‹æˆå“ãŒæ—¢ã«å‡ºå“ã•ã‚Œã¦ã„ã¾ã™ï¼š â”‚   â”‚
â”‚ â”‚ â€¢ iPhone 14 Pro (eBayå‡ºå“ID: 123) â”‚   â”‚
â”‚ â”‚                                    â”‚   â”‚
â”‚ â”‚ ã‚»ãƒƒãƒˆå“å‡ºå“æ™‚ã«è‡ªå‹•åœæ­¢ã•ã‚Œã¾ã™ã€‚  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚
â”‚ [ğŸ“¦ ã‚»ãƒƒãƒˆå“ã¨ã—ã¦å‡ºå“]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å—å…¥åŸºæº–**:
- âœ… ã‚»ãƒƒãƒˆå“ã®å ´åˆã€æ§‹æˆå“ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… é‡è¤‡å‡ºå“ãŒã‚ã‚‹å ´åˆã€è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… å‡ºå“å®Ÿè¡Œæ™‚ã«æ§‹æˆå“ãŒè‡ªå‹•åœæ­¢ã•ã‚Œã‚‹

---

#### **FR-E02: é‡è¤‡å‡ºå“ãƒã‚§ãƒƒã‚¯**

**å„ªå…ˆåº¦**: â­â­â­â­ (é«˜)

**æ©Ÿèƒ½**:
- ã‚»ãƒƒãƒˆå“å‡ºå“å‰ã«æ§‹æˆå“ã®å‡ºå“çŠ¶æ³ã‚’ãƒã‚§ãƒƒã‚¯
- é‡è¤‡ãŒã‚ã‚‹å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèª
- ç¢ºèªå¾Œã€æ§‹æˆå“ã‚’è‡ªå‹•åœæ­¢

**å®Ÿè£…**:

```typescript
const checkDuplicateListings = async (setComponents: any[]) => {
  const duplicates = []

  for (const comp of setComponents) {
    const { data } = await supabase
      .from('marketplace_listings')
      .select('*')
      .eq('sku', comp.sku)
      .eq('marketplace', 'ebay')
      .eq('status', 'active')

    if (data && data.length > 0) {
      duplicates.push({
        name: comp.product_name,
        listingId: data[0].listing_id
      })
    }
  }

  return duplicates
}

const handlePublishSet = async () => {
  const duplicates = await checkDuplicateListings(setComponents)

  if (duplicates.length > 0) {
    const confirmed = confirm(
      `âš ï¸ ä»¥ä¸‹ã®æ§‹æˆå“ãŒæ—¢ã«å‡ºå“ã•ã‚Œã¦ã„ã¾ã™ã€‚\n` +
      `ã“ã‚Œã‚‰ã®å‡ºå“ã‚’è‡ªå‹•åœæ­¢ã—ã¦ã‚»ãƒƒãƒˆå“ã‚’å‡ºå“ã—ã¾ã™ã‹ï¼Ÿ\n\n` +
      duplicates.map(d => `â€¢ ${d.name} (ID: ${d.listingId})`).join('\n')
    )

    if (!confirmed) return

    // æ§‹æˆå“ã‚’åœæ­¢
    for (const dup of duplicates) {
      await stopListing(dup.listingId)
    }
  }

  // ã‚»ãƒƒãƒˆå“ã‚’å‡ºå“
  await publishSetProduct()
}
```

**å—å…¥åŸºæº–**:
- âœ… é‡è¤‡ãƒã‚§ãƒƒã‚¯ãŒæ­£ã—ãå‹•ä½œã™ã‚‹
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªå¾Œã«æ§‹æˆå“ãŒåœæ­¢ã•ã‚Œã‚‹
- âœ… ã‚»ãƒƒãƒˆå“ãŒæ­£å¸¸ã«å‡ºå“ã•ã‚Œã‚‹

---

### 4.3 å—æ³¨é€£å‹•æ©Ÿèƒ½

#### **FR-O01: å—æ³¨Webhookå‡¦ç†**

**å„ªå…ˆåº¦**: â­â­â­â­â­ (å¿…é ˆ)

**æ©Ÿèƒ½**:
- eBay/Amazonç­‰ã®å—æ³¨é€šçŸ¥ã‚’å—ä¿¡
- SKUã§åœ¨åº«ã‚’æ¤œç´¢
- åœ¨åº«æ•°ã‚’è‡ªå‹•æ¸›ç®—
- å±¥æ­´ã‚’è¨˜éŒ²

**å®Ÿè£…**:

```typescript
// app/api/orders/webhook/route.ts
export async function POST(req: Request) {
  const order = await req.json()

  // SKUã§å•†å“æ¤œç´¢
  const { data: product } = await supabase
    .from('inventory_master')
    .select('*')
    .eq('sku', order.sku)
    .single()

  if (!product) {
    return NextResponse.json({ error: 'Product not found' }, { status: 404 })
  }

  // åœ¨åº«æ¸›ç®—
  const newQuantity = product.physical_quantity - order.quantity

  await supabase
    .from('inventory_master')
    .update({ physical_quantity: newQuantity })
    .eq('id', product.id)

  // å±¥æ­´è¨˜éŒ²
  await supabase
    .from('inventory_changes')
    .insert({
      product_id: product.id,
      change_type: 'sale',
      quantity_before: product.physical_quantity,
      quantity_after: newQuantity,
      source: `${order.marketplace}_order_${order.orderId}`,
      metadata: {
        order_id: order.orderId,
        marketplace: order.marketplace,
        buyer: order.buyerName
      }
    })

  return NextResponse.json({ success: true })
}
```

**å—å…¥åŸºæº–**:
- âœ… å—æ³¨é€šçŸ¥ã‚’æ­£ã—ãå‡¦ç†ã§ãã‚‹
- âœ… åœ¨åº«æ•°ãŒæ­£ç¢ºã«æ¸›ç®—ã•ã‚Œã‚‹
- âœ… å±¥æ­´ãŒæ­£ã—ãè¨˜éŒ²ã•ã‚Œã‚‹

---

## 5. UI/UXè¨­è¨ˆ

### 5.1 ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

**ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ**:
```css
:root {
  /* Primary */
  --color-primary: #3b82f6;      /* Blue 500 */
  --color-primary-dark: #2563eb; /* Blue 600 */

  /* å•†å“ã‚¿ã‚¤ãƒ—åˆ¥ã‚«ãƒ©ãƒ¼ */
  --inventory-stock: #16a34a;    /* Green 600 - æœ‰åœ¨åº« */
  --inventory-dropship: #9333ea; /* Purple 600 - ç„¡åœ¨åº« */
  --inventory-set: #f59e0b;      /* Amber 500 - ã‚»ãƒƒãƒˆå“ */
  --inventory-hybrid: #06b6d4;   /* Cyan 500 - ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ */

  /* Status */
  --color-success: #22c55e;      /* Green 500 */
  --color-warning: #f59e0b;      /* Amber 500 */
  --color-danger: #ef4444;       /* Red 500 */

  /* Neutral */
  --color-slate-50: #f8fafc;
  --color-slate-100: #f1f5f9;
  --color-slate-600: #475569;
  --color-slate-900: #0f172a;
}
```

**ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£**:
```css
/* ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ãƒŸãƒªãƒ¼ */
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

/* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º */
--text-xs: 0.75rem;    /* 12px */
--text-sm: 0.875rem;   /* 14px */
--text-base: 1rem;     /* 16px */
--text-lg: 1.125rem;   /* 18px */
--text-xl: 1.25rem;    /* 20px */
--text-2xl: 1.5rem;    /* 24px */
```

**ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°**:
```css
--space-xs: 0.25rem;   /* 4px */
--space-sm: 0.5rem;    /* 8px */
--space-md: 1rem;      /* 16px */
--space-lg: 1.5rem;    /* 24px */
--space-xl: 2rem;      /* 32px */
```

### 5.2 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | èª¬æ˜ |
|--------------|-------------|------|
| `ProductCard` | `components/inventory/ProductCard.tsx` | å•†å“ã‚«ãƒ¼ãƒ‰è¡¨ç¤º |
| `ProductRegistrationModal` | `components/inventory/ProductRegistrationModal.tsx` | å•†å“ç™»éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ« |
| `SetProductModal` | `components/inventory/SetProductModal.tsx` | ã‚»ãƒƒãƒˆå•†å“ä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ« |
| `StatsHeader` | `components/inventory/StatsHeader.tsx` | çµ±è¨ˆãƒ˜ãƒƒãƒ€ãƒ¼ |
| `FilterPanel` | `components/inventory/FilterPanel.tsx` | ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ‘ãƒãƒ« |
| `ProductTypeBadge` | `components/inventory/ProductTypeBadge.tsx` | å•†å“ã‚¿ã‚¤ãƒ—ãƒãƒƒã‚¸ |
| `ImageUploader` | `components/inventory/ImageUploader.tsx` | ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ€ãƒ¼ |

---

## 6. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 1-1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»åŸºæœ¬UIï¼ˆ2é€±é–“ï¼‰

**Week 1**:
- âœ… Supabaseãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
  - `inventory_master`
  - `set_components`
  - `inventory_changes`
  - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
  - RLS ãƒãƒªã‚·ãƒ¼è¨­å®š
- âœ… `/zaiko/tanaoroshi` ãƒšãƒ¼ã‚¸éª¨çµ„ã¿ä½œæˆ
- âœ… `ProductCard` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- âœ… `StatsHeader` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…

**Week 2**:
- âœ… å•†å“ä¸€è¦§è¡¨ç¤ºæ©Ÿèƒ½ï¼ˆã‚«ãƒ¼ãƒ‰ãƒ“ãƒ¥ãƒ¼ï¼‰
- âœ… ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ“ãƒ¥ãƒ¼å®Ÿè£…
- âœ… ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ï¼ˆå•†å“ã‚¿ã‚¤ãƒ—ã€ã‚«ãƒ†ã‚´ãƒªã€åœ¨åº«çŠ¶æ…‹ï¼‰
- âœ… æ¤œç´¢æ©Ÿèƒ½ï¼ˆSKUã€å•†å“åï¼‰
- âœ… ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³

**æˆæœç‰©**:
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå®Œæˆ
- å•†å“ä¸€è¦§ç”»é¢ã®åŸºæœ¬æ©Ÿèƒ½å®Œæˆ

---

### Phase 1-2: å•†å“ç™»éŒ²ãƒ»é€£æºï¼ˆ2é€±é–“ï¼‰

**Week 3**:
- âœ… `ProductRegistrationModal` å®Ÿè£…
  - å•†å“ã‚¿ã‚¤ãƒ—é¸æŠUI
  - ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - SKUé‡è¤‡ãƒã‚§ãƒƒã‚¯
- âœ… ç”»åƒãƒªã‚µã‚¤ã‚ºå‡¦ç†ï¼ˆSupabase Storageã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰
- âœ… å•†å“ç™»éŒ²APIå®Ÿè£…

**Week 4**:
- âœ… ã€Œå‡ºå“ãƒ‡ãƒ¼ã‚¿ä½œæˆã€ãƒœã‚¿ãƒ³å®Ÿè£…
- âœ… `/tools/editing` ã¸ã®ãƒ‡ãƒ¼ã‚¿å—ã‘æ¸¡ã—
- âœ… `inventory_master` â†’ `yahoo_scraped_products` å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯
- âœ… `/tools/editing` ã§ã®ãƒ‡ãƒ¼ã‚¿å—å–å‡¦ç†

**æˆæœç‰©**:
- å•†å“ç™»éŒ²æ©Ÿèƒ½å®Œæˆ
- æ£šå¸ã— â†” å‡ºå“ç·¨é›†ã®é€£æºå®Œæˆ

---

### Phase 1-3: ã‚»ãƒƒãƒˆå•†å“æ©Ÿèƒ½ï¼ˆ2é€±é–“ï¼‰

**Week 5**:
- âœ… è¤‡æ•°å•†å“é¸æŠUIï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼‰
- âœ… `SetProductModal` å®Ÿè£…
  - ã‚»ãƒƒãƒˆåå…¥åŠ›
  - æ§‹æˆå“ãƒªã‚¹ãƒˆè¡¨ç¤º
  - æ•°é‡è¨­å®šUI
  - ã‚»ãƒƒãƒˆåœ¨åº«è‡ªå‹•è¨ˆç®—
  - ã‚»ãƒƒãƒˆè²©å£²ä¾¡æ ¼å…¥åŠ›
- âœ… `set_components` ãƒ†ãƒ¼ãƒ–ãƒ«é€£æº
- âœ… `calculate_set_available_quantity()` é–¢æ•°ãƒ†ã‚¹ãƒˆ

**Week 6**:
- âœ… `/tools/editing` ã§ã®ã‚»ãƒƒãƒˆå“æ¤œå‡º
- âœ… `TabFinal` ã«ã‚»ãƒƒãƒˆå“æƒ…å ±è¡¨ç¤º
- âœ… é‡è¤‡å‡ºå“ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
- âœ… æ§‹æˆå“è‡ªå‹•åœæ­¢ãƒ­ã‚¸ãƒƒã‚¯
- âœ… ã‚»ãƒƒãƒˆå“å‡ºå“APIå®Ÿè£…

**æˆæœç‰©**:
- ã‚»ãƒƒãƒˆå•†å“ä½œæˆãƒ»å‡ºå“æ©Ÿèƒ½å®Œæˆ

---

### Phase 1-4: å—æ³¨é€£å‹•ãƒ»æœ€çµ‚èª¿æ•´ï¼ˆ1é€±é–“ï¼‰

**Week 7**:
- âœ… `/api/orders/webhook` å®Ÿè£…
- âœ… åœ¨åº«è‡ªå‹•æ¸›ç®—ãƒ­ã‚¸ãƒƒã‚¯
- âœ… `inventory_changes` å±¥æ­´è¨˜éŒ²
- âœ… WebSocketé€šçŸ¥å®Ÿè£…ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
- âœ… ãƒ­ã‚°æ©Ÿèƒ½å®Ÿè£…

**æˆæœç‰©**:
- å—æ³¨é€£å‹•æ©Ÿèƒ½å®Œæˆ
- ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®çµ±åˆãƒ†ã‚¹ãƒˆå®Œäº†

---

## 7. æŠ€è¡“ä»•æ§˜

### 7.1 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|---------|------|-----------|
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | Next.js | 14.2.x |
| **è¨€èª** | TypeScript | 5.x |
| **UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª** | shadcn/ui | latest |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | Supabase (PostgreSQL) | 15.x |
| **èªè¨¼** | Supabase Auth | latest |
| **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** | Supabase Storage | latest |
| **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°** | Tailwind CSS | 3.x |
| **ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†** | React Hook Form | 7.x |
| **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³** | Zod | 3.x |
| **çŠ¶æ…‹ç®¡ç†** | React Context + Hooks | - |

### 7.2 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
app/
â”œâ”€â”€ zaiko/
â”‚   â””â”€â”€ tanaoroshi/
â”‚       â”œâ”€â”€ page.tsx                    # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ ProductCard.tsx         # å•†å“ã‚«ãƒ¼ãƒ‰
â”‚       â”‚   â”œâ”€â”€ ProductRegistrationModal.tsx  # å•†å“ç™»éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚       â”‚   â”œâ”€â”€ SetProductModal.tsx     # ã‚»ãƒƒãƒˆå•†å“ä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚       â”‚   â”œâ”€â”€ StatsHeader.tsx         # çµ±è¨ˆãƒ˜ãƒƒãƒ€ãƒ¼
â”‚       â”‚   â”œâ”€â”€ FilterPanel.tsx         # ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ‘ãƒãƒ«
â”‚       â”‚   â””â”€â”€ ImageUploader.tsx       # ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ€ãƒ¼
â”‚       â””â”€â”€ hooks/
â”‚           â”œâ”€â”€ useInventoryData.ts     # åœ¨åº«ãƒ‡ãƒ¼ã‚¿å–å¾—
â”‚           â””â”€â”€ useSetCreation.ts       # ã‚»ãƒƒãƒˆå•†å“ä½œæˆ
â”‚
â”œâ”€â”€ tools/
â”‚   â””â”€â”€ editing/
â”‚       â”œâ”€â”€ page.tsx                    # æ—¢å­˜
â”‚       â””â”€â”€ components/
â”‚           â””â”€â”€ ProductModal.tsx        # æ‹¡å¼µ: ã‚»ãƒƒãƒˆå“å¯¾å¿œ
â”‚
â””â”€â”€ api/
    â”œâ”€â”€ inventory/
    â”‚   â”œâ”€â”€ route.ts                    # GET/POST
    â”‚   â””â”€â”€ [id]/route.ts               # PUT/DELETE
    â”œâ”€â”€ inventory/
    â”‚   â””â”€â”€ set/route.ts                # ã‚»ãƒƒãƒˆå“ä½œæˆ
    â””â”€â”€ orders/
        â””â”€â”€ webhook/route.ts            # å—æ³¨Webhook

components/
â””â”€â”€ inventory/                          # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    â”œâ”€â”€ ProductTypeBadge.tsx
    â””â”€â”€ StockIndicator.tsx

lib/
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ inventory.ts                    # åœ¨åº«é–¢é€£ãƒ˜ãƒ«ãƒ‘ãƒ¼
â””â”€â”€ utils/
    â”œâ”€â”€ imageResize.ts                  # ç”»åƒãƒªã‚µã‚¤ã‚º
    â””â”€â”€ setCalculation.ts               # ã‚»ãƒƒãƒˆåœ¨åº«è¨ˆç®—

types/
â””â”€â”€ inventory.ts                        # åœ¨åº«é–¢é€£å‹å®šç¾©
```

### 7.3 APIä»•æ§˜

#### **GET /api/inventory**

**èª¬æ˜**: åœ¨åº«ä¸€è¦§å–å¾—

**Query Parameters**:
```typescript
{
  product_type?: 'stock' | 'dropship' | 'set' | 'hybrid'
  search?: string          // SKUã¾ãŸã¯å•†å“åã§æ¤œç´¢
  category?: string
  stock_status?: 'in_stock' | 'out_of_stock'
  limit?: number           // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 50
  offset?: number          // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0
}
```

**Response**:
```typescript
{
  data: InventoryProduct[]
  total: number
  limit: number
  offset: number
}
```

---

#### **POST /api/inventory**

**èª¬æ˜**: å•†å“ç™»éŒ²

**Request Body**:
```typescript
{
  product_name: string
  sku: string
  product_type: 'stock' | 'dropship' | 'set' | 'hybrid'
  cost_price: number
  selling_price?: number
  physical_quantity: number
  condition_name: 'new' | 'used' | 'refurbished'
  category?: string
  images: string[]           // Supabase Storage URLs
  supplier_info?: {          // ç„¡åœ¨åº«ã®å ´åˆ
    url: string
    tracking_id?: string
  }
}
```

**Response**:
```typescript
{
  success: true
  data: InventoryProduct
}
```

---

#### **POST /api/inventory/set**

**èª¬æ˜**: ã‚»ãƒƒãƒˆå•†å“ä½œæˆ

**Request Body**:
```typescript
{
  product_name: string
  sku: string
  selling_price: number
  components: Array<{
    product_id: string
    quantity: number
  }>
}
```

**Response**:
```typescript
{
  success: true
  data: {
    set_product: InventoryProduct
    calculated_stock: number
  }
}
```

---

#### **POST /api/orders/webhook**

**èª¬æ˜**: å—æ³¨é€šçŸ¥å—ä¿¡

**Request Body**:
```typescript
{
  marketplace: 'ebay' | 'amazon' | 'shopee'
  order_id: string
  sku: string
  quantity: number
  buyer_name: string
}
```

**Response**:
```typescript
{
  success: true
  updated_stock: number
}
```

---

## 8. ãƒ†ã‚¹ãƒˆè¨ˆç”»

### 8.1 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

**å¯¾è±¡**:
- `lib/utils/setCalculation.ts` - ã‚»ãƒƒãƒˆåœ¨åº«è¨ˆç®—
- `lib/utils/imageResize.ts` - ç”»åƒãƒªã‚µã‚¤ã‚º
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°

**ãƒ„ãƒ¼ãƒ«**: Jest + React Testing Library

**ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: 80%ä»¥ä¸Š

---

### 8.2 çµ±åˆãƒ†ã‚¹ãƒˆ

**ã‚·ãƒŠãƒªã‚ª**:

**Test Case 1: å•†å“ç™»éŒ² â†’ å‡ºå“ãƒ•ãƒ­ãƒ¼**
```
1. å•†å“ç™»éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
2. SKUã€åŸä¾¡ã€åœ¨åº«æ•°ã‚’å…¥åŠ›
3. ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
4. ã€Œä¿å­˜ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
5. inventory_master ã«ä¿å­˜ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
6. ã€Œå‡ºå“ãƒ‡ãƒ¼ã‚¿ä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
7. /tools/editing ã«é·ç§»ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
8. ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
```

**Test Case 2: ã‚»ãƒƒãƒˆå•†å“ä½œæˆ â†’ å‡ºå“**
```
1. å•†å“A, B, Cã‚’é¸æŠ
2. ã€Œã‚»ãƒƒãƒˆå•†å“ä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ã‚»ãƒƒãƒˆåã€æ•°é‡ã‚’å…¥åŠ›
4. ã‚»ãƒƒãƒˆåœ¨åº«æ•°ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
5. ã€Œä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
6. set_components ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¿å­˜ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
7. /tools/editing ã«é·ç§»
8. ã‚»ãƒƒãƒˆå“æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
9. é‡è¤‡ãƒã‚§ãƒƒã‚¯ãŒå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
10. å‡ºå“å®Ÿè¡Œã§æ§‹æˆå“ãŒåœæ­¢ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
```

**Test Case 3: å—æ³¨é€£å‹•**
```
1. åœ¨åº«10å€‹ã®å•†å“ã‚’æº–å‚™
2. å—æ³¨Webhookã‚’é€ä¿¡ï¼ˆquantity: 1ï¼‰
3. åœ¨åº«ãŒ9å€‹ã«æ¸›ç®—ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
4. inventory_changes ã«å±¥æ­´ãŒè¨˜éŒ²ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
```

---

### 8.3 E2Eãƒ†ã‚¹ãƒˆ

**ãƒ„ãƒ¼ãƒ«**: Playwright

**ã‚·ãƒŠãƒªã‚ª**:
```
E2E-1: å®Œå…¨ãªå‡ºå“ãƒ•ãƒ­ãƒ¼
  â”œâ”€ å•†å“ç™»éŒ²
  â”œâ”€ å‡ºå“ãƒ‡ãƒ¼ã‚¿ç·¨é›†
  â”œâ”€ eBayå‡ºå“
  â””â”€ å—æ³¨ â†’ åœ¨åº«æ¸›ç®—

E2E-2: ã‚»ãƒƒãƒˆå“ã®å®Œå…¨ãƒ•ãƒ­ãƒ¼
  â”œâ”€ å˜å“ç™»éŒ²Ã—3
  â”œâ”€ ã‚»ãƒƒãƒˆä½œæˆ
  â”œâ”€ ã‚»ãƒƒãƒˆå‡ºå“
  â”œâ”€ é‡è¤‡åœæ­¢ç¢ºèª
  â””â”€ ã‚»ãƒƒãƒˆå—æ³¨ â†’ æ§‹æˆå“åœ¨åº«æ¸›ç®—
```

---

## 9. ãƒ‡ãƒ—ãƒ­ã‚¤è¨ˆç”»

### 9.1 ç’°å¢ƒ

| ç’°å¢ƒ | URL | ç”¨é€” |
|------|-----|------|
| **é–‹ç™º** | `localhost:3000` | ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º |
| **ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°** | `https://staging.n3.emverze.com` | ãƒ†ã‚¹ãƒˆç’°å¢ƒ |
| **æœ¬ç•ª** | `https://n3.emverze.com` | æœ¬ç•ªç’°å¢ƒ |

### 9.2 ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼

```
1. é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒï¼ˆclaude/tanaoroshi-systemï¼‰ã§é–‹ç™º
   â†“
2. Pull Requestä½œæˆ
   â†“
3. ãƒ¬ãƒ“ãƒ¥ãƒ¼ + è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   â†“
4. mainãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸
   â†“
5. Vercelè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæœ¬ç•ªï¼‰
   â†“
6. VPSã§pm2 restartï¼ˆç¾åœ¨ã®é‹ç”¨ï¼‰
```

### 9.3 ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»

**æ‰‹é †**:
```bash
# VPSä¸Šã§å®Ÿè¡Œ
cd /home/ubuntu/n3-frontend_new
git log --oneline -10  # ç›´å‰ã®ã‚³ãƒŸãƒƒãƒˆã‚’ç¢ºèª
git checkout <å‰ã®ã‚³ãƒŸãƒƒãƒˆID>
npm run build
pm2 restart n3-frontend
```

---

## 10. ãƒªã‚¹ã‚¯ç®¡ç†

### 10.1 æŠ€è¡“çš„ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| **ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®å¤±æ•—** | ä¸­ | - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–<br>- ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½å®Ÿè£…<br>- Supabase Storageå®¹é‡ç›£è¦– |
| **ã‚»ãƒƒãƒˆåœ¨åº«è¨ˆç®—ã®ä¸æ•´åˆ** | é«˜ | - ã‚¹ãƒˆã‚¢ãƒ‰é–¢æ•°ã§ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¿è¨¼<br>- å®šæœŸçš„ãªåœ¨åº«æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ |
| **å—æ³¨Webhookå–ã‚Šã“ã¼ã—** | é«˜ | - Webhookå†é€æ©Ÿèƒ½<br>- ãƒ­ã‚°è¨˜éŒ²<br>- æ‰‹å‹•è£œæ­£UI |
| **å¤§é‡ãƒ‡ãƒ¼ã‚¿ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹** | ä¸­ | - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³<br>- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–<br>- ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚° |

### 10.2 é‹ç”¨ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œãƒŸã‚¹** | ä¸­ | - ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º<br>- æ“ä½œå±¥æ­´è¨˜éŒ²<br>- Undoæ©Ÿèƒ½ï¼ˆå°†æ¥å®Ÿè£…ï¼‰ |
| **ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±** | é«˜ | - Supabaseè‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—<br>- å®šæœŸçš„ãªæ‰‹å‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— |
| **APIåˆ¶é™è¶…é** | ä¸­ | - ãƒ¬ãƒ¼ãƒˆåˆ¶é™ç›£è¦–<br>- ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š |

---

## 11. æˆåŠŸåŸºæº–

### 11.1 æ©Ÿèƒ½é¢

- âœ… å•†å“ç™»éŒ²ã‹ã‚‰å‡ºå“ã¾ã§ã®ãƒ•ãƒ­ãƒ¼ãŒ5åˆ†ä»¥å†…ã§å®Œäº†
- âœ… ã‚»ãƒƒãƒˆå•†å“ã®åœ¨åº«ãŒæ­£ç¢ºã«è¨ˆç®—ã•ã‚Œã‚‹ï¼ˆèª¤å·®0%ï¼‰
- âœ… å—æ³¨ã‹ã‚‰åœ¨åº«æ¸›ç®—ã¾ã§30ç§’ä»¥å†…
- âœ… 100ä»¶ä»¥ä¸Šã®å•†å“ã‚’1ç§’ä»¥å†…ã«è¡¨ç¤º

### 11.2 å“è³ªé¢

- âœ… ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š
- âœ… E2Eãƒ†ã‚¹ãƒˆå…¨ã‚·ãƒŠãƒªã‚ªPass
- âœ… Lighthouse Performance Score 90ä»¥ä¸Š
- âœ… ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç‡1%æœªæº€

### 11.3 ãƒ“ã‚¸ãƒã‚¹é¢

- âœ… åœ¨åº«ç®¡ç†å·¥æ•°ã‚’50%å‰Šæ¸›
- âœ… é‡è¤‡å‡ºå“ãƒŸã‚¹ã‚’0ä»¶ã«
- âœ… åœ¨åº«ä¸è¶³ã«ã‚ˆã‚‹æ©Ÿä¼šæå¤±ã‚’30%å‰Šæ¸›

---

## 12. ä»Šå¾Œã®æ‹¡å¼µè¨ˆç”»

### Phase 2ï¼ˆ3ãƒ¶æœˆå¾Œï¼‰

- Amazon SP-APIé€£æº
- Shopee APIé€£æº
- Coupang APIé€£æº
- åœ¨åº«è‡ªå‹•è£œå……ã‚¢ãƒ©ãƒ¼ãƒˆ

### Phase 3ï¼ˆ6ãƒ¶æœˆå¾Œï¼‰

- ä»•å…¥å…ˆè‡ªå‹•ç™ºæ³¨
- å¤šè¨€èªå¯¾å¿œï¼ˆè‹±èªã€ä¸­å›½èªï¼‰
- ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª
- AIåœ¨åº«äºˆæ¸¬

---

## 13. é–‹ç™ºãƒªã‚½ãƒ¼ã‚¹

### 13.1 é–‹ç™ºä½“åˆ¶

| å½¹å‰² | æ‹…å½“è€… | å·¥æ•° |
|------|--------|------|
| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼** | User | å…¨æœŸé–“ |
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º** | Claude | 6é€±é–“ |
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º** | Claude | 6é€±é–“ |
| **UI/UXãƒ‡ã‚¶ã‚¤ãƒ³** | Claude | 2é€±é–“ |
| **ãƒ†ã‚¹ãƒˆ** | Claude | 1é€±é–“ |

### 13.2 ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

```
Week 1-2: Phase 1-1 (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»åŸºæœ¬UI)
Week 3-4: Phase 1-2 (å•†å“ç™»éŒ²ãƒ»é€£æº)
Week 5-6: Phase 1-3 (ã‚»ãƒƒãƒˆå•†å“æ©Ÿèƒ½)
Week 7:   Phase 1-4 (å—æ³¨é€£å‹•ãƒ»æœ€çµ‚èª¿æ•´)
```

**å®Œæˆäºˆå®šæ—¥**: 2025å¹´12æœˆ8æ—¥

---

## 14. æ‰¿èª

| æ‰¿èªè€… | å½¹å‰² | æ‰¿èªæ—¥ |
|--------|------|--------|
| User | ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼ | 2025-10-26 |

---

**ä»¥ä¸Šã€æ£šå¸ã—ï¼ˆåœ¨åº«ï¼‰çµ±åˆã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºè¨ˆç”»æ›¸**
