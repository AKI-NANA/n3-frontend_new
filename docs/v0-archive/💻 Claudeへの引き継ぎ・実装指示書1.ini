💻 Claudeへの引き継ぎ・実装指示書1. 📂 ファイルの格納指示以下のコードを、n3-frontend_newプロジェクトの指定されたファイルパスに格納または上書きで修正してください。ファイルパス内容/types/product.tsステップ1のコード（ResearchPromptTypeの型定義を追記）/lib/gemini-api.tsステップ2のコード（generateResearchPrompt関数を含む新規ファイル）/components/ProductModal/components/Tabs/TabData.tsxステップ3のコード（AIリサーチボタンをドロップダウンに置換する修正）/app/api/gemini/run-prompt/route.tsステップ4のコード（新規APIルートファイル）2. 🔗 依存関係と連携の確立格納後、以下のリンク修正と依存関係の調整を行ってください。TypeScriptのインポート修正: /components/ProductModal/components/Tabs/TabData.tsx および /app/api/gemini/run-prompt/route.ts において、@/types/product や @/lib/gemini-api のインポートパスが正しく解決されているか確認し、必要に応じて修正してください。UIコンポーネントの確認: /components/ProductModal/components/Tabs/TabData.tsx が使用している DropdownMenu, Button, Search などのコンポーネントが、プロジェクトの既存のshadcn/uiまたはカスタムコンポーネントのパスから正しくインポートされているか確認してください。画像パスの確認: /lib/gemini-api.ts のロジックで画像URLを取得する際、productData.listing_data?.primary_image_url や productData.gallery_images?.[0]?.url のパスが、実際のDBデータ構造と一致しているか確認し、必要に応じて修正してください。3. 🚀 動作検証と次のステップ上記修正が完了したら、http://localhost:3000/tools/editing にアクセスし、商品詳細モーダルの**「データタブ」内に「AIリサーチを選択」ドロップダウンボタン**が表示されることを確認してください。次のタスク:このAIリサーチ機能を完全に実用化するため、/app/api/gemini/run-prompt/route.ts にて以下の外部連携ロジックを実装してください。Gemini Vision APIの実装: imageUrl が存在する場合、実際の画像データをBase64エンコードし、Vision API（またはマルチモーダル対応のGemini）を呼び出すクライアントロジックを/lib/gemini-api.tsに追加実装する。DBへの反映: AIから返されたJSON結果（例: タイトル、HTS、価格）を解析し、productId をキーとして、products_master テーブルの該当フィールドにデータを更新するロジックを追記する。