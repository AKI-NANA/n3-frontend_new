# 🎹 山内ピアノ教室 Webサイト - 分割版

## ✅ 完成しました!

5つの修正を全て適用し、CSS、JavaScript、HTMLに分割した、プロフェッショナルなバージョンが完成しました!

---

## 📁 ファイル構成

```
site/piano/
├── index.html              ← メインHTML (599行)
├── css/
│   └── style.css          ← 全スタイル (1,400行以上)
├── js/
│   └── main.js            ← 全JavaScript (400行以上)
├── mp3/                   ← 音源ファイル
├── mp4/                   ← 動画ファイル
└── jpg/                   ← 画像ファイル
```

---

## ✅ 適用済みの修正内容

### 1. ✅ 発表会人気曲紹介 - 完全実装
- **クラシック**: 20曲
  - 🎵音源あり: 7曲
  - 詳細情報あり: 2曲  
  - リスト掲載のみ: 11曲
- **ポピュラー**: 18曲
- **合計**: 38曲
- 音源がある曲には自動的に🎵アイコン表示

### 2. ✅ LINE問い合わせボタン削除
- メール問い合わせボタンのみ表示

### 3. ✅ 発表会の様子の画像表示修正
- `jpg/1445.jpg`と`jpg/1446.jpg`を正しく表示
- aspect-ratio: 4/3で統一

### 4. ✅ 電話問い合わせボタン削除
- シンプルなメールのみの構成

### 5. ✅ 音楽ON/OFF管理 - 完全実装
- 右固定ボタンで全音楽を完全制御
- 3つの状態管理:
  - ⏸ (playing) - BGM再生中
  - ▶ (paused) - BGM一時停止
  - ■ (stopped) - 全音楽完全停止
- ワンクリックで全サンプル停止可能
- BGMと試聴曲の完全な排他制御

---

## 🎨 ファイル分割のメリット

### ✅ メリット
1. **管理しやすい** - 各ファイルが独立しているため編集が簡単
2. **読み込みが速い** - ブラウザがCSSとJSをキャッシュ
3. **プロフェッショナル** - 業界標準の構成
4. **共同作業に最適** - デザイナーとプログラマーが同時に作業可能
5. **デバッグが簡単** - エラーの場所が特定しやすい

### 📊 ファイルサイズ
- **HTML**: 約30KB (軽量!)
- **CSS**: 約80KB
- **JavaScript**: 約20KB
- **合計**: 約130KB (画像除く)

---

## 🚀 使い方

### 1. ローカルで確認
```bash
# ディレクトリに移動
cd /Users/aritahiroaki/n3-frontend_new/site/piano

# ブラウザで開く
open index.html
```

### 2. 編集方法

#### CSSを編集したい場合:
```bash
# css/style.css を編集
# 保存してブラウザをリロード
```

#### JavaScriptを編集したい場合:
```bash
# js/main.js を編集
# 保存してブラウザをリロード
```

#### HTMLを編集したい場合:
```bash
# index.html を編集
# 保存してブラウザをリロード
```

---

## 🎵 音楽機能の仕組み

### 右下固定ボタン
- **⏸ (再生中)** → クリックで全停止 (■)
- **▶ (一時停止)** → クリックで全停止 (■)
- **■ (停止)** → クリックでBGM再生 (⏸)

### 排他制御
1. 曲の試聴を開始 → BGM自動停止
2. 曲の試聴終了 → BGM自動再開
3. コントロールボタン → 全て即座に停止

---

## ⚙️ 設定が必要な項目

### 1. EmailJS設定
`js/main.js`の以下の部分を編集:

```javascript
// 行数: 約350
emailjs.init("YOUR_PUBLIC_KEY_HERE");

// 行数: 約370
emailjs.send('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', formData)
```

**設定手順**:
1. https://www.emailjs.com/ でアカウント作成
2. Email ServiceとTemplateを作成
3. Public Key、Service ID、Template IDを取得
4. 上記コードに貼り付け

詳細: `EMAILJS_SETUP.md`を参照

### 2. Googleカレンダー設定
`index.html`の以下の部分を編集:

```html
<!-- 行数: 約360 -->
<iframe src="YOUR_CALENDAR_EMBED_URL">
```

**設定手順**:
1. Googleカレンダーを開く
2. 該当カレンダーの「設定と共有」
3. 「一般公開して誰でも利用できるようにする」をチェック
4. 「統合カレンダー」から埋め込みコードを取得
5. iframe srcに貼り付け

---

## 📋 実装済み曲リスト

### クラシック (20曲)

#### 🎵 音源あり (7曲)
1. エリーゼのために - ベートーヴェン
2. トルコ行進曲 - モーツァルト
3. 子犬のワルツ - ショパン
4. 幻想即興曲 - ショパン
5. ノクターン2番 - ショパン
6. 愛の夢 - リスト
7. ラ・カンパネラ - リスト

#### 詳細情報あり (2曲)
8. 月光ソナタ - ベートーヴェン
9. 革命のエチュード - ショパン

#### リスト掲載のみ (11曲)
10. かっこう - ダカン
11. 乙女の祈り - バダジェフスカ
12. カノン - パッヘルベル
13. ジムノペディ第1番 - サティ
14. ワルツ・エチュード - ギロック
15. メヌエット ト長調 - バッハ
16. ソナチネ - クレメンティ
17. 即興曲 変ホ長調 - シューベルト
18. きらきら星変奏曲 - モーツァルト
19. 花のワルツ - チャイコフスキー
20. 月の光 - ドビュッシー

### ポピュラー (18曲)
1. ホールニューワールド - アラジン
2. 輝く未来 - 塔の上のラプンツェル
3. 美女と野獣 - 美女と野獣
4. アイドル - YOASOBI
5. 勇者 - YOASOBI
6. スパークル - 君の名は
7. 晩餐歌 - Tuki.
8. いつも何度でも - 千と千尋の神隠し
9. となりのトトロ - となりのトトロ
10. ルージュの伝言 - 魔女の宅急便
11. Summer - 久石譲
12. ハウルの動く城 - 久石譲
13. 渚のアデリーヌ - リチャード・クレイダーマン
14. 残酷な天使のテーゼ - 佐藤英敏
15. 情熱大陸 - 葉加瀬太郎
16. 千本桜 - 初音ミク
17. ナイティブフェイス - Zun
18. ボヘミアンラプソディ - クイーン

---

## 🌐 デプロイ方法

### Netlifyで公開 (推奨)

#### 手順:
1. https://www.netlify.com/ にアクセス
2. アカウント作成 (無料)
3. 「Sites」→「Add new site」→「Deploy manually」
4. `site/piano`フォルダ全体をドラッグ&ドロップ
5. 完成! 🎉

#### 完成後:
- URL: `https://ランダム名.netlify.app`
- このURLを共有すれば誰でもアクセス可能!

### その他の方法
- **Vercel**: Netlifyと同じく簡単
- **GitHub Pages**: GitHubアカウントが必要
- **レンタルサーバー**: FTP設定が必要

---

## ✅ 動作確認チェックリスト

### 基本動作
- [ ] ページが正常に表示される
- [ ] CSSが正しく読み込まれている
- [ ] JavaScriptが正しく読み込まれている
- [ ] 全ての画像が表示される

### 音楽機能
- [ ] BGMモーダルが表示される
- [ ] 音楽コントロールボタンが3つの状態で動作
- [ ] 🎵アイコンが音源ありの曲のみに表示
- [ ] 曲の試聴中はBGMが停止
- [ ] コントロールボタンで全音楽が停止できる

### 発表会セクション
- [ ] 動画が表示される
- [ ] 発表会画像2枚が表示される (1445.jpg、1446.jpg)
- [ ] クラシック20曲が表示される
- [ ] ポピュラー18曲が表示される
- [ ] タブ切り替えが動作する

### 問い合わせ
- [ ] メール問い合わせボタンのみ表示
- [ ] フォーム送信が動作 (EmailJS設定後)

---

## 🎯 次のステップ

### 1. EmailJSとカレンダー設定 (10分)
- [ ] EmailJS: Public Key、Service ID、Template ID
- [ ] Googleカレンダー: Calendar ID

### 2. ローカルテスト (5分)
- [ ] ブラウザで`index.html`を開く
- [ ] 全機能をテスト

### 3. Netlifyにデプロイ (5分)
- [ ] フォルダをドラッグ&ドロップ
- [ ] URLを取得

### 4. 公開完了! 🎊

---

## 📊 完成度

| 項目 | 状態 |
|------|------|
| ファイル分割 | ✅ 完成 |
| HTML | ✅ 完成 |
| CSS | ✅ 完成 |
| JavaScript | ✅ 完成 |
| 5つの修正 | ✅ 完成 |
| 音楽制御 | ✅ 完成 |
| 曲データベース | ✅ 完成 |
| レスポンシブ | ✅ 完成 |
| EmailJS | ⚠️ 設定必要 |
| カレンダー | ⚠️ 設定必要 |

**完成度: 95%**

---

## 🎉 まとめ

### ✅ 完了したこと
1. ✅ HTML、CSS、JavaScriptに分割
2. ✅ 5つの修正を全て適用
3. ✅ プロフェッショナルな構成
4. ✅ 管理しやすいコード
5. ✅ 高速な読み込み

### 📝 残りの作業
- EmailJS設定 (5分)
- Googleカレンダー設定 (3分)
- Netlifyデプロイ (2分)

**これで本当に完成です!** 🎊

---

## 💡 Tips

### CSSを編集する場合
- `css/style.css`を開く
- 色を変える: `:root`の変数を編集
- レイアウトを変える: 該当セクションのCSSを編集

### JavaScriptを編集する場合
- `js/main.js`を開く
- 音楽機能: 最初の部分を編集
- フォーム: 最後の部分を編集

### HTMLを編集する場合
- `index.html`を開く
- 文章を変える: 該当セクションを編集
- 画像を変える: `src`属性を編集

---

**ファイル**: `index.html`、`css/style.css`、`js/main.js`

素晴らしいWebサイトをお楽しみください! 🎹✨
