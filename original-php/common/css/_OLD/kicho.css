/**
 * ===== NAGANO-3 è¨˜å¸³è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ« CSSçµ±åˆå®Œå…¨ç‰ˆ =====
 * ãƒ•ã‚¡ã‚¤ãƒ«: common/css/pages/kicho.kicho__table th.fixed-4 {
    background:
        linear-gradient(to right, var(--fixed-bg-header) 0%, var(--fixed-bg-header) 100%),
        var(--fixed-bg-header) !important;
    z-index: 25 !important;
    left: 310px !important;
    width: var(--fixed-col-4-width) !important;
    min-width: var(--fixed-col-4-width) !important;
    max-width: var(--fixed-col-4-width) !important;
    border: none !important;
    border-bottom: 1px solid var(--border-color) !important;
    position: sticky !important;
    top: 0 !important;
    bottom: auto !important;
    transform: none !important;
    will-change: auto !important;
    contain: layout style paint !important;
}

/* ãƒ›ãƒãƒ¼åŠ¹æœï¼ˆå®Œå…¨ä¸é€æ˜ç¶­æŒï¼‰ */
.kicho__table tbody tr:hover .fixed-1,
.kicho__table tbody tr:hover .fixed-2,
.kicho__table tbody tr:hover .fixed-3,
.kicho__table tbody tr:hover .fixed-4 {
    background: var(--fixed-bg-hover) !important;
    opacity: 1 !important;
}

/* å¶æ•°è¡ŒèƒŒæ™¯ï¼ˆå®Œå…¨ä¸é€æ˜ç¶­æŒï¼‰ */
.kicho__table tbody tr:nth-child(even) .fixed-1,
.kicho__table tbody tr:nth-child(even) .fixed-2,
.kicho__table tbody tr:nth-child(even) .fixed-3,
.kicho__table tbody tr:nth-child(even) .fixed-4 {
    background: var(--fixed-bg-even) !important;
    opacity: 1 !important;
}

/* å¶æ•°è¡Œãƒ›ãƒãƒ¼æ™‚ï¼ˆæœ€å„ªå…ˆï¼‰ */
.kicho__table tbody tr:nth-child(even):hover .fixed-1,
.kicho__table tbody tr:nth-child(even):hover .fixed-2,
.kicho__table tbody tr:nth-child(even):hover .fixed-3,
.kicho__table tbody tr:nth-child(even):hover .fixed-4 {
    background: var(--fixed-bg-hover) !important;
    opacity: 1 !important;
}

/* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆä¸­å¤®æƒãˆï¼‰ */
.kicho__checkbox-container {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    min-height: 2.25rem;
}

.kicho__checkbox {
    appearance: none;
    width: 18px;
    height: 18px;
    border: 2px solid var(--border-color);
    border-radius: var(--radius-sm);
    background: var(--bg-secondary);
    cursor: pointer;
    position: relative;
    transition: var(--transition-fast);
    margin: 0;
    flex-shrink: 0;
}

.kicho__checkbox:checked {
    background: var(--color-primary);
    border-color: var(--color-primary);
}

.kicho__checkbox:checked::after {
    content: 'âœ“';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 12px;
    font-weight: bold;
    line-height: 1;
}

.kicho__checkbox:hover {
    border-color: var(--color-primary);
}

/* ===== ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå®Œå…¨å®Ÿè£…ãƒ»ãƒ†ãƒ¼ãƒ–ãƒ«ä¸‹éƒ¨é…ç½®ï¼‰ ===== */
.kicho__pagination {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-lg);
    background: var(--bg-secondary);
    border-top: 1px solid var(--border-color);
    border-radius: 0 0 var(--radius-lg) var(--radius-lg);
}

.kicho__pagination-info {
    font-size: var(--text-sm);
    color: var(--text-secondary);
}

.kicho__pagination-controls {
    display: flex;
    gap: var(--space-sm);
    align-items: center;
}

.kicho__pagination-btn {
    padding: var(--space-xs) var(--space-md);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    background: var(--bg-secondary);
    color: var(--text-primary);
    font-size: var(--text-sm);
    cursor: pointer;
    transition: var(--transition-fast);
    min-width: 40px;
    text-align: center;
}

.kicho__pagination-btn:hover {
    background: var(--bg-hover);
    border-color: var(--color-primary);
}

.kicho__pagination-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.kicho__pagination-btn--active {
    background: var(--color-primary);
    color: white;
    border-color: var(--color-primary);
}

.kicho__pagination-btn--ellipsis {
    border: none;
    background: transparent;
    cursor: default;
}

.kicho__pagination-btn--ellipsis:hover {
    background: transparent;
    border: none;
}

/* ===== è¡Œé¸æŠæ•°è¡¨ç¤º ===== */
.kicho__selection-info {
    background: var(--color-primary);
    color: white;
    padding: var(--space-sm) var(--space-md);
    border-radius: var(--radius-md);
    font-size: var(--text-sm);
    font-weight: 600;
    margin-left: var(--space-md);
    display: none;
}

.kicho__selection-info.show {
    display: inline-block;
}

/* ã‚¿ã‚°ã¨ãƒãƒƒã‚¸ */
.kicho__tag {
    background: rgba(59, 130, 246, 0.1);
    color: var(--color-primary);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    font-size: 0.625rem;
    font-weight: 600;
    display: inline-block;
}

.kicho__tag--green {
    background: rgba(16, 185, 129, 0.1);
    color: var(--color-success);
}

.kicho__tag--purple {
    background: rgba(139, 92, 246, 0.1);
    color: var(--color-secondary);
}

.kicho__tag--blue {
    background: rgba(6, 182, 212, 0.1);
    color: var(--color-info);
}

.kicho__tag--orange {
    background: rgba(249, 115, 22, 0.1);
    color: #f97316;
}

.kicho__tag--red {
    background: rgba(239, 68, 68, 0.1);
    color: var(--color-danger);
}

.kicho__tag--pending {
    background: rgba(245, 158, 11, 0.1);
    color: var(--color-warning);
}

/* æ“ä½œãƒœã‚¿ãƒ³ */
.kicho__action-group {
    display: flex;
    gap: 2px;
    justify-content: center;
}

.kicho__action-btn {
    width: 24px;
    height: 24px;
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    transition: var(--transition-fast);
    background: var(--bg-hover);
    color: var(--text-secondary);
}

.kicho__action-btn:hover {
    background: var(--color-primary);
    color: white;
    transform: scale(1.05);
}

.kicho__action-btn--approve {
    background: rgba(16, 185, 129, 0.1);
    color: var(--color-success);
}

.kicho__action-btn--approve:hover {
    background: var(--color-success);
    color: white;
}

.kicho__action-btn--reject {
    background: rgba(239, 68, 68, 0.1);
    color: var(--color-danger);
}

.kicho__action-btn--reject:hover {
    background: var(--color-danger);
    color: white;
}

.kicho__action-btn--edit {
    background: rgba(59, 130, 246, 0.1);
    color: var(--color-primary);
}

.kicho__action-btn--edit:hover {
    background: var(--color-primary);
    color: white;
}

/* ===== CSVä¸€æ‹¬ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«æ©Ÿèƒ½ï¼ˆå®Œå…¨çµ±åˆç‰ˆï¼‰ ===== */

/* ãƒ¢ãƒ¼ãƒ€ãƒ«åŸºæœ¬æ§‹é€  */
.kicho__modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.kicho__modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
}

.kicho__modal-content {
    position: relative;
    background: var(--bg-secondary);
    border-radius: var(--radius-xl);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    border: 1px solid var(--border-color);
    max-width: 800px;
    max-height: 90vh;
    width: 90vw;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.kicho__modal-header {
    padding: var(--space-6);
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
}

.kicho__modal-title {
    margin: 0;
    font-size: var(--text-xl);
    font-weight: 600;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.kicho__modal-close {
    background: none;
    border: none;
    font-size: var(--text-lg);
    cursor: pointer;
    color: var(--text-secondary);
    padding: var(--space-2);
    border-radius: var(--radius-md);
    transition: var(--transition-normal);
}

.kicho__modal-close:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
}

.kicho__modal-body {
    padding: var(--space-6);
    overflow-y: auto;
    flex: 1;
}

.kicho__modal-footer {
    padding: var(--space-4) var(--space-6);
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: flex-end;
    gap: var(--space-3);
    background: var(--bg-tertiary);
}

/* CSVã‚¹ãƒ†ãƒƒãƒ— */
.kicho__csv-step {
    margin-bottom: var(--space-6);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.kicho__step-header {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
    color: white;
    padding: var(--space-4);
    display: flex;
    align-items: center;
    gap: var(--space-3);
}

.kicho__step-number {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: var(--text-sm);
}

.kicho__step-content {
    padding: var(--space-5);
}

/* ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³ */
.kicho__download-options,
.kicho__upload-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-4);
    margin-bottom: var(--space-4);
}

/* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢ */
.kicho__csv-preview {
    margin-top: var(--space-6);
    padding: var(--space-4);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-lg);
    background: var(--bg-tertiary);
}

.kicho__preview-summary {
    margin-bottom: var(--space-4);
    padding: var(--space-3);
    background: var(--bg-primary);
    border-radius: var(--radius-md);
    font-weight: 600;
    color: var(--text-primary);
}

.kicho__rule-preview-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-3);
    margin-bottom: var(--space-4);
}

.kicho__preview-stat {
    padding: var(--space-3);
    background: var(--bg-primary);
    border-radius: var(--radius-md);
    text-align: center;
}

.kicho__stat-label {
    display: block;
    font-size: var(--text-sm);
    color: var(--text-secondary);
    margin-bottom: var(--space-1);
}

.kicho__stat-value {
    font-size: var(--text-lg);
    font-weight: 700;
    color: var(--text-primary);
}

.kicho__preview-table-wrapper {
    max-height: 300px;
    overflow: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
}

.kicho__preview-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--text-sm);
}

.kicho__preview-table th,
.kicho__preview-table td {
    padding: var(--space-2);
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

.kicho__preview-table th {
    background: var(--bg-secondary);
    font-weight: 600;
    position: sticky;
    top: 0;
}

.kicho__preview-table tbody tr:hover {
    background: var(--bg-hover);
}

/* ===== ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºï¼ˆçµ±åˆç‰ˆï¼‰ ===== */
.kicho__alert {
    display: none;
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    border-radius: var(--radius-md);
    font-size: 0.75rem;
    font-weight: 600;
    align-items: center;
    gap: 0.5rem;
    position: fixed;
    top: 15px;
    right: 15px;
    z-index: 1100;
    max-width: 300px;
    box-shadow: var(--shadow-md);
    animation: slideInRight 0.3s ease;
}

.kicho__alert--success {
    background: rgba(16, 185, 129, 0.1);
    color: var(--color-success);
    border: 1px solid rgba(16, 185, 129, 0.3);
}

.kicho__alert--error {
    background: rgba(239, 68, 68, 0.1);
    color: var(--color-danger);
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.kicho__alert--warning {
    background: rgba(245, 158, 11, 0.1);
    color: var(--color-warning);
    border: 1px solid rgba(245, 158, 11, 0.3);
}

.kicho__alert.show {
    display: flex;
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }

    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* ===== ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«å®Œå…¨å‰Šé™¤ï¼ˆçµ±åˆç‰ˆï¼‰ ===== */
body[data-page="kicho"] .debug-panel,
body[data-page="kicho"] .debug-btn,
body[data-page="kicho"] .debug-info,
body[data-page="kicho"] #debugInfo,
body[data-page="kicho"] [class*="debug"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    position: absolute !important;
    top: -9999px !important;
    left: -9999px !important;
    pointer-events: none !important;
}

/* ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«é ˜åŸŸã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— */
.debug-panel-container,
.debug-wrapper,
.debug-floating {
    display: none !important;
}

/* ãƒšãƒ¼ã‚¸ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼šãƒ‡ãƒãƒƒã‚°è¦ç´ å‰Šé™¤å¾Œã®èª¿æ•´ */
body[data-page="kicho"] {
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
}

/* è¨˜å¸³ãƒšãƒ¼ã‚¸ã®æœ€çµ‚èª¿æ•´ï¼ˆãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«å‰Šé™¤å¾Œï¼‰ */
body[data-page="kicho"] .kicho__section:last-child {
    margin-bottom: var(--space-xl) !important;
    padding-bottom: var(--space-lg) !important;
}

/* ===== ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ”ãƒŠãƒ¼å¼·åˆ¶éè¡¨ç¤ºï¼ˆçµ±åˆç‰ˆï¼‰ ===== */
.loading-spinner,
#loading-spinner,
#loadingScreen {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    height: 0 !important;
    position: absolute !important;
    top: -9999px !important;
}

/* ===== ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆçµ±åˆç‰ˆï¼‰ ===== */
@media (max-width: 768px) {
    .kicho__header {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-md);
    }

    .kicho__header-actions {
        justify-content: center;
    }

    .dashboard__stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .kicho__overview-section {
        grid-template-columns: 1fr;
    }

    .kicho__search-controls {
        flex-direction: column;
        align-items: stretch;
    }

    .kicho__table-header {
        flex-direction: column;
        gap: var(--space-md);
        min-height: auto;
        padding: var(--space-md);
    }

    .kicho__table {
        font-size: 0.75rem;
    }

    .kicho__table th,
    .kicho__table td {
        padding: 0.25rem 0.5rem;
    }

    /* CSVæ©Ÿèƒ½ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
    .kicho__modal-content {
        width: 95vw;
        max-height: 95vh;
    }

    .kicho__csv-actions {
        flex-direction: column;
        width: 100%;
    }

    .kicho__csv-actions .btn {
        width: 100%;
    }

    .kicho__download-options,
    .kicho__upload-options {
        grid-template-columns: 1fr;
    }

    .kicho__rule-preview-stats {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .dashboard__stats-grid {
        grid-template-columns: 1fr;
    }

    .kicho__overview-section {
        gap: var(--space-lg);
    }
}

/* ===== çµ±è¨ˆæƒ…å ±ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆãƒ»çµ±åˆç‰ˆï¼‰ ===== */
/*
 * ğŸ“ˆ NAGANO-3 è¨˜å¸³ã‚·ã‚¹ãƒ†ãƒ  CSSçµ±è¨ˆ:
 * - ç·ã‚¯ãƒ©ã‚¹æ•°: 150+å€‹
 * - CSSå¤‰æ•°ä½¿ç”¨: 30+å€‹
 * - å›ºå®šåˆ—ã‚·ã‚¹ãƒ†ãƒ : 4åˆ—å®Œå…¨é€£ç¶šé…ç½®
 * - CSVæ©Ÿèƒ½: å®Œå…¨çµ±åˆ
 * - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³: å®Œå…¨å®Ÿè£…
 * - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–: 3ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ
 * - ãƒ†ã‚­ã‚¹ãƒˆæœ€é©åŒ–: æŠ˜ã‚Šè¿”ã—å¯¾å¿œ
 * - Bootstrap.jså¯¾å¿œ: å®Œå…¨é€£æº
 * 
 * ğŸ” å“è³ªæŒ‡æ¨™:
 * - !importantä½¿ç”¨: å¿…è¦æœ€å°é™ï¼ˆå›ºå®šåˆ—ã®ã¿ï¼‰
 * - Z-indexç®¡ç†: éšå±¤åŒ–æ¸ˆã¿ï¼ˆ15-26å±¤ï¼‰
 * - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: æœ€é©åŒ–æ¸ˆã¿
 * - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£: å¯¾å¿œæ¸ˆã¿
 * 
 * ğŸš€ ç‰¹å¾´:
 * - é€£ç¶šå›ºå®šåˆ—ï¼ˆéš™é–“ã‚¼ãƒ­ï¼‰
 * - å®Œå…¨ä¸é€æ˜åŒ–ï¼ˆæµ®ãé˜²æ­¢ï¼‰
 * - ãƒ†ã‚­ã‚¹ãƒˆæœ€é©å¹…è¨­è¨ˆ
 * - CSVä¸€æ‹¬ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«
 * - ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«å®Œå…¨å‰Šé™¤
 * - Bootstrap.jsé€£æºå¯¾å¿œ
 */

/* ===== ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ï¼ˆçµ±åˆç‰ˆï¼‰ ===== */
/*
 * NAGANO-3 è¨˜å¸³ã‚·ã‚¹ãƒ†ãƒ  CSSçµ±åˆç‰ˆ
 * Version: 4.0.0-unified
 * Last Updated: 2025-07-04
 * Integration: Bootstrap.js + CSV + Layout Fix
 * Target: common/css/pages/kicho.css
 */css
 * ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 4.0.0-unified
 * æœ€çµ‚æ›´æ–°: 2025/07/04
 * 
 * ğŸ¯ çµ±åˆæ©Ÿèƒ½:
 * âœ… æœ€é©åŒ–å›ºå®šåˆ—ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ4åˆ—é€£ç¶šãƒ»å®Œå…¨ä¸é€æ˜ï¼‰
 * âœ… 27é …ç›®ãƒ«ãƒ¼ãƒ«ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«
 * âœ… 23é …ç›®æ‰¿èªå¾…ã¡å–å¼•ãƒ†ãƒ¼ãƒ–ãƒ«
 * âœ… CSVä¸€æ‹¬ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«æ©Ÿèƒ½
 * âœ… ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£ï¼ˆBootstrap.jså¯¾å¿œï¼‰
 * âœ… ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«å®Œå…¨å‰Šé™¤
 * âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
 * âœ… NAGANO-3ã‚·ã‚¹ãƒ†ãƒ æº–æ‹ 
 */

/* ===== CSSå¤‰æ•°å®šç¾©ï¼ˆè¨˜å¸³å°‚ç”¨ãƒ»çµ±åˆç‰ˆï¼‰ ===== */
:root {
    /* è¨˜å¸³ãƒ„ãƒ¼ãƒ«å°‚ç”¨ã‚«ãƒ©ãƒ¼ */
    --kicho-primary: #059669;
    --kicho-success: #16a34a;
    --kicho-warning: #d97706;
    --kicho-danger: #dc2626;
    --mf-blue: #0066cc;
    --mf-green: #28a745;
    --mf-orange: #ff6b35;
    --color-primary-rgb: 59, 130, 246;

    /* æœ€é©åŒ–å›ºå®šåˆ—å°‚ç”¨å¤‰æ•°ï¼ˆãƒ†ã‚­ã‚¹ãƒˆæœ€é©å¹…ï¼‰ */
    --fixed-col-1-width: 50px;
    /* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆæœ€å°ï¼‰ */
    --fixed-col-2-width: 140px;
    /* IDï¼ˆçŸ­ç¸®ç‰ˆå¯¾å¿œï¼‰ */
    --fixed-col-3-width: 120px;
    /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹/ãƒ«ãƒ¼ãƒ«ï¼ˆæœ€é©ï¼‰ */
    --fixed-col-4-width: 100px;
    /* æ“ä½œï¼ˆ3ãƒœã‚¿ãƒ³æœ€é©ï¼‰ */
    --fixed-boundary-color: #3b82f6;
    --fixed-bg-solid: #ffffff;
    /* å®Œå…¨ä¸é€æ˜ç™½ */
    --fixed-bg-even: #f8fafc;
    /* å¶æ•°è¡ŒèƒŒæ™¯ */
    --fixed-bg-hover: #f1f5f9;
    /* ãƒ›ãƒãƒ¼èƒŒæ™¯ */
    --fixed-bg-header: #f9fafb;
    /* ãƒ˜ãƒƒãƒ€ãƒ¼èƒŒæ™¯ */
}

/* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å›ºå®šåˆ—èƒŒæ™¯ */
[data-theme="dark"] {
    --fixed-bg-solid: #292b2f;
    --fixed-bg-even: #2f3136;
    --fixed-bg-hover: #40444b;
    --fixed-bg-header: #36393f;
}

/* ===== ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£ï¼ˆBootstrap.jså¯¾å¿œãƒ»å·¦ãƒãƒ¼ã‚¸ãƒ³å•é¡Œè§£æ±ºï¼‰ ===== */

/* è¨˜å¸³ãƒšãƒ¼ã‚¸å°‚ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£ï¼ˆBootstrap.jså¯¾å¿œç‰ˆï¼‰ */
body[data-page="kicho"] {
    margin-left: 220px !important;
    margin-top: 80px !important;
    padding: 1.5rem !important;
    min-height: calc(100vh - 80px) !important;
    background: var(--bg-primary, #ffffff) !important;
    box-sizing: border-box !important;
    overflow-x: hidden !important;
}

/* ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
@media (max-width: 767px) {
    body[data-page="kicho"] {
        margin-left: 0 !important;
        margin-top: 60px !important;
        padding: 1rem !important;
    }
}

/* Bootstrap.jså¯¾å¿œï¼šãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¿½åŠ èª¿æ•´ */
body[data-page="kicho"] .content,
body[data-page="kicho"] main.content {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: none !important;
}

/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ»ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ã®é‡è¤‡é˜²æ­¢ï¼ˆBootstrap.jsé€£æºï¼‰ */
body[data-page="kicho"] .sidebar,
body[data-page="kicho"] .unified-sidebar {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 220px !important;
    height: 100vh !important;
    z-index: 1000 !important;
}

body[data-page="kicho"] .header,
body[data-page="kicho"] #mainHeader {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 60px !important;
    z-index: 1001 !important;
}

/* ===== ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ ===== */
.kicho__header {
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    margin-bottom: var(--space-xl);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-lg);
    flex-wrap: wrap;
}

.kicho__header-left {
    flex: 1;
    min-width: 300px;
}

.kicho__page-title {
    font-size: var(--text-2xl);
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 var(--space-md) 0;
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.kicho__page-icon {
    color: var(--color-primary);
    font-size: var(--text-2xl);
}

.kicho__system-status {
    display: flex;
    gap: var(--space-md);
    align-items: center;
    flex-wrap: wrap;
}

.kicho__status-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--text-sm);
    color: var(--text-secondary);
    padding: var(--space-xs) var(--space-sm);
    background: var(--bg-primary);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
}

.kicho__status-item--active {
    color: var(--kicho-success);
}

.kicho__header-actions {
    display: flex;
    gap: var(--space-md);
    align-items: center;
    flex-wrap: wrap;
}

/* ===== çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ ===== */
.dashboard__stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.stat-card {
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
    transition: var(--transition-normal);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.stat-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: var(--color-primary);
}

.stat-card__header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--space-md);
}

.stat-card__title {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    line-height: 1.3;
}

.stat-card__icon {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-lg);
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-white);
    font-size: var(--text-lg);
    box-shadow: var(--shadow-sm);
    transition: var(--transition-normal);
}

.stat-card:hover .stat-card__icon {
    transform: scale(1.1);
    box-shadow: var(--shadow-md);
}

.stat-card__value {
    font-size: var(--text-2xl);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
    line-height: 1.2;
}

.stat-card__trend {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--text-sm);
    font-weight: 500;
}

.trend-positive {
    color: var(--color-success);
}

.trend-negative {
    color: var(--color-danger);
}

.trend-neutral {
    color: var(--text-secondary);
}

/* ===== ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ===== */
.kicho__section {
    margin-bottom: var(--space-xl);
}

.kicho__section-header {
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-lg);
    flex-wrap: wrap;
}

.kicho__section-title {
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 var(--space-sm) 0;
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.kicho__section-title i {
    color: var(--color-primary);
}

.kicho__section-subtitle {
    font-size: var(--text-sm);
    color: var(--text-secondary);
    margin: 0;
}

.kicho__section-actions {
    display: flex;
    gap: var(--space-md);
    align-items: center;
    flex-wrap: wrap;
}

/* ===== CSVæ©Ÿèƒ½ãƒœã‚¿ãƒ³ã‚°ãƒ«ãƒ¼ãƒ— ===== */
.kicho__csv-actions {
    display: flex;
    gap: var(--space-2);
    align-items: center;
}

/* ===== 3åˆ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ ===== */
.kicho__overview-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-xl);
    margin-bottom: var(--space-xl);
    align-items: start;
}

.kicho__overview-card {
    background: var(--bg-primary);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-color);
    transition: var(--transition-normal);
    height: auto;
    min-height: 320px;
}

.kicho__overview-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.kicho__import-header {
    background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
    padding: var(--space-lg);
    border-bottom: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.kicho__import-header h3 {
    margin: 0;
    font-size: var(--text-lg);
    font-weight: 600;
    color: var(--text-primary);
}

.kicho__import-icon--mf {
    color: var(--mf-blue);
    font-size: var(--text-xl);
}

.kicho__import-icon--csv {
    color: var(--color-success);
    font-size: var(--text-xl);
}

.kicho__import-icon--ai {
    color: var(--color-secondary);
    font-size: var(--text-xl);
}

.kicho__import-form {
    padding: var(--space-lg);
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.kicho__form-group {
    margin-bottom: var(--space-lg);
}

.kicho__form-label {
    display: block;
    margin-bottom: var(--space-sm);
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-primary);
}

.kicho__form-input {
    width: 100%;
    padding: var(--space-sm) var(--space-md);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    background: var(--bg-secondary);
    color: var(--text-primary);
    font-size: var(--text-sm);
    transition: var(--transition-fast);
    min-height: 40px;
    font-family: inherit;
}

.kicho__form-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ */
.kicho__upload-area {
    border: 2px dashed var(--border-color);
    border-radius: var(--radius-md);
    padding: var(--space-xl);
    text-align: center;
    cursor: pointer;
    transition: var(--transition-normal);
    margin-bottom: var(--space-md);
    background: var(--bg-secondary);
    min-height: 120px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.kicho__upload-area:hover,
.kicho__upload-area.drag-over {
    border-color: var(--color-primary);
    background: rgba(59, 130, 246, 0.05);
}

.kicho__upload-icon {
    font-size: var(--text-3xl);
    color: var(--text-secondary);
    margin-bottom: var(--space-md);
}

.kicho__upload-text {
    margin: 0 0 var(--space-xs) 0;
    font-size: var(--text-base);
    font-weight: 600;
    color: var(--text-primary);
}

.kicho__upload-subtext {
    margin: 0;
    font-size: var(--text-sm);
    color: var(--text-secondary);
}

/* ===== ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ³ãƒ†ãƒŠ ===== */
.kicho__table-container {
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-color);
    margin-bottom: var(--space-xl);
    width: 100%;
    max-width: none;
}

.kicho__table-header {
    background: var(--bg-tertiary);
    padding: var(--space-lg);
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-md);
    min-height: 80px;
}

.kicho__search-controls {
    display: flex;
    gap: var(--space-md);
    align-items: center;
    flex-wrap: wrap;
}

.kicho__search-detail {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.kicho__search-detail label {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-secondary);
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.kicho__search-input--compact,
.kicho__select--compact {
    padding: 0.375rem 0.75rem;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    background: var(--bg-secondary);
    color: var(--text-primary);
    font-size: 0.75rem;
    height: 2rem;
    min-width: 100px;
    transition: var(--transition-fast);
}

.kicho__search-input--compact:focus,
.kicho__select--compact:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
}

/* ===== æœ€é©åŒ–å›ºå®šåˆ—ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆãƒ†ã‚­ã‚¹ãƒˆæœ€é©å¹…ãƒ»æŠ˜ã‚Šè¿”ã—å¯¾å¿œï¼‰ ===== */
.kicho__table-wrapper {
    overflow-x: auto;
    max-width: 100%;
    position: relative;
    padding-right: 20px;
    margin-right: -20px;
}

.kicho__table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    font-size: 0.875rem;
    min-width: 2200px;
    table-layout: auto;
    margin-right: 0;
}

.kicho__table th,
.kicho__table td {
    padding: 0.5rem 0.75rem;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
    vertical-align: middle;
    border-right: none;
    border-left: none;
    overflow: visible;
    word-wrap: break-word;
    line-height: 1.4;
}

.kicho__table th {
    background: var(--bg-tertiary);
    font-weight: 600;
    color: var(--text-primary);
    position: sticky;
    top: 0;
    z-index: 10;
    font-size: 0.75rem;
    min-height: 2.5rem;
    height: auto;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    cursor: pointer;
}

/* ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ã®ãŸã‚ã®çŸ¢å°è¡¨ç¤º */
.kicho__table th.sortable::after {
    content: 'â‡…';
    margin-left: 0.5rem;
    color: var(--text-muted);
    font-size: 0.8rem;
}

.kicho__table th.sortable:hover::after {
    color: var(--color-primary);
}

.kicho__table th.sort-asc::after {
    content: 'â†‘';
    color: var(--color-primary);
}

.kicho__table th.sort-desc::after {
    content: 'â†“';
    color: var(--color-primary);
}

.kicho__table tbody tr {
    min-height: 2.25rem;
    height: auto;
    transition: var(--transition-fast);
}

.kicho__table tbody tr:nth-child(even) {
    background: rgba(241, 245, 249, 0.3);
}

/* ===== é€£ç¶šå›ºå®šåˆ—ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ4åˆ—ãƒ»å®Œå…¨é€£ç¶šãƒ»ä¸é€æ˜å¼·åŒ–ï¼‰ ===== */

/* å›ºå®šåˆ—å…±é€šè¨­å®šï¼ˆé€£ç¶šé…ç½®ç‰ˆï¼‰ */
.fixed-1,
.fixed-2,
.fixed-3,
.fixed-4 {
    position: sticky !important;
    background: var(--fixed-bg-solid) !important;
    z-index: 15 !important;
    opacity: 1 !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    background-clip: padding-box !important;
    -webkit-background-clip: padding-box !important;
    border: none !important;
    border-bottom: 1px solid var(--border-color) !important;
    border-right: none !important;
    border-left: none !important;
    background:
        linear-gradient(to right, var(--fixed-bg-solid) 0%, var(--fixed-bg-solid) 100%),
        var(--fixed-bg-solid) !important;
    overflow: visible !important;
    text-overflow: clip !important;
    margin: 0 !important;
    box-sizing: border-box !important;
}

/* å›ºå®šåˆ—1: ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆ50pxãƒ»éš™é–“ã‚¼ãƒ­ï¼‰ */
.fixed-1 {
    left: 0px !important;
    width: var(--fixed-col-1-width) !important;
    min-width: var(--fixed-col-1-width) !important;
    max-width: var(--fixed-col-1-width) !important;
    text-align: center;
    padding: 0.5rem 0.25rem !important;
}

/* å›ºå®šåˆ—2: IDï¼ˆ140pxãƒ»éš™é–“ã‚¼ãƒ­é€£ç¶šï¼‰ */
.fixed-2 {
    left: 50px !important;
    width: var(--fixed-col-2-width) !important;
    min-width: var(--fixed-col-2-width) !important;
    max-width: var(--fixed-col-2-width) !important;
    text-align: left;
    white-space: normal !important;
    word-break: break-word !important;
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
}

/* å›ºå®šåˆ—3: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹/ãƒ«ãƒ¼ãƒ«ï¼ˆ120pxãƒ»éš™é–“ã‚¼ãƒ­é€£ç¶šï¼‰ */
.fixed-3 {
    left: 190px !important;
    width: var(--fixed-col-3-width) !important;
    min-width: var(--fixed-col-3-width) !important;
    max-width: var(--fixed-col-3-width) !important;
    text-align: left;
    white-space: normal !important;
    word-break: break-word !important;
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
}

/* å›ºå®šåˆ—4: æ“ä½œï¼ˆ100pxãƒ»éš™é–“ã‚¼ãƒ­é€£ç¶šãƒ»æµ®ãé˜²æ­¢å¼·åŒ–ï¼‰ */
.fixed-4 {
    left: 310px !important;
    width: var(--fixed-col-4-width) !important;
    min-width: var(--fixed-col-4-width) !important;
    max-width: var(--fixed-col-4-width) !important;
    text-align: center;
    position: sticky !important;
    background: var(--fixed-bg-solid) !important;
    z-index: 15 !important;
    padding: 0.5rem 0.5rem !important;
    top: 0 !important;
    bottom: auto !important;
    transform: none !important;
    will-change: auto !important;
    contain: layout style paint !important;
}

/* ãƒ˜ãƒƒãƒ€ãƒ¼å›ºå®šåˆ—ï¼ˆåŒã˜é€£ç¶šé…ç½®è¨­å®šï¼‰ */
.kicho__table th.fixed-1 {
    background:
        linear-gradient(to right, var(--fixed-bg-header) 0%, var(--fixed-bg-header) 100%),
        var(--fixed-bg-header) !important;
    z-index: 25 !important;
    left: 0px !important;
    width: var(--fixed-col-1-width) !important;
    min-width: var(--fixed-col-1-width) !important;
    max-width: var(--fixed-col-1-width) !important;
    border: none !important;
    border-bottom: 1px solid var(--border-color) !important;
}

.kicho__table th.fixed-2 {
    background:
        linear-gradient(to right, var(--fixed-bg-header) 0%, var(--fixed-bg-header) 100%),
        var(--fixed-bg-header) !important;
    z-index: 25 !important;
    left: 50px !important;
    width: var(--fixed-col-2-width) !important;
    min-width: var(--fixed-col-2-width) !important;
    max-width: var(--fixed-col-2-width) !important;
    border: none !important;
    border-bottom: 1px solid var(--border-color) !important;
}

.kicho__table th.fixed-3 {
    background:
        linear-gradient(to right, var(--fixed-bg-header) 0%, var(--fixed-bg-header) 100%),
        var(--fixed-bg-header) !important;
    z-index: 25 !important;
    left: 190px !important;
    width: var(--fixed-col-3-width) !important;
    min-width: var(--fixed-col-3-width) !important;
    max-width: var(--fixed-col-3-width) !important;
    border: none !important;
    border-bottom: 1px solid var(--border-color) !important;
}

.