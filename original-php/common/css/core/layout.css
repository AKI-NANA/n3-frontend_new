/* ===== ğŸ”§ ã‚µã‚¤ãƒ‰ãƒãƒ¼é€£å‹•å®Œå…¨å¹…åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ ï¼ˆNAGANO-3ä¿®æ­£ç‰ˆï¼‰ ===== */
/* ğŸ“ common/css/core/layout.css - å®Œå…¨ä¿®æ­£ç‰ˆ */

/* ===== CSSå¤‰æ•°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆç°¡ç´ åŒ–ãƒ»ä¿®æ­£ç‰ˆï¼‰ ===== */
:root {
    /* ãƒ™ãƒ¼ã‚¹å¯¸æ³• */
    --header-height: 80px;
    --sidebar-width: 220px;
    --sidebar-collapsed: 60px;
    --footer-height: 60px;
    
    /* ğŸ¯ ã‚·ãƒ³ãƒ—ãƒ«åˆ¶å¾¡å¤‰æ•°ï¼ˆJavaScripté€£å‹•ï¼‰ */
    --content-margin-left: var(--sidebar-width);
    
    /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãƒ»é–“éš” */
    --content-padding: 1.5rem;
    --transition-speed: 0.3s;
    --transition-easing: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Z-Indexéšå±¤ */
    --z-base: 1;
    --z-sidebar: 2000;
    --z-header: 3000;
}

/* ===== JavaScriptåˆ¶å¾¡ç”¨CSSå¤‰æ•°æ›´æ–°ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼‰ ===== */

/* ã‚µã‚¤ãƒ‰ãƒãƒ¼å±•é–‹çŠ¶æ…‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ */
body:not(.sidebar-collapsed):not(.sidebar-hidden) {
    --content-margin-left: var(--sidebar-width); /* 220px */
}

/* ã‚µã‚¤ãƒ‰ãƒãƒ¼æŠ˜ã‚ŠãŸãŸã¿çŠ¶æ…‹ */
body.sidebar-collapsed {
    --content-margin-left: var(--sidebar-collapsed); /* 60px */
}

/* ã‚µã‚¤ãƒ‰ãƒãƒ¼å®Œå…¨éè¡¨ç¤ºçŠ¶æ…‹ */
body.sidebar-hidden {
    --content-margin-left: 0px; /* 0px */
}

/* ===== ãƒ™ãƒ¼ã‚¹ãƒªã‚»ãƒƒãƒˆ ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    overflow-x: hidden;
    font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background: var(--bg-primary, #ffffff);
}

/* ===== ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ ===== */
.header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: var(--header-height);
    z-index: var(--z-header);
    background: var(--bg-secondary, #f8f9fa);
    border-bottom: 1px solid var(--border-color, #dee2e6);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

/* ===== ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆçµ±ä¸€ï¼‰ ===== */
.sidebar,
.unified-sidebar {
    position: fixed;
    top: var(--header-height);
    left: 0;
    /* width: var(--sidebar-width); */
    height: calc(100vh - var(--header-height));
    z-index: var(--z-sidebar);
    background: var(--bg-secondary, #2c3e50);
    border-right: 1px solid var(--border-color, #dee2e6);
    transition: all var(--transition-speed) var(--transition-easing);
    overflow-y: auto;
    overflow-x: hidden;
}

/* ã‚µã‚¤ãƒ‰ãƒãƒ¼çŠ¶æ…‹åˆ¶å¾¡ */
.sidebar--collapsed,
.unified-sidebar--collapsed {
    width: var(--sidebar-collapsed);
}

.sidebar--hidden,
.unified-sidebar--hidden {
    left: calc(var(--sidebar-width) * -1);
    width: 0;
}

/* ===== ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶å¾¡ï¼ˆ100%åŸºæº–ä¿®æ­£ç‰ˆï¼‰ ===== */
.main-content,
main.main-content,
#mainContent,
.content {
    /* ğŸ¯ 100%å¹… + å·¦ãƒãƒ¼ã‚¸ãƒ³åˆ¶å¾¡ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼‰ */
    margin-left: var(--content-margin-left);
    width: 100%;
    max-width: none;
    min-width: 0;
    
    /* ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ¶å¾¡ */
    margin-top: var(--header-height);
    padding: var(--content-padding);
    background: var(--bg-primary, #ffffff);
    min-height: calc(100vh - var(--header-height));
    
    /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    transition: margin-left var(--transition-speed) var(--transition-easing);
    
    /* ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ */
    overflow-x: hidden;
    position: relative;
    z-index: var(--z-base);
    box-sizing: border-box;
    
    /* ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹åˆ¶å¾¡ */
    flex: 1;
    display: block;
}

/* ===== å†…å´ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶å¾¡ï¼ˆãƒã‚¹ãƒ†ãƒƒãƒ‰é˜²æ­¢ï¼‰ ===== */
.page-content,
.content-wrapper,
.page-wrapper {
    margin: 0;
    padding: 0;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    background: transparent;
}

/* ===== ãƒ•ãƒƒã‚¿ãƒ¼èª¿æ•´ ===== */
footer,
.footer {
    margin-left: var(--content-margin-left);
    transition: margin-left var(--transition-speed) var(--transition-easing);
}

/* ===== JavaScriptç”¨è¿½åŠ ã‚¯ãƒ©ã‚¹ï¼ˆå¹…åˆ¶å¾¡å¼·åŒ–ï¼‰ ===== */
.js-sidebar-expanded .main-content,
.js-sidebar-expanded .content {
    margin-left: var(--sidebar-width);
}

.js-sidebar-collapsed .main-content,
.js-sidebar-collapsed .content {
    margin-left: var(--sidebar-collapsed);
}

.js-sidebar-hidden .main-content,
.js-sidebar-hidden .content {
    margin-left: 0px;
}

/* ===== ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆå¼·åŒ–ç‰ˆï¼‰ ===== */

/* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆ768px-1023pxï¼‰ï¼šæŠ˜ã‚ŠãŸãŸã¿ */
@media (min-width: 768px) and (max-width: 1023px) {
    body:not(.sidebar-hidden) {
        --content-margin-left: var(--sidebar-collapsed);
        --content-width: calc(100vw - var(--sidebar-collapsed));
        --content-max-width: calc(100vw - var(--sidebar-collapsed));
    }
    
    .sidebar,
    .unified-sidebar {
        width: var(--sidebar-collapsed);
    }
    
    :root {
        --content-padding: 1rem;
    }
}

/* ãƒ¢ãƒã‚¤ãƒ«ï¼ˆ767pxä»¥ä¸‹ï¼‰ï¼šå®Œå…¨éè¡¨ç¤º */
@media (max-width: 767px) {
    body,
    body.sidebar-collapsed,
    body.sidebar-hidden {
        --content-margin-left: 0px;
        --content-width: 100vw;
        --content-max-width: 100vw;
    }
    
    :root {
        --content-padding: 1rem;
    }
    
    .main-content,
    main.main-content,
    #mainContent {
        margin-left: 0 !important;
        width: 100vw !important;
        max-width: 100vw !important;
        padding: 1rem;
    }
    
    .sidebar,
    .unified-sidebar {
        transform: translateX(-100%);
        width: var(--sidebar-width);
    }
    
    .sidebar--mobile-open,
    .unified-sidebar--mobile-open {
        transform: translateX(0);
    }
    
    footer,
    .footer {
        margin-left: 0;
    }
}

/* ãƒ¢ãƒã‚¤ãƒ«å°ï¼ˆ479pxä»¥ä¸‹ï¼‰ */
@media (max-width: 479px) {
    :root {
        --content-padding: 0.75rem;
    }
    
    .main-content,
    main.main-content,
    #mainContent {
        padding: 0.75rem;
    }
}

/* ===== ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼‰ ===== */
.grid {
    display: grid;
    gap: var(--space-md, 1rem);
}

.grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
.grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }

@media (max-width: 768px) {
    .grid-cols-2,
    .grid-cols-3,
    .grid-cols-4 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
    }
}

/* ===== ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ã‚·ã‚¹ãƒ†ãƒ  ===== */
.flex { display: flex; }
.flex-col { flex-direction: column; }
.items-center { align-items: center; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }

/* ===== ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ– ===== */
@media (prefers-reduced-motion: reduce) {
    .main-content,
    .sidebar,
    .unified-sidebar,
    footer {
        transition: none;
    }
}

/* ===== å°åˆ·å¯¾å¿œ ===== */
@media print {
    .main-content,
    main.main-content,
    #mainContent {
        margin-left: 0 !important;
        margin-top: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        padding: 0;
    }
    
    .sidebar,
    .unified-sidebar,
    .header,
    .footer {
        display: none !important;
    }
}

/* ===== ãƒ‡ãƒãƒƒã‚°ç”¨ã‚¯ãƒ©ã‚¹ï¼ˆé–‹ç™ºæ™‚ã®ã¿ï¼‰ ===== */
.debug-width {
    position: fixed;
    top: 100px;
    right: 20px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 10px 15px;
    border-radius: 8px;
    font-family: monospace;
    font-size: 12px;
    z-index: 4000;
    pointer-events: none;
}

.debug-layout {
    outline: 2px solid #ff0000 !important;
    background: rgba(255, 0, 0, 0.1) !important;
}