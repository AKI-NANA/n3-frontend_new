#!/bin/bash

# ğŸ¯ æ‰¿èªã‚·ã‚¹ãƒ†ãƒ å®Œå…¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
# Yahoo Auction Toolç”¨å•†å“æ‰¿èªã‚·ã‚¹ãƒ†ãƒ ã‚’å®Œå…¨è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

echo "ğŸš€ æ‰¿èªã‚·ã‚¹ãƒ†ãƒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—é–‹å§‹..."
echo "========================================"

# ã‚«ãƒ©ãƒ¼å®šç¾©
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# è¨­å®š
DB_NAME="nagano3_db"
DB_USER="postgres"
DB_HOST="localhost"
DB_PORT="5432"
BASE_DIR="/Users/aritahiroaki/NAGANO-3/N3-Development/modules/yahoo_auction_complete"

# ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
print_status() {
    echo -e "${BLUE}[INFO]${NC} $1"
}

print_success() {
    echo -e "${GREEN}[SUCCESS]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# Step 1: å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯
print_status "Step 1: å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯ä¸­..."

# PostgreSQLæ¥ç¶šãƒã‚§ãƒƒã‚¯
if ! command -v psql &> /dev/null; then
    print_error "PostgreSQLãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã›ã‚“"
    exit 1
fi

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ
if ! psql -h $DB_HOST -p $DB_PORT -U $DB_USER -d $DB_NAME -c "SELECT 1;" &> /dev/null; then
    print_error "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã«å¤±æ•—ã—ã¾ã—ãŸ"
    print_warning "ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:"
    print_warning "1. PostgreSQLã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹"
    print_warning "2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼æƒ…å ±ãŒæ­£ã—ã„ã‹"
    print_warning "3. nagano3_dbãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã‹"
    exit 1
fi

print_success "PostgreSQLæ¥ç¶šç¢ºèªå®Œäº†"

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå­˜åœ¨ãƒã‚§ãƒƒã‚¯
if [ ! -d "$BASE_DIR" ]; then
    print_error "ãƒ™ãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: $BASE_DIR"
    exit 1
fi

print_success "å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯å®Œäº†"

# Step 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
print_status "Step 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸­..."

cd "$BASE_DIR"

# SQLãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè¡Œ
if [ -f "approval_database_schema_complete.sql" ]; then
    print_status "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã‚’é©ç”¨ä¸­..."
    if psql -h $DB_HOST -p $DB_PORT -U $DB_USER -d $DB_NAME -f "approval_database_schema_complete.sql" > setup.log 2>&1; then
        print_success "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒé©ç”¨å®Œäº†"
    else
        print_error "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒé©ç”¨ã«å¤±æ•—ã—ã¾ã—ãŸ"
        print_warning "setup.logã‚’ç¢ºèªã—ã¦ãã ã•ã„"
        exit 1
    fi
else
    print_error "approval_database_schema_complete.sqlãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
    print_warning "å…ˆã«å¿…è¦ãªSQLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„"
    exit 1
fi

# Step 3: APIãƒ•ã‚¡ã‚¤ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
print_status "Step 3: APIãƒ•ã‚¡ã‚¤ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸­..."

# api_endpoints_approval.phpãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
if [ ! -f "api_endpoints_approval.php" ]; then
    print_warning "api_endpoints_approval.phpãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚åŸºæœ¬ç‰ˆã‚’ä½œæˆã—ã¾ã™..."
    
    # APIãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼ˆåŸºæœ¬ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
    cat > api_endpoints_approval.php << 'EOF'
<?php
/**
 * æ‰¿èªã‚·ã‚¹ãƒ†ãƒ APIçµ±åˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
 * Auto-generated by setup script
 */

// CORSè¨­å®š
header('Content-Type: application/json');
header('Access-Control-Allow-Origin: *');
header('Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS');
header('Access-Control-Allow-Headers: Content-Type, Authorization');

if ($_SERVER['REQUEST_METHOD'] === 'OPTIONS') {
    exit(0);
}

// åŸºæœ¬ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
try {
    $pdo = new PDO("pgsql:host=localhost;port=5432;dbname=nagano3_db", "postgres", "", [
        PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION
    ]);
    
    $action = $_GET['action'] ?? $_POST['action'] ?? '';
    
    switch ($action) {
        case 'get_approval_queue':
            $stmt = $pdo->query("SELECT * FROM yahoo_products WHERE status IN ('ready_for_approval', 'scraped') LIMIT 20");
            $products = $stmt->fetchAll(PDO::FETCH_ASSOC);
            echo json_encode(['success' => true, 'data' => ['items' => $products, 'statistics' => []]]);
            break;
            
        case 'get_approval_statistics':
            $stmt = $pdo->query("SELECT COUNT(*) as total FROM yahoo_products");
            $stats = $stmt->fetch(PDO::FETCH_ASSOC);
            echo json_encode(['success' => true, 'data' => ['summary' => $stats]]);
            break;
            
        default:
            echo json_encode(['success' => false, 'error' => 'Unknown action: ' . $action]);
    }
    
} catch (Exception $e) {
    echo json_encode(['success' => false, 'error' => 'Database error: ' . $e->getMessage()]);
}
?>
EOF
    print_success "api_endpoints_approval.phpåŸºæœ¬ç‰ˆä½œæˆå®Œäº†"
fi

# Step 4: yahoo_auction_tool_content.phpçµ±åˆ
print_status "Step 4: yahoo_auction_tool_content.phpçµ±åˆä¸­..."

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
if [ -f "yahoo_auction_tool_content.php" ]; then
    cp "yahoo_auction_tool_content.php" "yahoo_auction_tool_content.php.backup.$(date +%Y%m%d_%H%M%S)"
    print_success "æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆå®Œäº†"
    
    # çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ 
    if ! grep -q "approval_system_integration.php" yahoo_auction_tool_content.php; then
        print_status "æ‰¿èªã‚·ã‚¹ãƒ†ãƒ çµ±åˆã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ä¸­..."
        
        # PHPãƒ•ã‚¡ã‚¤ãƒ«ã®æœ«å°¾ã«çµ±åˆã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ 
        cat >> yahoo_auction_tool_content.php << 'EOF'

<?php
/**
 * æ‰¿èªã‚·ã‚¹ãƒ†ãƒ çµ±åˆ
 * Auto-added by setup script
 */
if (file_exists(__DIR__ . '/approval_system_integration.php')) {
    require_once __DIR__ . '/approval_system_integration.php';
}
?>
EOF
        print_success "æ‰¿èªã‚·ã‚¹ãƒ†ãƒ çµ±åˆã‚³ãƒ¼ãƒ‰è¿½åŠ å®Œäº†"
    else
        print_warning "æ‰¿èªã‚·ã‚¹ãƒ†ãƒ çµ±åˆã‚³ãƒ¼ãƒ‰ã¯æ—¢ã«è¿½åŠ æ¸ˆã¿ã§ã™"
    fi
fi

# Step 5: æ¨©é™è¨­å®š
print_status "Step 5: ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™è¨­å®šä¸­..."

chmod 644 *.php
chmod 644 *.sql
chmod 755 *.sh

print_success "ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™è¨­å®šå®Œäº†"

# Step 6: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ
print_status "Step 6: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆä¸­..."

# ãƒ†ã‚¹ãƒˆç”¨SQLã‚¯ã‚¨ãƒª
TEST_QUERY="SELECT COUNT(*) as product_count FROM yahoo_products; SELECT COUNT(*) as table_count FROM information_schema.tables WHERE table_name LIKE '%approval%';"

if psql -h $DB_HOST -p $DB_PORT -U $DB_USER -d $DB_NAME -c "$TEST_QUERY" > test_result.log 2>&1; then
    print_success "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆå®Œäº†"
    
    # çµæœè¡¨ç¤º
    PRODUCT_COUNT=$(psql -h $DB_HOST -p $DB_PORT -U $DB_USER -d $DB_NAME -t -c "SELECT COUNT(*) FROM yahoo_products;" 2>/dev/null | xargs)
    TABLE_COUNT=$(psql -h $DB_HOST -p $DB_PORT -U $DB_USER -d $DB_NAME -t -c "SELECT COUNT(*) FROM information_schema.tables WHERE table_name LIKE '%approval%';" 2>/dev/null | xargs)
    
    print_success "å•†å“ãƒ‡ãƒ¼ã‚¿: ${PRODUCT_COUNT}ä»¶"
    print_success "æ‰¿èªãƒ†ãƒ¼ãƒ–ãƒ«: ${TABLE_COUNT}å€‹"
else
    print_error "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ"
    print_warning "test_result.logã‚’ç¢ºèªã—ã¦ãã ã•ã„"
fi

# Step 7: APIå‹•ä½œãƒ†ã‚¹ãƒˆ
print_status "Step 7: APIå‹•ä½œãƒ†ã‚¹ãƒˆä¸­..."

# PHPãŒå‹•ä½œã™ã‚‹ã‹ãƒ†ã‚¹ãƒˆ
if command -v php &> /dev/null; then
    # ç°¡å˜ãªAPI ãƒ†ã‚¹ãƒˆ
    php -r "
    try {
        \$pdo = new PDO('pgsql:host=$DB_HOST;port=$DB_PORT;dbname=$DB_NAME', '$DB_USER', '');
        echo 'PHP-PostgreSQLæ¥ç¶š: OK\n';
    } catch (Exception \$e) {
        echo 'PHP-PostgreSQLæ¥ç¶š: ERROR - ' . \$e->getMessage() . '\n';
    }
    " 2>/dev/null || print_warning "PHPæ¥ç¶šãƒ†ã‚¹ãƒˆã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸ"
    
    print_success "APIå‹•ä½œãƒ†ã‚¹ãƒˆå®Œäº†"
else
    print_warning "PHPã‚³ãƒãƒ³ãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚Webã‚µãƒ¼ãƒãƒ¼çµŒç”±ã§ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„"
fi

# Step 8: ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª
print_status "Step 8: ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèªä¸­..."

# é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèª
required_files=(
    "yahoo_auction_tool_content.php"
    "approval_system_integration.php"
    "api_endpoints_approval.php"
)

missing_files=()
for file in "${required_files[@]}"; do
    if [ ! -f "$file" ]; then
        missing_files+=("$file")
    fi
done

if [ ${#missing_files[@]} -eq 0 ]; then
    print_success "å¿…è¦ãƒ•ã‚¡ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯å®Œäº†"
else
    print_warning "ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“:"
    for file in "${missing_files[@]}"; do
        print_warning "  - $file"
    done
fi

# Step 9: è¨­å®šç¢ºèªã¨ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
print_status "Step 9: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆä¸­..."

# ãƒ¬ãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
cat > setup_report.txt << EOF
================================================
ğŸ“Š æ‰¿èªã‚·ã‚¹ãƒ†ãƒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ¬ãƒãƒ¼ãƒˆ
================================================
ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ—¥æ™‚: $(date)
ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å ´æ‰€: $BASE_DIR

âœ… å®Œäº†é …ç›®:
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒé©ç”¨
- APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­å®š
- ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™è¨­å®š
- ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã‚³ãƒ¼ãƒ‰è¿½åŠ 

ğŸ“‹ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ:
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: $DB_NAME@$DB_HOST:$DB_PORT
- å•†å“ãƒ‡ãƒ¼ã‚¿: ${PRODUCT_COUNT:-0}ä»¶
- æ‰¿èªãƒ†ãƒ¼ãƒ–ãƒ«: ${TABLE_COUNT:-0}å€‹

ğŸ“ é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«:
$(ls -la *.php *.sql 2>/dev/null | head -10)

ğŸŒ ã‚¢ã‚¯ã‚»ã‚¹URL:
- ãƒ¡ã‚¤ãƒ³ç”»é¢: http://localhost:8080/modules/yahoo_auction_complete/yahoo_auction_tool_content.php
- APIç›´æ¥: http://localhost:8080/modules/yahoo_auction_complete/api_endpoints_approval.php

ğŸ”§ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
1. Webã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
2. ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ¡ã‚¤ãƒ³ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹
3. ã€Œå•†å“æ‰¿èªã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯
4. æ‰¿èªã‚·ã‚¹ãƒ†ãƒ ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª

âš ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
- ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ setup.log ã‚’ç¢ºèª
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼ã¯ PostgreSQLè¨­å®šã‚’ç¢ºèª
- PHP ã‚¨ãƒ©ãƒ¼ã¯ Webã‚µãƒ¼ãƒãƒ¼ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèª

================================================
EOF

print_success "ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆå®Œäº†: setup_report.txt"

# Step 10: æœ€çµ‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
echo ""
echo "========================================"
echo -e "${GREEN}ğŸ‰ æ‰¿èªã‚·ã‚¹ãƒ†ãƒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†! ğŸ‰${NC}"
echo "========================================"
echo ""
print_success "âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒé©ç”¨å®Œäº†"
print_success "âœ… APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­å®šå®Œäº†"
print_success "âœ… ã‚·ã‚¹ãƒ†ãƒ çµ±åˆå®Œäº†"
print_success "âœ… ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™è¨­å®šå®Œäº†"
echo ""
print_status "ğŸ“‹ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:"
echo "   1. Webã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹"
echo "   2. Yahoo Auction Toolã‚’é–‹ã"
echo "   3. ã€Œå•†å“æ‰¿èªã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯"
echo "   4. æ‰¿èªã‚·ã‚¹ãƒ†ãƒ ã®å‹•ä½œã‚’ç¢ºèª"
echo ""
print_status "ğŸŒ ã‚¢ã‚¯ã‚»ã‚¹URL:"
echo "   http://localhost:8080/modules/yahoo_auction_complete/yahoo_auction_tool_content.php"
echo ""
print_status "ğŸ“– è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ: setup_report.txt"
echo ""

# è‡ªå‹•ãƒ–ãƒ©ã‚¦ã‚¶èµ·å‹•ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
read -p "ãƒ–ãƒ©ã‚¦ã‚¶ã§è‡ªå‹•çš„ã«é–‹ãã¾ã™ã‹ï¼Ÿ (y/N): " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    if command -v open &> /dev/null; then
        open "http://localhost:8080/modules/yahoo_auction_complete/yahoo_auction_tool_content.php"
        print_success "ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã¾ã—ãŸ"
    else
        print_warning "ãƒ–ãƒ©ã‚¦ã‚¶ã®è‡ªå‹•èµ·å‹•ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“"
    fi
fi

# ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
rm -f test_result.log 2>/dev/null

print_success "ğŸš€ æ‰¿èªã‚·ã‚¹ãƒ†ãƒ ã®æº–å‚™ãŒå®Œäº†ã—ã¾ã—ãŸï¼"

# æœ€å¾Œã«ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã‚’è¡¨ç¤º
echo ""
print_status "ğŸ’» ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã‚µãƒãƒªãƒ¼:"
echo "   Database: âœ… Connected ($DB_NAME)"
echo "   Tables:   âœ… Created (${TABLE_COUNT:-Unknown} approval tables)"
echo "   Products: âœ… Ready (${PRODUCT_COUNT:-0} items)"
echo "   API:      âœ… Configured"
echo "   UI:       âœ… Integrated"
echo ""

exit 0
