# 🔄 フィルタータブ置き換え手順書

## 📋 現在の状況
- **現在のフィルタータブ**: eBay配送ポリシー自動作成（不適切）
- **必要な機能**: CSVアップロード・禁止キーワード管理・Excelライクなデータ表示
- **メインファイル**: `yahoo_auction_tool_content.php`

## 🎯 修正手順（安全・確実・最小限）

### Step 1: 現在のフィルタータブ部分を特定
メインファイル内で以下の部分を探す：
```html
<div id="filters" class="tab-content fade-in">
    <!-- 現在の不適切な内容 -->
</div>
```

### Step 2: 新しいフィルタータブ内容で置き換え
`filters_tab_content_updated.html` の内容を使用

### Step 3: 置き換え作業の実行

ブラウザで http://localhost:8080/modules/yahoo_auction_complete/yahoo_auction_tool_content.php にアクセスして「フィルター」タブで以下が表示されるべき内容：

## ✅ 新しいフィルタータブの機能一覧

### 🔧 主要機能
1. **CSVアップロード機能**
   - ドラッグ&ドロップ対応
   - ファイルサイズ制限（10MB）
   - リアルタイム進捗表示

2. **禁止キーワードデータベース表示**
   - Excelライクなテーブル
   - ソート・フィルター機能
   - チェックボックス選択

3. **リアルタイムタイトルチェック**
   - 入力中の即座検証
   - 禁止キーワード検出アラート
   - 出品可否判定

4. **統計情報表示**
   - 登録済みキーワード数
   - 検出されたタイトル数
   - 最終更新時刻
   - CSV読込回数

5. **一括操作機能**
   - 一括選択・削除
   - 一括編集
   - CSV出力

6. **新規キーワード追加**
   - 手動追加フォーム
   - カテゴリ・重要度設定

### 🎨 UI要素
- **CSVドロップエリア**: ファイルアップロード
- **統計ダッシュボード**: 4つの統計指標
- **リアルタイムチェック**: タイトル入力→即座判定
- **フィルターボタン**: すべて・最近追加・高リスク
- **検索ボックス**: キーワード検索
- **データテーブル**: 10列のExcelライク表示
- **一括操作バー**: 選択時に表示
- **新規追加フォーム**: 4入力フィールド

### 📊 データ構造
```csv
ID,禁止キーワード,カテゴリ,重要度,検出回数,登録日時,最終検出,ステータス
1,偽物,ブランド,高,127,2024-08-15,2024-08-16,有効
2,コピー品,ブランド,中,89,2024-08-15,2024-08-16,有効
```

## 🚀 動作確認項目

### ✅ CSVアップロード
- [ ] ドラッグ&ドロップでCSVアップロード可能
- [ ] ファイル選択クリックでCSVアップロード可能
- [ ] アップロード進捗表示
- [ ] 成功・エラーメッセージ表示

### ✅ データ表示
- [ ] サンプルデータが正しく表示
- [ ] テーブルヘッダーが固定
- [ ] スクロール可能
- [ ] チェックボックス選択可能

### ✅ リアルタイムチェック
- [ ] タイトル入力で即座に判定
- [ ] 禁止キーワード検出時の警告表示
- [ ] 安全タイトル時の承認表示

### ✅ フィルター・検索
- [ ] フィルターボタンのアクティブ切り替え
- [ ] 検索ボックスでキーワード絞り込み
- [ ] フィルター結果の表示・非表示

### ✅ 一括操作
- [ ] 複数行選択で一括操作バー表示
- [ ] 一括削除・編集・選択クリア機能
- [ ] 全選択・全解除機能

### ✅ 新規追加
- [ ] 手動キーワード追加フォーム
- [ ] カテゴリ・重要度選択
- [ ] 追加後のフォームクリア

## 📝 技術仕様

### JavaScript関数
- `handleCSVUpload()` - CSVアップロード処理
- `processCSVContent()` - CSV内容解析
- `updateKeywordTable()` - テーブル更新
- `checkTitleRealtime()` - リアルタイムチェック
- `filterKeywords()` - フィルター適用
- `searchKeywords()` - 検索機能
- `addNewKeyword()` - 新規追加

### CSS クラス
- `.filter-btn` - フィルターボタン
- `.drag-drop-area` - ドロップエリア
- `.data-table` - データテーブル
- `.notification` - 通知表示

## 🛡️ 安全確認
- 既存タブは一切変更なし
- 既存JavaScript関数への影響なし
- 新しいCSS・JavaScript のみ追加
- バックアップファイル作成済み

## 🎉 完成目標
フィルタータブで **禁止キーワード管理システム** が動作し、eBay配送ポリシー自動作成は **送料計算タブ** に移動済み状態

---

**このファイルの内容に従って、安全にフィルタータブを置き換えてください。**