<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eBayã‚«ãƒ†ã‚´ãƒªãƒ¼è‡ªå‹•åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ  - ãƒ‡ãƒ¢ç‰ˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/ebay_category_tool.css">
    
    <!-- åŸºæœ¬CSSå¤‰æ•° -->
    <style>
        :root {
            --primary-color: #3b82f6;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #06b6d4;
            --bg-primary: #f8fafc;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f1f5f9;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --radius-md: 0.375rem;
            --radius-lg: 0.5rem;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            padding: var(--space-md);
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }
        
        .demo-header {
            background: linear-gradient(135deg, var(--primary-color), #6366f1);
            color: white;
            padding: var(--space-xl);
            text-align: center;
        }
        
        .demo-header h1 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: var(--space-sm);
        }
        
        .demo-status {
            background: var(--bg-tertiary);
            padding: var(--space-md);
            border-bottom: 1px solid var(--border-color);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-md);
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm);
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
        }
        
        .status-icon {
            font-size: 1.25rem;
        }
        
        .status-completed {
            color: var(--success-color);
        }
        
        .status-pending {
            color: var(--warning-color);
        }
        
        .demo-content {
            padding: var(--space-lg);
        }
        
        .section {
            margin-bottom: var(--space-xl);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            margin-bottom: var(--space-md);
            padding-bottom: var(--space-sm);
            border-bottom: 2px solid var(--bg-tertiary);
        }
        
        .section-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .demo-notice {
            background: #fff3cd;
            border: 1px solid #fbbf24;
            color: #92400e;
            padding: var(--space-md);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-lg);
        }
    </style>
</head>

<body>
    <div class="demo-container">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="demo-header">
            <h1><i class="fas fa-tags"></i> eBayã‚«ãƒ†ã‚´ãƒªãƒ¼è‡ªå‹•åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ </h1>
            <p>ãƒ‡ãƒ¢ç‰ˆ - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…å®Œäº†</p>
        </div>

        <!-- é–‹ç™ºçŠ¶æ³ -->
        <div class="demo-status">
            <div class="status-item">
                <i class="fas fa-check-circle status-icon status-completed"></i>
                <div>
                    <strong>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆClaudeï¼‰</strong><br>
                    <small>UI/JavaScriptå®Ÿè£…å®Œæˆ</small>
                </div>
            </div>
            <div class="status-item">
                <i class="fas fa-cog fa-spin status-icon status-pending"></i>
                <div>
                    <strong>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆGeminiï¼‰</strong><br>
                    <small>PHP APIé–‹ç™ºå¾…ã¡</small>
                </div>
            </div>
            <div class="status-item">
                <i class="fas fa-clock status-icon status-pending"></i>
                <div>
                    <strong>çµ±åˆãƒ†ã‚¹ãƒˆ</strong><br>
                    <small>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Œæˆå¾Œ</small>
                </div>
            </div>
        </div>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <div class="demo-content">
            
            <!-- ãƒ‡ãƒ¢é€šçŸ¥ -->
            <div class="demo-notice">
                <i class="fas fa-info-circle"></i>
                <strong>ãƒ‡ãƒ¢ç‰ˆã«ã¤ã„ã¦:</strong> 
                ç¾åœ¨ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½ã®ã¿å‹•ä½œã—ã¾ã™ã€‚å®Ÿéš›ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¤å®šã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIå®Ÿè£…å¾Œã«æ©Ÿèƒ½ã—ã¾ã™ã€‚
            </div>

            <!-- eBayã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‚’èª­ã¿è¾¼ã¿ -->
            <div id="ebay-category" class="tab-content">
                <div class="section">
                    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
                    <div class="section-header">
                        <i class="fas fa-tags"></i>
                        <h3 class="section-title">eBayã‚«ãƒ†ã‚´ãƒªãƒ¼è‡ªå‹•åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ </h3>
                        <div style="margin-left: auto; display: flex; gap: var(--space-sm);">
                            <button class="btn btn-info" onclick="showHelp()">
                                <i class="fas fa-question-circle"></i> ãƒ˜ãƒ«ãƒ—
                            </button>
                            <button class="btn btn-success" onclick="showSampleCSV()">
                                <i class="fas fa-file-csv"></i> ã‚µãƒ³ãƒ—ãƒ«CSV
                            </button>
                        </div>
                    </div>

                    <!-- æ©Ÿèƒ½èª¬æ˜ -->
                    <div class="notification info" style="margin-bottom: var(--space-lg);">
                        <i class="fas fa-info-circle"></i>
                        <div>
                            <strong>è‡ªå‹•ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ </strong><br>
                            å•†å“ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰æœ€é©ãªeBayã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’è‡ªå‹•é¸æŠã—ã€å¿…é ˆé …ç›®ï¼ˆItem Specificsï¼‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚<br>
                            CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä¸€æ‹¬å‡¦ç†ãŒå¯èƒ½ã§ã™ã€‚
                        </div>
                    </div>

                    <!-- CSVã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <div class="category-detection-section">
                        <div class="section-header">
                            <h4 style="margin: 0; display: flex; align-items: center; gap: var(--space-sm);">
                                <i class="fas fa-upload"></i>
                                CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
                            </h4>
                        </div>

                        <div class="csv-upload-container" id="csvUploadContainer">
                            <input type="file" id="csvFileInput" accept=".csv" style="display: none;">
                            
                            <div class="upload-icon">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                            
                            <div class="upload-text">CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—</div>
                            <div class="upload-subtitle">ã¾ãŸã¯ã€ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</div>
                            
                            <div class="supported-formats">
                                <span class="format-tag">.CSV</span>
                                <span class="format-tag">æœ€å¤§5MB</span>
                                <span class="format-tag">æœ€å¤§10,000è¡Œ</span>
                            </div>
                            
                            <button class="btn btn-primary" id="csvUploadButton" style="margin-top: var(--space-md);">
                                <i class="fas fa-folder-open"></i> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ
                            </button>
                        </div>

                        <!-- å¿…é ˆCSVå½¢å¼èª¬æ˜ -->
                        <div class="notification warning" style="margin-top: var(--space-md);">
                            <i class="fas fa-exclamation-triangle"></i>
                            <div>
                                <strong>å¿…é ˆCSVå½¢å¼:</strong><br>
                                <code>title,price,description,yahoo_category,image_url</code><br>
                                å„åˆ—ã«ã¯ãã‚Œãã‚Œå•†å“ã‚¿ã‚¤ãƒˆãƒ«ã€ä¾¡æ ¼ã€èª¬æ˜ã€Yahooã‚«ãƒ†ã‚´ãƒªã€ç”»åƒURLã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„ã€‚
                            </div>
                        </div>
                    </div>

                    <!-- å‡¦ç†é€²è¡ŒçŠ¶æ³ -->
                    <div class="processing-progress" id="processingProgress">
                        <div class="progress-header">
                            <div class="progress-icon">
                                <i class="fas fa-cog fa-spin"></i>
                            </div>
                            <div>
                                <div class="progress-title">ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¤å®šå‡¦ç†ä¸­...</div>
                                <div style="color: var(--text-secondary); font-size: 0.875rem;">
                                    å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã¦eBayã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’è‡ªå‹•åˆ¤å®šã—ã¦ã„ã¾ã™
                                </div>
                            </div>
                        </div>
                        
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                        </div>
                        <div class="progress-text" id="progressText">å‡¦ç†é–‹å§‹...</div>
                    </div>

                    <!-- å˜ä¸€å•†å“ãƒ†ã‚¹ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <div class="category-detection-section" style="background: var(--bg-secondary);">
                        <div class="section-header">
                            <h4 style="margin: 0; display: flex; align-items: center; gap: var(--space-sm);">
                                <i class="fas fa-search"></i>
                                å˜ä¸€å•†å“ãƒ†ã‚¹ãƒˆï¼ˆãƒ‡ãƒ¢æ©Ÿèƒ½ï¼‰
                            </h4>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-md); align-items: end;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">å•†å“ã‚¿ã‚¤ãƒˆãƒ«</label>
                                <input 
                                    type="text" 
                                    id="singleTestTitle" 
                                    placeholder="ä¾‹: iPhone 14 Pro 128GB Space Black"
                                    style="width: 100%; padding: var(--space-sm); border: 1px solid var(--border-color); border-radius: var(--radius-md);"
                                >
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">ä¾¡æ ¼ï¼ˆUSDï¼‰</label>
                                <input 
                                    type="number" 
                                    id="singleTestPrice" 
                                    placeholder="999.99"
                                    step="0.01"
                                    min="0"
                                    style="width: 100%; padding: var(--space-sm); border: 1px solid var(--border-color); border-radius: var(--radius-md);"
                                >
                            </div>
                        </div>
                        
                        <div style="margin-top: var(--space-md); text-align: center;">
                            <button class="btn btn-primary" onclick="testSingleProduct()" style="padding: var(--space-sm) var(--space-xl);">
                                <i class="fas fa-magic"></i> ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¤å®šãƒ†ã‚¹ãƒˆï¼ˆãƒ‡ãƒ¢ï¼‰
                            </button>
                        </div>
                        
                        <div id="singleTestResult" style="margin-top: var(--space-md); display: none;">
                            <div style="background: var(--bg-tertiary); border-radius: var(--radius-md); padding: var(--space-md);">
                                <h5 style="margin-bottom: var(--space-sm);">åˆ¤å®šçµæœï¼ˆãƒ‡ãƒ¢ï¼‰:</h5>
                                <div id="singleTestResultContent"></div>
                            </div>
                        </div>
                    </div>

                    <!-- å®Ÿè£…çŠ¶æ³è¡¨ç¤º -->
                    <div class="notification info" style="margin-top: var(--space-xl);">
                        <i class="fas fa-code"></i>
                        <div>
                            <strong>å®Ÿè£…å®Œäº†çŠ¶æ³:</strong><br>
                            âœ… <strong>UI/UXãƒ‡ã‚¶ã‚¤ãƒ³:</strong> ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œæˆ<br>
                            âœ… <strong>ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—:</strong> ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½å®Œæˆ<br>
                            âœ… <strong>JavaScriptæ©Ÿèƒ½:</strong> çŠ¶æ…‹ç®¡ç†ãƒ»APIé€£æºæº–å‚™å®Œæˆ<br>
                            âœ… <strong>æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ:</strong> Yahoo Auction Toolçµ±åˆæº–å‚™å®Œæˆ<br>
                            ğŸš§ <strong>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰:</strong> Geminiå®Ÿè£…å¾…ã¡ï¼ˆPHP APIãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ï¼‰
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ãƒ‡ãƒ¢ç‰ˆã®JavaScriptæ©Ÿèƒ½
        let demoSystem = {
            currentData: [],
            processingInProgress: false
        };

        // CSVã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆãƒ‡ãƒ¢ç‰ˆï¼‰
        document.getElementById('csvUploadButton').addEventListener('click', () => {
            document.getElementById('csvFileInput').click();
        });

        document.getElementById('csvFileInput').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                processDemoCSV(file);
            }
        });

        // ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
        const uploadContainer = document.getElementById('csvUploadContainer');
        
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            uploadContainer.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            uploadContainer.addEventListener(eventName, () => {
                uploadContainer.classList.add('drag-over');
            }, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            uploadContainer.addEventListener(eventName, () => {
                uploadContainer.classList.remove('drag-over');
            }, false);
        });

        uploadContainer.addEventListener('drop', (e) => {
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                processDemoCSV(files[0]);
            }
        }, false);

        // ãƒ‡ãƒ¢CSVå‡¦ç†
        function processDemoCSV(file) {
            console.log('ãƒ‡ãƒ¢CSVå‡¦ç†é–‹å§‹:', file.name);
            
            // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
            if (!file.name.toLowerCase().endsWith('.csv')) {
                alert('CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) {
                alert('ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒ5MBã‚’è¶…ãˆã¦ã„ã¾ã™');
                return;
            }
            
            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º
            showProcessingProgress(true);
            
            // ãƒ‡ãƒ¢ç”¨ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹
            simulateProgress(() => {
                showProcessingProgress(false);
                showMessage('ãƒ‡ãƒ¢å‡¦ç†å®Œäº†ï¼å®Ÿéš›ã®å‡¦ç†ã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIå®Ÿè£…å¾Œã«å‹•ä½œã—ã¾ã™ã€‚', 'success');
            });
        }

        // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º
        function showProcessingProgress(show) {
            const progressDiv = document.getElementById('processingProgress');
            progressDiv.style.display = show ? 'block' : 'none';
            demoSystem.processingInProgress = show;
        }

        // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        function simulateProgress(callback) {
            let progress = 0;
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            const interval = setInterval(() => {
                progress += Math.random() * 15 + 5;
                
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    progressText.textContent = 'å‡¦ç†å®Œäº†';
                    setTimeout(callback, 1000);
                }
                
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `å‡¦ç†ä¸­... ${Math.round(progress)}%`;
            }, 300);
        }

        // å˜ä¸€å•†å“ãƒ†ã‚¹ãƒˆï¼ˆãƒ‡ãƒ¢ç‰ˆï¼‰
        function testSingleProduct() {
            const title = document.getElementById('singleTestTitle').value.trim();
            const price = document.getElementById('singleTestPrice').value;
            
            if (!title) {
                alert('å•†å“ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            const resultDiv = document.getElementById('singleTestResult');
            const contentDiv = document.getElementById('singleTestResultContent');
            
            resultDiv.style.display = 'block';
            contentDiv.innerHTML = `
                <div style="text-align: center; padding: var(--space-lg);">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary-color); margin-bottom: var(--space-sm);"></i><br>
                    ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’åˆ¤å®šä¸­...
                </div>
            `;
            
            // ãƒ‡ãƒ¢ç”¨åˆ¤å®šçµæœç”Ÿæˆ
            setTimeout(() => {
                const mockResult = generateMockResult(title, price);
                displayMockResult(mockResult);
            }, 2000);
        }

        // ãƒ¢ãƒƒã‚¯çµæœç”Ÿæˆ
        function generateMockResult(title, price) {
            const titleLower = title.toLowerCase();
            
            let category = { id: '99999', name: 'ãã®ä»–' };
            let confidence = 30;
            let itemSpecifics = 'Brand=Unknownâ– Condition=Used';
            
            if (titleLower.includes('iphone') || titleLower.includes('ã‚¹ãƒãƒ›') || titleLower.includes('smartphone')) {
                category = { id: '9355', name: 'Cell Phones & Smartphones' };
                confidence = 95;
                itemSpecifics = 'Brand=Appleâ– Model=iPhone 14 Proâ– Storage=128GBâ– Color=Space Blackâ– Condition=Used';
            } else if (titleLower.includes('camera') || titleLower.includes('ã‚«ãƒ¡ãƒ©')) {
                category = { id: '625', name: 'Cameras & Photo' };
                confidence = 90;
                itemSpecifics = 'Brand=Canonâ– Type=Mirrorlessâ– Model=EOS R6â– Condition=Used';
            } else if (titleLower.includes('pokemon') || titleLower.includes('ãƒã‚±ãƒ¢ãƒ³')) {
                category = { id: '2536', name: 'Trading Card Games' };
                confidence = 88;
                itemSpecifics = 'Game=PokÃ©monâ– Card Type=Promoâ– Condition=Near Mint';
            } else if (titleLower.includes('watch') || titleLower.includes('æ™‚è¨ˆ')) {
                category = { id: '31387', name: 'Wristwatches' };
                confidence = 85;
                itemSpecifics = 'Brand=Appleâ– Type=Smart Watchâ– Model=Series 9â– Condition=Used';
            }
            
            return { category, confidence, itemSpecifics };
        }

        // ãƒ¢ãƒƒã‚¯çµæœè¡¨ç¤º
        function displayMockResult(result) {
            const contentDiv = document.getElementById('singleTestResultContent');
            const confidenceLevel = result.confidence >= 80 ? 'high' : result.confidence >= 50 ? 'medium' : 'low';
            const confidenceColor = result.confidence >= 80 ? '#10b981' : result.confidence >= 50 ? '#f59e0b' : '#ef4444';
            
            contentDiv.innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-md); margin-bottom: var(--space-md);">
                    <div>
                        <h6 style="color: var(--text-secondary); margin-bottom: var(--space-xs);">åˆ¤å®šã‚«ãƒ†ã‚´ãƒªãƒ¼</h6>
                        <div style="padding: 0.25rem 0.5rem; background: #dcfce7; color: #166534; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600; display: inline-block;">
                            ${result.category.name}
                        </div>
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-top: var(--space-xs);">
                            ID: ${result.category.id}
                        </div>
                    </div>
                    
                    <div>
                        <h6 style="color: var(--text-secondary); margin-bottom: var(--space-xs);">åˆ¤å®šç²¾åº¦</h6>
                        <div style="display: flex; align-items: center; gap: 0.25rem;">
                            <div style="width: 80px; height: 6px; background: #f1f5f9; border-radius: 3px; overflow: hidden;">
                                <div style="width: ${result.confidence}%; height: 100%; background: ${confidenceColor}; border-radius: 3px;"></div>
                            </div>
                            <span style="font-weight: 600;">${result.confidence}%</span>
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: var(--space-md);">
                    <h6 style="color: var(--text-secondary); margin-bottom: var(--space-xs);">ç”Ÿæˆã•ã‚ŒãŸå¿…é ˆé …ç›®</h6>
                    <div style="background: var(--bg-tertiary); border-radius: var(--radius-md); padding: var(--space-sm); font-family: monospace; font-size: 0.75rem; color: var(--text-secondary);">
                        ${result.itemSpecifics.replace(/â– /g, ' | ')}
                    </div>
                </div>
                
                <div style="background: #dbeafe; border: 1px solid #93c5fd; color: #1e40af; padding: var(--space-sm); border-radius: var(--radius-md);">
                    <i class="fas fa-info-circle"></i>
                    <strong>ãƒ‡ãƒ¢çµæœ:</strong> å®Ÿéš›ã®é«˜ç²¾åº¦åˆ¤å®šã¯Geminiå®Ÿè£…ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIå®Œæˆå¾Œã«å‹•ä½œã—ã¾ã™ã€‚
                </div>
            `;
        }

        // ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
        function showHelp() {
            alert(`eBayã‚«ãƒ†ã‚´ãƒªãƒ¼è‡ªå‹•åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ 

ã€æ©Ÿèƒ½æ¦‚è¦ã€‘
å•†å“ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰æœ€é©ãªeBayã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’è‡ªå‹•åˆ¤å®šã—ã€å¿…é ˆé …ç›®ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

ã€ç¾åœ¨ã®çŠ¶æ³ã€‘
âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: å®Œæˆï¼ˆClaudeæ‹…å½“ï¼‰
ğŸš§ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: é–‹ç™ºä¸­ï¼ˆGeminiæ‹…å½“ï¼‰

ã€ä½¿ç”¨æ–¹æ³•ã€‘
1. CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. è‡ªå‹•ã§ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¤å®šãƒ»å¿…é ˆé …ç›®ç”Ÿæˆ
3. çµæœç¢ºèªãƒ»ä¿®æ­£
4. CSVå‡ºåŠ›

ç¾åœ¨ã¯ãƒ‡ãƒ¢ç‰ˆã®ã¿å‹•ä½œã—ã¾ã™ã€‚`);
        }

        // ã‚µãƒ³ãƒ—ãƒ«CSVè¡¨ç¤º
        function showSampleCSV() {
            const sampleContent = `title,price,description,yahoo_category,image_url
"iPhone 14 Pro 128GB Space Black",999.99,"ç¾å“ã®iPhone 14 Pro","æºå¸¯é›»è©±","https://example.com/iphone.jpg"
"Canon EOS R6 ãƒŸãƒ©ãƒ¼ãƒ¬ã‚¹ã‚«ãƒ¡ãƒ©",2499.99,"ãƒ—ãƒ­ä»•æ§˜ã®ãƒŸãƒ©ãƒ¼ãƒ¬ã‚¹ã‚«ãƒ¡ãƒ©","ã‚«ãƒ¡ãƒ©","https://example.com/camera.jpg"
"ãƒã‚±ãƒ¢ãƒ³ã‚«ãƒ¼ãƒ‰ ãƒ”ã‚«ãƒãƒ¥ã‚¦ ãƒ—ãƒ­ãƒ¢",149.99,"é™å®šãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã‚«ãƒ¼ãƒ‰","ãƒˆãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚«ãƒ¼ãƒ‰","https://example.com/pokemon.jpg"`;
            
            const blob = new Blob([sampleContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            
            if (link.download !== undefined) {
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', 'ebay_category_sample.csv');
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
            
            showMessage('ã‚µãƒ³ãƒ—ãƒ«CSVã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸ', 'success');
        }

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
        function showMessage(text, type = 'info') {
            const alertClass = type === 'success' ? 'alert-success' : type === 'error' ? 'alert-error' : 'alert-info';
            
            const message = document.createElement('div');
            message.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem;
                background: ${type === 'success' ? '#dcfce7' : type === 'error' ? '#fee2e2' : '#dbeafe'};
                color: ${type === 'success' ? '#166534' : type === 'error' ? '#991b1b' : '#1e40af'};
                border: 1px solid ${type === 'success' ? '#86efac' : type === 'error' ? '#fca5a5' : '#93c5fd'};
                border-radius: 0.5rem;
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
                max-width: 400px;
                z-index: 1000;
                opacity: 0;
                transform: translateX(100%);
                transition: all 0.3s ease;
            `;
            
            message.innerHTML = `
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${text}</span>
                </div>
            `;
            
            document.body.appendChild(message);
            
            setTimeout(() => {
                message.style.opacity = '1';
                message.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                message.style.opacity = '0';
                message.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(message);
                }, 300);
            }, 5000);
        }

        console.log('âœ… eBayã‚«ãƒ†ã‚´ãƒªãƒ¼è‡ªå‹•åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ  ãƒ‡ãƒ¢ç‰ˆ åˆæœŸåŒ–å®Œäº†');
    </script>
</body>
</html>