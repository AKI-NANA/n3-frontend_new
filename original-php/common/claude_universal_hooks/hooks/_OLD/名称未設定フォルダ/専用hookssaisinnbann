# ğŸ”„ å°‚ç”¨Hookså‹•çš„ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã€å®Œå…¨ç‰ˆã€‘

## ğŸ¯ **ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦**

HTMLã¨é–‹ç™ºæŒ‡ç¤ºæ›¸ã‹ã‚‰**æ±ç”¨Hooksï¼ˆ190ç¨®é¡ï¼‰**ã¨**å°‚ç”¨Hooks**ã‚’çµ±åˆã—ã€1ã¤ã®**å®Œå…¨å®Ÿè¡Œè¨ˆç”».md**ã‚’å‡ºåŠ›ã™ã‚‹å‹•çš„ã‚·ã‚¹ãƒ†ãƒ ã€‚

### **ğŸš€ æœ€çµ‚ç›®æ¨™**
- **å®Œå…¨é©å¿œ**: HTMLè¦ç´ æ•°ãƒ»å†…å®¹ã«å‹•çš„å¯¾å¿œ
- **æ±ç”¨çµ±åˆ**: 190ç¨®é¡ã®æ±ç”¨Hooksã¨ã®å®Œå…¨çµ±åˆ  
- **AIå¾©æ´»**: AIé–¢é€£è¦ç´ ã®å¾©æ´»ãƒ»çµ±åˆ
- **MDå‡ºåŠ›**: ä»–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§hooksã‚·ã‚¹ãƒ†ãƒ ä¸è¦ãªå®Œå…¨æŒ‡ç¤ºæ›¸ç”Ÿæˆ

---

## ğŸ“Š **ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**

```python
class DynamicHooksGenerationSystem:
    """å°‚ç”¨Hookså‹•çš„ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã€å®Œå…¨ç‰ˆã€‘"""
    
    def __init__(self):
        # æ±ç”¨Hooksã‚«ã‚¿ãƒ­ã‚°ï¼ˆ190ç¨®é¡ï¼‰
        self.universal_hooks_catalog = UniversalHooksCatalog()
        
        # å‹•çš„è§£æã‚¨ãƒ³ã‚¸ãƒ³
        self.dynamic_analyzer = DynamicHTMLAnalyzer()
        self.adaptive_questioner = AdaptiveQuestionGenerator()
        
        # çµ±åˆã‚·ã‚¹ãƒ†ãƒ 
        self.hooks_integrator = HooksIntegrator()
        self.final_md_generator = FinalMDGenerator()
        
        # AIçµ±åˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆå¾©æ´»ï¼‰
        self.ai_integration_system = AIIntegrationSystem()
        
    def generate_complete_execution_plan(self, 
                                       html_content: str, 
                                       development_instruction: str) -> str:
        """å®Œå…¨å®Ÿè¡Œè¨ˆç”».mdç”Ÿæˆ"""
        
        # Step 1: å‹•çš„HTMLè§£æ
        html_analysis = self.dynamic_analyzer.analyze_html_completely(html_content)
        
        # Step 2: æ±ç”¨Hooksé¸å®šï¼ˆ190ç¨®é¡ã‹ã‚‰ï¼‰
        selected_universal_hooks = self.universal_hooks_catalog.auto_select(
            html_analysis, development_instruction
        )
        
        # Step 3: å°‚ç”¨Hookså‹•çš„ç”Ÿæˆ
        dynamic_specific_hooks = self.adaptive_questioner.generate_adaptive_hooks(
            html_analysis, development_instruction
        )
        
        # Step 4: AIé–¢é€£Hookså¾©æ´»ãƒ»çµ±åˆ
        ai_integrated_hooks = self.ai_integration_system.restore_and_integrate(
            html_analysis, development_instruction
        )
        
        # Step 5: çµ±åˆãƒ»è³ªå•ç”Ÿæˆ
        integrated_hooks = self.hooks_integrator.integrate_all_hooks(
            selected_universal_hooks, 
            dynamic_specific_hooks,
            ai_integrated_hooks
        )
        
        # Step 6: å®Œå…¨å®Ÿè¡Œè¨ˆç”».mdç”Ÿæˆ
        final_md = self.final_md_generator.generate_complete_plan(
            integrated_hooks, html_analysis, development_instruction
        )
        
        return final_md
```

---

## ğŸ” **Phase 1: æ±ç”¨Hookså®Œå…¨ã‚«ã‚¿ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ **

### **ğŸ“š æ±ç”¨Hooks190ç¨®é¡å®Œå…¨ã‚«ã‚¿ãƒ­ã‚°ï¼ˆãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ï¼‰**

```python
class UniversalHooksCatalog:
    """ãƒŠãƒ¬ãƒƒã‚¸å†…ã®æ±ç”¨Hooks190ç¨®é¡å®Œå…¨ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ """
    
    def __init__(self):
        self.hooks_database = self._build_complete_universal_hooks_database()
        
    def _build_complete_universal_hooks_database(self) -> Dict[str, Dict]:
        """ãƒŠãƒ¬ãƒƒã‚¸ã‹ã‚‰190ç¨®é¡æ±ç”¨Hookså®Œå…¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰"""
        
        # ãƒŠãƒ¬ãƒƒã‚¸åˆ†æçµæœï¼šæ±ç”¨Hooks190ç¨®é¡ã®ä½“ç³»
        universal_hooks_190 = {
            # === Phase 1: åŸºç›¤æ§‹ç¯‰hooksï¼ˆ40ç¨®é¡ï¼‰===
            # CSSãƒ»JavaScriptãƒ»PHPåŸºç›¤hooks
            'css_externalization_hooks': self._generate_css_hooks_variants(10),
            'js_externalization_hooks': self._generate_js_hooks_variants(10), 
            'php_conversion_hooks': self._generate_php_hooks_variants(10),
            'ajax_implementation_hooks': self._generate_ajax_hooks_variants(10),
            
            # === Phase 2: ãƒ†ã‚¹ãƒˆãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹hooksï¼ˆ30ç¨®é¡ï¼‰===
            # comprehensive_test_automation.pyï¼ˆ15ç¨®é¡ï¼‰
            'test_automation_hooks': {
                'pytest_auto_generation': {'phase_target': [2], 'priority': 'high'},
                'test_fixture_generation': {'phase_target': [2], 'priority': 'high'},
                'mock_object_generation': {'phase_target': [2], 'priority': 'medium'},
                'parametrized_test_generation': {'phase_target': [2], 'priority': 'medium'},
                'test_data_factory_generation': {'phase_target': [2], 'priority': 'medium'},
                'test_coverage_verification': {'phase_target': [2], 'priority': 'high'},
                'test_quality_evaluation': {'phase_target': [2], 'priority': 'high'},
                'test_isolation_verification': {'phase_target': [2], 'priority': 'medium'},
                'test_performance_verification': {'phase_target': [2], 'priority': 'medium'},
                'test_maintainability_check': {'phase_target': [2], 'priority': 'medium'},
                'integration_test_generation': {'phase_target': [3], 'priority': 'high'},
                'e2e_test_automation': {'phase_target': [3], 'priority': 'high'},
                'api_test_suite_generation': {'phase_target': [3], 'priority': 'high'},
                'database_test_verification': {'phase_target': [3], 'priority': 'medium'},
                'cicd_test_integration': {'phase_target': [3], 'priority': 'high'}
            },
            
            # performance_optimization_suite.pyï¼ˆ15ç¨®é¡ï¼‰
            'performance_measurement_hooks': {
                'response_time_measurement': {'phase_target': [3], 'priority': 'critical'},
                'throughput_measurement': {'phase_target': [3], 'priority': 'high'},
                'memory_usage_monitoring': {'phase_target': [3], 'priority': 'high'},
                'cpu_usage_monitoring': {'phase_target': [3], 'priority': 'high'},
                'concurrent_load_testing': {'phase_target': [3], 'priority': 'high'},
                'database_performance_optimization': {'phase_target': [3], 'priority': 'critical'},
                'api_performance_testing': {'phase_target': [3], 'priority': 'critical'},
                'frontend_performance_analysis': {'phase_target': [3], 'priority': 'medium'},
                'network_latency_measurement': {'phase_target': [3], 'priority': 'medium'},
                'cache_efficiency_evaluation': {'phase_target': [3], 'priority': 'medium'},
                'scalability_testing': {'phase_target': [4], 'priority': 'high'},
                'stress_testing': {'phase_target': [4], 'priority': 'high'},
                'bottleneck_identification': {'phase_target': [4], 'priority': 'critical'},
                'performance_baseline_establishment': {'phase_target': [2], 'priority': 'high'},
                'sla_compliance_verification': {'phase_target': [4], 'priority': 'critical'}
            },
            
            # === Phase 3: AIãƒ»çµ±åˆhooksï¼ˆ40ç¨®é¡ï¼‰===
            # three_ai_enhanced_hooks.pyï¼ˆ25ç¨®é¡ï¼‰
            'ai_integration_hooks': {
                'deepseek_integration': {'phase_target': [1, 2], 'priority': 'critical'},
                'ollama_integration': {'phase_target': [1, 2], 'priority': 'high'},
                'openai_integration': {'phase_target': [1, 2], 'priority': 'high'},
                'ai_tool_selection_automation': {'phase_target': [0, 1], 'priority': 'critical'},
                'ai_learning_data_management': {'phase_target': [1, 2], 'priority': 'critical'},
                'ai_model_storage_management': {'phase_target': [1, 2], 'priority': 'high'},
                'ai_execution_method_optimization': {'phase_target': [2], 'priority': 'high'},
                'ai_resource_allocation': {'phase_target': [2], 'priority': 'medium'},
                'ai_performance_monitoring': {'phase_target': [3], 'priority': 'high'},
                'ai_quality_assurance': {'phase_target': [3], 'priority': 'high'},
                'ai_error_handling': {'phase_target': [2, 3], 'priority': 'critical'},
                'ai_fallback_system': {'phase_target': [2, 3], 'priority': 'high'},
                'ai_version_management': {'phase_target': [3], 'priority': 'medium'},
                'ai_security_compliance': {'phase_target': [2, 3], 'priority': 'critical'},
                'ai_data_privacy_protection': {'phase_target': [2, 3], 'priority': 'critical'},
                'ai_bias_detection': {'phase_target': [3], 'priority': 'medium'},
                'ai_explainability': {'phase_target': [3], 'priority': 'medium'},
                'ai_continuous_learning': {'phase_target': [4], 'priority': 'high'},
                'ai_model_comparison': {'phase_target': [3], 'priority': 'medium'},
                'ai_cost_optimization': {'phase_target': [3], 'priority': 'medium'},
                'ai_audit_trail': {'phase_target': [3, 4], 'priority': 'high'},
                'ai_deployment_automation': {'phase_target': [4], 'priority': 'high'},
                'ai_rollback_system': {'phase_target': [4], 'priority': 'high'},
                'ai_integration_testing': {'phase_target': [3], 'priority': 'high'},
                'ai_monitoring_dashboard': {'phase_target': [4], 'priority': 'medium'}
            },
            
            # integrated_development_suite.pyï¼ˆ15ç¨®é¡ï¼‰
            'development_integration_hooks': {
                'code_generation_automation': {'phase_target': [2], 'priority': 'high'},
                'error_tracking_system': {'phase_target': [3], 'priority': 'critical'},
                'deployment_automation': {'phase_target': [4], 'priority': 'critical'},
                'monitoring_integration': {'phase_target': [4], 'priority': 'critical'},
                'maintenance_automation': {'phase_target': [4], 'priority': 'high'},
                'version_control_integration': {'phase_target': [2], 'priority': 'high'},
                'dependency_management': {'phase_target': [2], 'priority': 'high'},
                'build_automation': {'phase_target': [3], 'priority': 'high'},
                'quality_gate_enforcement': {'phase_target': [3], 'priority': 'critical'},
                'security_scanning_integration': {'phase_target': [3], 'priority': 'critical'},
                'documentation_generation': {'phase_target': [3], 'priority': 'medium'},
                'configuration_management': {'phase_target': [2, 3], 'priority': 'high'},
                'environment_provisioning': {'phase_target': [2], 'priority': 'high'},
                'rollback_mechanism': {'phase_target': [4], 'priority': 'critical'},
                'health_check_automation': {'phase_target': [4], 'priority': 'critical'}
            },
            
            # === Phase 4: å›½éš›åŒ–ãƒ»é‹ç”¨hooksï¼ˆ30ç¨®é¡ï¼‰===
            # å›½éš›åŒ–hooksï¼ˆ15ç¨®é¡ï¼‰
            'internationalization_hooks': {
                'translation_completeness_check': {'phase_target': [3], 'priority': 'high'},
                'locale_support_verification': {'phase_target': [3], 'priority': 'high'},
                'text_encoding_verification': {'phase_target': [3], 'priority': 'medium'},
                'plural_rules_verification': {'phase_target': [3], 'priority': 'medium'},
                'contextual_translation_verification': {'phase_target': [3], 'priority': 'medium'},
                'date_format_localization': {'phase_target': [3], 'priority': 'high'},
                'currency_format_localization': {'phase_target': [3], 'priority': 'high'},
                'number_format_localization': {'phase_target': [3], 'priority': 'medium'},
                'timezone_processing_verification': {'phase_target': [3], 'priority': 'medium'},
                'calendar_system_support': {'phase_target': [3], 'priority': 'low'},
                'rtl_language_support': {'phase_target': [3], 'priority': 'medium'},
                'ui_layout_adaptation': {'phase_target': [3], 'priority': 'medium'},
                'font_rendering_verification': {'phase_target': [3], 'priority': 'low'},
                'text_expansion_handling': {'phase_target': [3], 'priority': 'medium'},
                'cultural_adaptation_check': {'phase_target': [3], 'priority': 'low'}
            },
            
            # é‹ç”¨ãƒ»ç›£è¦–hooksï¼ˆ15ç¨®é¡ï¼‰
            'operations_monitoring_hooks': {
                'system_health_monitoring': {'phase_target': [4], 'priority': 'critical'},
                'application_metrics_collection': {'phase_target': [4], 'priority': 'critical'},
                'error_tracking_system_ops': {'phase_target': [4], 'priority': 'critical'},
                'performance_metrics_analysis': {'phase_target': [4], 'priority': 'critical'},
                'uptime_monitoring': {'phase_target': [4], 'priority': 'critical'},
                'structured_logging_verification': {'phase_target': [3, 4], 'priority': 'high'},
                'log_rotation_management': {'phase_target': [4], 'priority': 'high'},
                'log_aggregation_system': {'phase_target': [4], 'priority': 'high'},
                'security_log_monitoring': {'phase_target': [4], 'priority': 'critical'},
                'audit_trail_verification': {'phase_target': [4], 'priority': 'critical'},
                'automated_deployment_verification': {'phase_target': [4], 'priority': 'critical'},
                'backup_system_verification': {'phase_target': [4], 'priority': 'critical'},
                'disaster_recovery_testing': {'phase_target': [4], 'priority': 'critical'},
                'security_incident_response': {'phase_target': [4], 'priority': 'critical'},
                'maintenance_automation_ops': {'phase_target': [4], 'priority': 'high'}
            },
            
            # === Phase 5: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»æ¤œè¨¼hooksï¼ˆ50ç¨®é¡ï¼‰===
            # base_validation_hook.pyæ‹¡å¼µï¼ˆ25ç¨®é¡ï¼‰
            'security_validation_hooks': {
                'csrf_protection_verification': {'phase_target': [1, 2, 3], 'priority': 'critical'},
                'xss_prevention_verification': {'phase_target': [1, 2, 3], 'priority': 'critical'},
                'sql_injection_prevention': {'phase_target': [1, 2, 3], 'priority': 'critical'},
                'authentication_verification': {'phase_target': [2, 3], 'priority': 'critical'},
                'authorization_verification': {'phase_target': [2, 3], 'priority': 'critical'},
                'session_management_security': {'phase_target': [2, 3], 'priority': 'critical'},
                'input_validation_security': {'phase_target': [1, 2, 3], 'priority': 'critical'},
                'output_encoding_verification': {'phase_target': [1, 2, 3], 'priority': 'critical'},
                'secure_communication_verification': {'phase_target': [2, 3], 'priority': 'critical'},
                'data_encryption_verification': {'phase_target': [2, 3], 'priority': 'critical'},
                'access_control_verification': {'phase_target': [2, 3], 'priority': 'critical'},
                'security_headers_verification': {'phase_target': [2, 3], 'priority': 'high'},
                'vulnerability_scanning': {'phase_target': [3, 4], 'priority': 'critical'},
                'penetration_testing_automation': {'phase_target': [4], 'priority': 'high'},
                'security_compliance_check': {'phase_target': [3, 4], 'priority': 'critical'},
                'gdpr_compliance_verification': {'phase_target': [3, 4], 'priority': 'high'},
                'pci_compliance_verification': {'phase_target': [3, 4], 'priority': 'high'},
                'security_audit_automation': {'phase_target': [4], 'priority': 'high'},
                'threat_modeling_verification': {'phase_target': [2, 3], 'priority': 'medium'},
                'security_training_verification': {'phase_target': [1], 'priority': 'medium'},
                'incident_response_testing': {'phase_target': [4], 'priority': 'high'},
                'security_monitoring_setup': {'phase_target': [3, 4], 'priority': 'critical'},
                'forensic_capability_verification': {'phase_target': [4], 'priority': 'medium'},
                'security_baseline_establishment': {'phase_target': [2], 'priority': 'high'},
                'continuous_security_testing': {'phase_target': [3, 4], 'priority': 'high'}
            },
            
            # å“è³ªä¿è¨¼hooksï¼ˆ25ç¨®é¡ï¼‰
            'quality_assurance_hooks': {
                'code_quality_verification': {'phase_target': [1, 2, 3], 'priority': 'high'},
                'coding_standards_enforcement': {'phase_target': [1, 2, 3], 'priority': 'high'},
                'architecture_compliance_check': {'phase_target': [2, 3], 'priority': 'high'},
                'design_pattern_verification': {'phase_target': [2, 3], 'priority': 'medium'},
                'documentation_quality_check': {'phase_target': [2, 3, 4], 'priority': 'medium'},
                'code_review_automation': {'phase_target': [2, 3], 'priority': 'high'},
                'static_code_analysis': {'phase_target': [2, 3], 'priority': 'high'},
                'dynamic_code_analysis': {'phase_target': [3], 'priority': 'high'},
                'complexity_analysis': {'phase_target': [2, 3], 'priority': 'medium'},
                'maintainability_assessment': {'phase_target': [3, 4], 'priority': 'medium'},
                'scalability_verification': {'phase_target': [3, 4], 'priority': 'high'},
                'reliability_testing': {'phase_target': [3, 4], 'priority': 'high'},
                'availability_verification': {'phase_target': [4], 'priority': 'critical'},
                'usability_testing_automation': {'phase_target': [3, 4], 'priority': 'medium'},
                'accessibility_verification': {'phase_target': [3], 'priority': 'medium'},
                'compatibility_testing': {'phase_target': [3], 'priority': 'medium'},
                'regression_testing_automation': {'phase_target': [3, 4], 'priority': 'high'},
                'smoke_testing_automation': {'phase_target': [3, 4], 'priority': 'high'},
                'sanity_testing_automation': {'phase_target': [3, 4], 'priority': 'medium'},
                'acceptance_testing_automation': {'phase_target': [4], 'priority': 'high'},
                'beta_testing_coordination': {'phase_target': [4], 'priority': 'medium'},
                'user_feedback_integration': {'phase_target': [4], 'priority': 'medium'},
                'quality_metrics_reporting': {'phase_target': [3, 4], 'priority': 'high'},
                'continuous_improvement_tracking': {'phase_target': [4], 'priority': 'medium'},
                'quality_gate_automation': {'phase_target': [3, 4], 'priority': 'critical'}
            }
        }
        
        # 190ç¨®é¡ã®æ±ç”¨Hooksã‚’çµ±åˆ
        return self._flatten_and_enhance_hooks(universal_hooks_190)
            
            'phase0_python_api': {
                'category': 'api',
                'phase_target': [0],
                'priority': 'critical',
                'auto_selection_keywords': ['python', 'api', 'fastapi', 'ai', 'machine learning'],
                'questions': [
                    'Python APIã¨ã®å®Ÿé€£æºã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'callPythonAIService()é–¢æ•°ã¨ã®äº’æ›æ€§ã¯ç¢ºä¿ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'æ¨¡æ“¬ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ»ãƒ¢ãƒƒã‚¯å‡¦ç†ã¯å®Œå…¨ã«ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ'
                ],
                'error_prevention': [3, 15, 21],
                'implementation_template': '''
                // å®ŸPython APIé€£æºï¼ˆæ¨¡æ“¬ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç¦æ­¢ï¼‰
                async function callRealPythonAPI(data) {
                    return await callPythonAIService(data); // æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ äº’æ›
                }
                '''
            },
            
            'phase0_csv_processing': {
                'category': 'file',
                'phase_target': [0],
                'priority': 'high',
                'auto_selection_keywords': ['csv', 'file', 'import', 'export', 'ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†'],
                'questions': [
                    'å®Ÿãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯ãƒ»æ¨©é™ç¢ºèªã¯å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'ãƒœã‚¿ãƒ³ã®ã¿ã®å½è£…æ©Ÿèƒ½ã¯å®Œå…¨ã«ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ'
                ],
                'error_prevention': [18],
                'implementation_template': '''
                // å®Ÿãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ï¼ˆãƒœã‚¿ãƒ³ã®ã¿ç¦æ­¢ï¼‰
                function processRealCSVFile(file) {
                    if (!fs.existsSync(file)) throw new Error('File not found');
                    return processCSV(file); // å®Ÿå‡¦ç†å¿…é ˆ
                }
                '''
            },
            
            # AIé–¢é€£Hooksï¼ˆå¾©æ´»ç‰ˆï¼‰
            'ai_operation_auto_question': {
                'category': 'ai',
                'phase_target': [0, 1],
                'priority': 'critical',
                'auto_selection_keywords': ['ai', 'learning', 'deepseek', 'ollama', 'æ©Ÿæ¢°å­¦ç¿’', 'è‡ªå‹•'],
                'questions': [
                    'ä½¿ç”¨ã™ã‚‹AIãƒ„ãƒ¼ãƒ«ã¯ï¼Ÿï¼ˆDEEPSEEK/Ollama/OpenAI/ã‚«ã‚¹ã‚¿ãƒ ï¼‰',
                    'å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®å–å¾—å…ƒã¯ï¼Ÿï¼ˆPostgreSQL/CSV/API/æ‰‹å‹•ï¼‰',
                    'ãƒ¢ãƒ‡ãƒ«ä¿å­˜å ´æ‰€ã¯ï¼Ÿï¼ˆai_workspace/models/æ¨å¥¨ï¼‰',
                    'AIå­¦ç¿’ã®å®Ÿè¡Œæ–¹æ³•ã¯ï¼Ÿï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ /ãƒãƒƒãƒ/æ‰‹å‹•/APIï¼‰',
                    'è¨ˆç®—ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ã¯ï¼Ÿï¼ˆGPU/CPU/ãƒ¡ãƒ¢ãƒª/æ™‚é–“åˆ¶é™ï¼‰'
                ],
                'error_prevention': [31],
                'implementation_template': '''
                // AIæ“ä½œæ™‚è‡ªå‹•è³ªå•ã‚·ã‚¹ãƒ†ãƒ 
                class AIOperationManager {
                    async detectAIOperation(buttonContext) {
                        const questions = this.generateAIQuestions(buttonContext);
                        return await this.executeAIQuestionnaire(questions);
                    }
                }
                '''
            },
            
            'deepseek_integration': {
                'category': 'ai',
                'phase_target': [2, 3],
                'priority': 'high',
                'auto_selection_keywords': ['deepseek', 'code generation', 'ai coding'],
                'questions': [
                    'DEEPSEEK APIã‚­ãƒ¼ã®è¨­å®šã¯å®Œäº†ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®å“è³ªåŸºæº–ã¯å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'DEEPSEEKç”Ÿæˆã‚³ãƒ¼ãƒ‰ã®æ¤œè¨¼æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
                ],
                'error_prevention': [15, 31],
                'implementation_template': '''
                // DEEPSEEKçµ±åˆã‚·ã‚¹ãƒ†ãƒ 
                class DeepSeekIntegration {
                    async generateCode(prompt) {
                        const response = await this.deepseekAPI.generate(prompt);
                        return this.validateGeneratedCode(response);
                    }
                }
                '''
            },
            
            'ollama_integration': {
                'category': 'ai',
                'phase_target': [2, 3],
                'priority': 'high',
                'auto_selection_keywords': ['ollama', 'local ai', 'multi model'],
                'questions': [
                    'Ollamaã®å‹•ä½œç’°å¢ƒè¨­å®šã¯å®Œäº†ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'ä½¿ç”¨ã™ã‚‹Ollamaãƒ¢ãƒ‡ãƒ«ã¯é¸æŠã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'Ollamaãƒ¢ãƒ‡ãƒ«ã®åˆ‡ã‚Šæ›¿ãˆæ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
                ],
                'error_prevention': [15, 21],
                'implementation_template': '''
                // Ollamaçµ±åˆã‚·ã‚¹ãƒ†ãƒ 
                class OllamaIntegration {
                    async switchModel(modelName) {
                        await this.ollamaClient.pull(modelName);
                        return this.ollamaClient.setActiveModel(modelName);
                    }
                }
                '''
            },
            
            # UI/UXé–¢é€£Hooks
            'html_to_php_conversion': {
                'category': 'conversion',
                'phase_target': [2],
                'priority': 'high',
                'auto_selection_keywords': ['html', 'php', 'conversion', 'å¤‰æ›'],
                'questions': [
                    'HTMLã‹ã‚‰PHPã¸ã®å¤‰æ›æ™‚ã€å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å®Ÿè£…æ–¹é‡ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'PHPåŸºç›¤ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ï¼‰å®Ÿè£…ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'æ—¢å­˜ã®HTMLæ§‹é€ ã‚’ä¿æŒã—ãŸã¾ã¾ã®PHPåŒ–ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
                ],
                'error_prevention': [4, 5, 10],
                'implementation_template': '''
                // HTML to PHPå¤‰æ›
                function convertHTMLToPHP($htmlContent) {
                    $phpContent = $this->addPHPHeaders($htmlContent);
                    $phpContent = $this->addSecurityFeatures($phpContent);
                    return $this->preserveHTMLStructure($phpContent);
                }
                '''
            },
            
            'javascript_externalization': {
                'category': 'javascript',
                'phase_target': [3],
                'priority': 'high',
                'auto_selection_keywords': ['javascript', 'onclick', 'event', 'external'],
                'questions': [
                    'onclickå±æ€§ã®å¤–éƒ¨JavaScriptåŒ–ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã§ã®çµ±ä¸€çš„ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'JavaScripté–¢æ•°ã®ç«¶åˆå›é¿ã¨ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
                ],
                'error_prevention': [1, 6, 8],
                'implementation_template': '''
                // JavaScriptå¤–éƒ¨åŒ–
                class EventManager {
                    init() {
                        document.addEventListener('DOMContentLoaded', () => {
                            this.bindAllEvents();
                        });
                    }
                    
                    bindAllEvents() {
                        this.bindButtonEvents();
                        this.bindFormEvents();
                    }
                }
                '''
            },
            
            'ajax_implementation': {
                'category': 'ajax',
                'phase_target': [4],
                'priority': 'critical',
                'auto_selection_keywords': ['ajax', 'async', 'fetch', 'api'],
                'questions': [
                    'PHPå´ã§ã®Ajaxãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'JavaScriptå´ã§ã®Ajaxé€šä¿¡ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'CSRFãƒˆãƒ¼ã‚¯ãƒ³ã‚’å«ã‚€ã‚»ã‚­ãƒ¥ã‚¢ãªAjaxé€šä¿¡ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
                ],
                'error_prevention': [3, 5, 25],
                'implementation_template': '''
                // Ajaxå®Ÿè£…
                class AjaxManager {
                    async sendRequest(action, data) {
                        const csrfToken = this.getCSRFToken();
                        const response = await fetch('/ajax_handler.php', {
                            method: 'POST',
                            headers: { 'X-CSRF-Token': csrfToken },
                            body: JSON.stringify({ action, data })
                        });
                        return response.json();
                    }
                }
                '''
            },
            
            # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£Hooks
            'csrf_protection': {
                'category': 'security',
                'phase_target': [1, 2, 3, 4],
                'priority': 'critical',
                'auto_selection_keywords': ['csrf', 'security', 'token', 'protection'],
                'questions': [
                    'CSRFãƒˆãƒ¼ã‚¯ãƒ³ã®ç”Ÿæˆãƒ»é€ä¿¡ãƒ»æ¤œè¨¼ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'CSRFãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®å®Ÿè£…ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'CSRFæ”»æ’ƒã®é˜²å¾¡æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
                ],
                'error_prevention': [5, 25],
                'implementation_template': '''
                // CSRFä¿è­·
                class CSRFProtection {
                    generateToken() {
                        return bin2hex(random_bytes(32));
                    }
                    
                    validateToken($token) {
                        return hash_equals($_SESSION['csrf_token'], $token);
                    }
                }
                '''
            },
            
            'xss_prevention': {
                'category': 'security',
                'phase_target': [2, 3, 4],
                'priority': 'critical',
                'auto_selection_keywords': ['xss', 'security', 'escape', 'sanitize'],
                'questions': [
                    'HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å®Ÿè£…ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'å…¥åŠ›å€¤æ¤œè¨¼ãƒ»ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                    'XSSæ”»æ’ƒã®é˜²å¾¡æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
                ],
                'error_prevention': [26],
                'implementation_template': '''
                // XSSé˜²å¾¡
                class XSSPrevention {
                    escapeHTML($input) {
                        return htmlspecialchars($input, ENT_QUOTES, 'UTF-8');
                    }
                    
                    sanitizeInput($input) {
                        return filter_var($input, FILTER_SANITIZE_STRING);
                    }
                }
                '''
            },
    def _flatten_and_enhance_hooks(self, hooks_categories: Dict) -> Dict[str, Dict]:
        """190ç¨®é¡ã®æ±ç”¨Hooksã‚’çµ±åˆãƒ»å¼·åŒ–"""
        
        flattened_hooks = {}
        hook_counter = 1
        
        for category_name, category_hooks in hooks_categories.items():
            if isinstance(category_hooks, dict):
                # å€‹åˆ¥hookså‡¦ç†
                for hook_name, hook_config in category_hooks.items():
                    enhanced_hook_id = f"universal_hook_{hook_counter:03d}_{hook_name}"
                    
                    flattened_hooks[enhanced_hook_id] = {
                        'hook_id': hook_counter,
                        'hook_name': hook_name,
                        'category': category_name,
                        'phase_target': hook_config.get('phase_target', [3]),
                        'priority': hook_config.get('priority', 'medium'),
                        'auto_selection_keywords': self._generate_keywords(hook_name, category_name),
                        'questions': self._generate_hook_questions(hook_name, category_name),
                        'implementation_guide': self._generate_implementation_guide(hook_name, category_name),
                        'error_prevention': self._map_to_phase1_errors(hook_name, category_name),
                        'universal_hook': True,
                        'source_category': category_name
                    }
                    hook_counter += 1
            else:
                # ã‚«ãƒ†ã‚´ãƒªhookså‡¦ç†ï¼ˆCSSã€JSç­‰ï¼‰
                for variant_hooks in category_hooks:
                    if isinstance(variant_hooks, dict):
                        for hook_name, hook_config in variant_hooks.items():
                            enhanced_hook_id = f"universal_hook_{hook_counter:03d}_{hook_name}"
                            
                            flattened_hooks[enhanced_hook_id] = {
                                'hook_id': hook_counter,
                                'hook_name': hook_name,
                                'category': category_name,
                                'phase_target': hook_config.get('phase_target', [1]),
                                'priority': hook_config.get('priority', 'medium'),
                                'auto_selection_keywords': self._generate_keywords(hook_name, category_name),
                                'questions': self._generate_hook_questions(hook_name, category_name),
                                'implementation_guide': self._generate_implementation_guide(hook_name, category_name),
                                'error_prevention': self._map_to_phase1_errors(hook_name, category_name),
                                'universal_hook': True,
                                'source_category': category_name
                            }
                            hook_counter += 1
        
        print(f"ğŸ“Š æ±ç”¨Hooksçµ±åˆå®Œäº†: {len(flattened_hooks)}ç¨®é¡")
        return flattened_hooks
    
    def _generate_css_hooks_variants(self, count: int) -> List[Dict]:
        """CSSé–¢é€£æ±ç”¨hooksç”Ÿæˆ"""
        css_variants = {}
        css_hooks = [
            'inline_style_extraction', 'css_externalization', 'bem_naming_conversion',
            'css_optimization', 'responsive_design_check', 'css_validation',
            'cross_browser_compatibility', 'css_performance_optimization',
            'css_maintainability_check', 'css_accessibility_verification'
        ]
        
        for i, hook_name in enumerate(css_hooks[:count]):
            css_variants[hook_name] = {
                'phase_target': [1],
                'priority': 'high' if i < 3 else 'medium'
            }
        
        return css_variants
    
    def _generate_js_hooks_variants(self, count: int) -> List[Dict]:
        """JavaScripté–¢é€£æ±ç”¨hooksç”Ÿæˆ"""
        js_variants = {}
        js_hooks = [
            'onclick_externalization', 'event_listener_setup', 'namespace_management',
            'js_optimization', 'error_handling_setup', 'async_processing_check',
            'dom_manipulation_verification', 'js_performance_optimization',
            'js_security_verification', 'js_accessibility_check'
        ]
        
        for i, hook_name in enumerate(js_hooks[:count]):
            js_variants[hook_name] = {
                'phase_target': [3],
                'priority': 'high' if i < 4 else 'medium'
            }
        
        return js_variants
    
    def _generate_php_hooks_variants(self, count: int) -> List[Dict]:
        """PHPé–¢é€£æ±ç”¨hooksç”Ÿæˆ"""
        php_variants = {}
        php_hooks = [
            'html_to_php_conversion', 'php_security_setup', 'session_management',
            'csrf_token_implementation', 'input_validation', 'output_sanitization',
            'database_integration', 'error_handling_setup', 'php_performance_optimization',
            'php_best_practices_check'
        ]
        
        for i, hook_name in enumerate(php_hooks[:count]):
            php_variants[hook_name] = {
                'phase_target': [2],
                'priority': 'critical' if i < 6 else 'high'
            }
        
        return php_variants
    
    def _generate_ajax_hooks_variants(self, count: int) -> List[Dict]:
        """Ajaxé–¢é€£æ±ç”¨hooksç”Ÿæˆ"""
        ajax_variants = {}
        ajax_hooks = [
            'ajax_handler_implementation', 'ajax_client_setup', 'csrf_ajax_integration',
            'ajax_error_handling', 'ajax_performance_optimization', 'ajax_security_verification',
            'ajax_data_validation', 'ajax_response_formatting', 'ajax_retry_mechanism',
            'ajax_monitoring_setup'
        ]
        
        for i, hook_name in enumerate(ajax_hooks[:count]):
            ajax_variants[hook_name] = {
                'phase_target': [4],
                'priority': 'critical' if i < 4 else 'high'
            }
        
        return ajax_variants
    
    def _generate_keywords(self, hook_name: str, category: str) -> List[str]:
        """Hookåã¨ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰è‡ªå‹•é¸å®šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ"""
        
        keyword_mapping = {
            'css': ['css', 'style', 'ãƒ‡ã‚¶ã‚¤ãƒ³', 'ã‚¹ã‚¿ã‚¤ãƒ«', 'ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–'],
            'js': ['javascript', 'js', 'ã‚¹ã‚¯ãƒªãƒ—ãƒˆ', 'ã‚¤ãƒ™ãƒ³ãƒˆ', 'dom'],
            'php': ['php', 'ã‚µãƒ¼ãƒãƒ¼', 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰', 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£'],
            'ajax': ['ajax', 'async', 'éåŒæœŸ', 'api', 'é€šä¿¡'],
            'test': ['test', 'testing', 'ãƒ†ã‚¹ãƒˆ', 'æ¤œè¨¼', 'å“è³ª'],
            'performance': ['performance', 'ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹', 'æœ€é©åŒ–', 'é€Ÿåº¦'],
            'ai': ['ai', 'äººå·¥çŸ¥èƒ½', 'æ©Ÿæ¢°å­¦ç¿’', 'deepseek', 'ollama'],
            'security': ['security', 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£', 'csrf', 'xss', 'èªè¨¼']
        }
        
        base_keywords = []
        for key, keywords in keyword_mapping.items():
            if key in category.lower() or key in hook_name.lower():
                base_keywords.extend(keywords)
        
        # hookåã‹ã‚‰è¿½åŠ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
        hook_words = hook_name.replace('_', ' ').split()
        base_keywords.extend(hook_words)
        
        return list(set(base_keywords))
    
    def _generate_hook_questions(self, hook_name: str, category: str) -> List[str]:
        """Hookå›ºæœ‰ã®è³ªå•ç”Ÿæˆ"""
        
        question_templates = {
            'css': [
                f'{hook_name}ã®å®Ÿè£…æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                'CSSå¤–éƒ¨åŒ–ã«ã‚ˆã‚‹æ—¢å­˜ãƒ‡ã‚¶ã‚¤ãƒ³ã®ä¿æŒã¯ç¢ºå®Ÿã§ã™ã‹ï¼Ÿ',
                'BEMå‘½åè¦å‰‡ã§ã®çµ±ä¸€çš„ãªã‚¯ãƒ©ã‚¹åä»˜ã‘ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
            ],
            'test': [
                f'{hook_name}ã®ãƒ†ã‚¹ãƒˆç¯„å›²ãƒ»å¯¾è±¡ã¯æ˜ç¢ºã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ',
                'ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æº–å‚™ãƒ»ç®¡ç†æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                'ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®è‡ªå‹•åŒ–ç’°å¢ƒã¯æ•´å‚™ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ'
            ],
            'ai': [
                f'{hook_name}ã®AIçµ±åˆè¨­å®šã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                'AIå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®å“è³ªç®¡ç†æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                'AIå‡¦ç†å¤±æ•—æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã¯æº–å‚™ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ'
            ],
            'security': [
                f'{hook_name}ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã®äºˆé˜²æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
                'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ãƒ»æ¤œè¨¼ã®æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
            ]
        }
        
        for key, questions in question_templates.items():
            if key in category.lower() or key in hook_name.lower():
                return questions
        
        # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³ªå•
        return [
            f'{hook_name}ã®å®Ÿè£…æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
            f'{hook_name}ã®å“è³ªåŸºæº–ã¯å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ',
            f'{hook_name}ã®ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼æ–¹æ³•ã¯ç†è§£ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ'
        ]
    
    def auto_select(self, html_analysis: Dict, development_instruction: str) -> List[Dict]:
        """HTMLè§£æãƒ»é–‹ç™ºæŒ‡ç¤ºæ›¸ã‹ã‚‰æ±ç”¨Hooks190ç¨®é¡è‡ªå‹•é¸å®š"""
        
        selected_hooks = []
        instruction_lower = development_instruction.lower()
        
        # 190ç¨®é¡ã®æ±ç”¨Hooksã‹ã‚‰æœ€é©é¸å®š
        for hook_id, hook_data in self.hooks_database.items():
            selection_score = 0
            
            # ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒãƒ³ã‚°ï¼ˆé‡è¦åº¦ï¼š40ç‚¹ï¼‰
            keyword_matches = 0
            for keyword in hook_data['auto_selection_keywords']:
                if keyword.lower() in instruction_lower:
                    keyword_matches += 1
            selection_score += min(keyword_matches * 8, 40)
            
            # HTMLè¦ç´ é©åˆæ€§ï¼ˆé‡è¦åº¦ï¼š30ç‚¹ï¼‰
            category = hook_data.get('category', '')
            
            if 'css' in category:
                # CSSé–¢é€£ï¼šã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³è¦ç´ æ¤œå‡º
                if 'style=' in str(html_analysis):
                    selection_score += 25
                if len(html_analysis.get('forms', [])) > 0:
                    selection_score += 10
                    
            elif 'test' in category:
                # ãƒ†ã‚¹ãƒˆé–¢é€£ï¼šã‚·ã‚¹ãƒ†ãƒ è¤‡é›‘åº¦ã§é‡è¦åº¦åˆ¤å®š
                total_elements = (len(html_analysis.get('buttons', [])) + 
                                len(html_analysis.get('forms', [])) + 
                                len(html_analysis.get('inputs', [])))
                if total_elements > 5:
                    selection_score += 30
                elif total_elements > 2:
                    selection_score += 20
                    
            elif 'ai' in category:
                # AIé–¢é€£ï¼šAIé–¢é€£è¦ç´ ãƒ»ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º
                ai_elements = [btn for btn in html_analysis.get('buttons', []) 
                             if any(kw in btn.get('text', '').lower() 
                                   for kw in ['ai', 'è‡ªå‹•', 'auto', 'åˆ†æ', 'äºˆæ¸¬'])]
                if ai_elements:
                    selection_score += 30
                if any(kw in instruction_lower for kw in ['ai', 'æ©Ÿæ¢°å­¦ç¿’', 'è‡ªå‹•åŒ–']):
                    selection_score += 20
                    
            elif 'performance' in category:
                # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é–¢é€£ï¼šå¤§è¦æ¨¡ã‚·ã‚¹ãƒ†ãƒ ãƒ»é€Ÿåº¦è¦æ±‚æ¤œå‡º
                if len(html_analysis.get('buttons', [])) > 3:
                    selection_score += 20
                if any(kw in instruction_lower for kw in ['é€Ÿåº¦', 'æœ€é©åŒ–', 'performance', 'é«˜é€Ÿ']):
                    selection_score += 25
                    
            elif 'security' in category:
                # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ï¼šãƒ•ã‚©ãƒ¼ãƒ ãƒ»èªè¨¼è¦ç´ æ¤œå‡º
                if len(html_analysis.get('forms', [])) > 0:
                    selection_score += 25
                if any(kw in instruction_lower for kw in ['ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£', 'èªè¨¼', 'login', 'auth']):
                    selection_score += 20
                    
            elif 'ajax' in category:
                # Ajaxé–¢é€£ï¼šã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ æ¤œå‡º
                if len(html_analysis.get('buttons', [])) > 1:
                    selection_score += 20
                if any(kw in instruction_lower for kw in ['ajax', 'éåŒæœŸ', 'api']):
                    selection_score += 25
            
            # ãƒ•ã‚§ãƒ¼ã‚ºé©åˆæ€§ï¼ˆé‡è¦åº¦ï¼š20ç‚¹ï¼‰
            phase_targets = hook_data.get('phase_target', [])
            if 1 in phase_targets or 2 in phase_targets:  # åŸºç›¤æ§‹ç¯‰ãƒ•ã‚§ãƒ¼ã‚º
                selection_score += 15
            elif 3 in phase_targets or 4 in phase_targets:  # é«˜åº¦æ©Ÿèƒ½ãƒ•ã‚§ãƒ¼ã‚º
                selection_score += 10
            
            # å„ªå…ˆåº¦ãƒœãƒ¼ãƒŠã‚¹ï¼ˆé‡è¦åº¦ï¼š10ç‚¹ï¼‰
            priority = hook_data.get('priority', 'medium')
            if priority == 'critical':
                selection_score += 10
            elif priority == 'high':
                selection_score += 7
            elif priority == 'medium':
                selection_score += 4
            
            # é¸å®šåŸºæº–ï¼ˆPhaseãƒ»å„ªå…ˆåº¦é©å¿œï¼‰
            min_threshold = 25  # åŸºæœ¬é–¾å€¤
            if priority == 'critical':
                min_threshold = 15  # Criticalå„ªå…ˆåº¦ã¯ä½ã„é–¾å€¤
            elif priority == 'high':
                min_threshold = 20
            
            if selection_score >= min_threshold:
                selected_hooks.append({
                    'hook_id': hook_id,
                    'hook_data': hook_data,
                    'selection_score': selection_score,
                    'auto_selected': True,
                    'universal_hook': True,
                    'hook_number': hook_data.get('hook_id', 0),
                    'category': hook_data.get('category', ''),
                    'priority': priority
                })
        
        # ã‚¹ã‚³ã‚¢é †ã‚½ãƒ¼ãƒˆï¼ˆä¸Šä½30å€‹ç¨‹åº¦ã«çµã‚‹ï¼‰
        selected_hooks = sorted(selected_hooks, key=lambda x: x['selection_score'], reverse=True)
        
        # Phaseåˆ¥åˆ†æ•£é¸å®šï¼ˆå„Phaseã‹ã‚‰é©åˆ‡ã«é¸å®šï¼‰
        final_selection = self._balance_phase_selection(selected_hooks[:50])
        
        print(f"ğŸ“Š æ±ç”¨Hooksè‡ªå‹•é¸å®šå®Œäº†: {len(final_selection)}å€‹ï¼ˆ190ç¨®é¡ã‹ã‚‰é¸å®šï¼‰")
        return final_selection
    
    def _balance_phase_selection(self, candidate_hooks: List[Dict]) -> List[Dict]:
        """Phaseåˆ¥ãƒãƒ©ãƒ³ã‚¹é¸å®š"""
        
        phase_distribution = {1: [], 2: [], 3: [], 4: []}
        
        # Phaseåˆ¥åˆ†é¡
        for hook in candidate_hooks:
            phase_targets = hook['hook_data'].get('phase_target', [3])
            primary_phase = phase_targets[0] if phase_targets else 3
            if primary_phase in phase_distribution:
                phase_distribution[primary_phase].append(hook)
        
        # å„Phaseã‹ã‚‰é©åˆ‡æ•°é¸å®š
        balanced_selection = []
        phase_limits = {1: 8, 2: 8, 3: 10, 4: 6}  # åˆè¨ˆ32å€‹ç¨‹åº¦
        
        for phase, limit in phase_limits.items():
            phase_hooks = sorted(phase_distribution[phase], 
                               key=lambda x: x['selection_score'], reverse=True)
            balanced_selection.extend(phase_hooks[:limit])
        
        return balanced_selection
```

---

## ğŸ”„ **Phase 2: å‹•çš„HTMLè§£æã‚¨ãƒ³ã‚¸ãƒ³**

### **ğŸ¯ HTMLè¦ç´ å®Œå…¨è§£æã‚·ã‚¹ãƒ†ãƒ **

```python
class DynamicHTMLAnalyzer:
    """HTMLè¦ç´ æ•°ãƒ»å†…å®¹å®Œå…¨é©å¿œè§£æã‚·ã‚¹ãƒ†ãƒ """
    
    def analyze_html_completely(self, html_content: str) -> Dict[str, Any]:
        """HTMLè¦ç´ ã®å®Œå…¨è§£æï¼ˆå‹•çš„å¯¾å¿œï¼‰"""
        
        analysis_result = {
            'elements_count': self._count_all_elements(html_content),
            'function_inference': self._infer_functions(html_content),
            'complexity_assessment': self._assess_complexity(html_content),
            'ui_patterns': self._detect_ui_patterns(html_content),
            'interaction_flow': self._analyze_interaction_flow(html_content),
            'accessibility_check': self._check_accessibility(html_content)
        }
        
        return analysis_result
    
    def _count_all_elements(self, html_content: str) -> Dict[str, Any]:
        """å…¨è¦ç´ ã®è©³ç´°ã‚«ã‚¦ãƒ³ãƒˆãƒ»åˆ†æ"""
        
        elements_count = {
            'buttons': {
                'count': len(re.findall(r'<button|<input[^>]*type=["\']button', html_content)),
                'details': self._extract_button_details(html_content),
                'interaction_complexity': 'simple'  # simple/medium/complex
            },
            'forms': {
                'count': len(re.findall(r'<form', html_content)),
                'details': self._extract_form_details(html_content),
                'validation_complexity': 'basic'
            },
            'inputs': {
                'count': len(re.findall(r'<input', html_content)),
                'types': self._categorize_input_types(html_content),
                'data_flow_complexity': 'linear'
            },
            'tables': {
                'count': len(re.findall(r'<table', html_content)),
                'data_complexity': self._analyze_table_complexity(html_content)
            },
            'dynamic_areas': {
                'count': len(re.findall(r'id=["\'][^"\']*result[^"\']*["\']', html_content)),
                'update_patterns': self._detect_update_patterns(html_content)
            }
        }
        
        # è¤‡é›‘åº¦è©•ä¾¡
        total_interactive = (elements_count['buttons']['count'] + 
                           elements_count['forms']['count'] + 
                           elements_count['inputs']['count'])
        
        if total_interactive > 10:
            elements_count['overall_complexity'] = 'high'
        elif total_interactive > 5:
            elements_count['overall_complexity'] = 'medium'
        else:
            elements_count['overall_complexity'] = 'simple'
            
        return elements_count
    
    def _extract_button_details(self, html_content: str) -> List[Dict]:
        """ãƒœã‚¿ãƒ³è©³ç´°æƒ…å ±æŠ½å‡º"""
        
        button_details = []
        button_patterns = [
            r'<button[^>]*>(.*?)</button>',
            r'<input[^>]*type=["\']button["\'][^>]*>'
        ]
        
        for pattern in button_patterns:
            matches = re.finditer(pattern, html_content, re.DOTALL)
            for match in matches:
                button_info = {
                    'text': self._extract_button_text(match.group(0)),
                    'onclick': self._extract_onclick(match.group(0)),
                    'id': self._extract_id(match.group(0)),
                    'class': self._extract_class(match.group(0)),
                    'function_type': self._infer_button_function(match.group(0)),
                    'target_elements': self._find_target_elements(match.group(0), html_content)
                }
                button_details.append(button_info)
        
        return button_details
    
    def _infer_functions(self, html_content: str) -> Dict[str, Any]:
        """æ©Ÿèƒ½æ¨æ¸¬ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆé«˜ç²¾åº¦ï¼‰"""
        
        function_patterns = {
            'data_management': {
                'keywords': ['ç™»éŒ²', 'ç·¨é›†', 'å‰Šé™¤', 'ä¸€è¦§', 'ä¿å­˜', 'save', 'edit', 'delete', 'list'],
                'html_indicators': ['form', 'table', 'input[type="text"]'],
                'confidence': 0,
                'detected_functions': []
            },
            'calculation': {
                'keywords': ['è¨ˆç®—', 'åˆè¨ˆ', 'é›†è¨ˆ', 'çµ±è¨ˆ', 'calculate', 'sum', 'total'],
                'html_indicators': ['input[type="number"]', 'onclick.*calc', 'math'],
                'confidence': 0,
                'detected_functions': []
            },
            'ai_integration': {
                'keywords': ['AI', 'æ©Ÿæ¢°å­¦ç¿’', 'è‡ªå‹•', 'äºˆæ¸¬', 'åˆ†é¡', 'ai', 'auto', 'predict'],
                'html_indicators': ['ai', 'predict', 'auto', 'learning'],
                'confidence': 0,
                'detected_functions': []
            },
            'file_processing': {
                'keywords': ['ãƒ•ã‚¡ã‚¤ãƒ«', 'CSV', 'ã‚¤ãƒ³ãƒãƒ¼ãƒˆ', 'ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ', 'file', 'import', 'export'],
                'html_indicators': ['input[type="file"]', 'upload', 'download'],
                'confidence': 0,
                'detected_functions': []
            },
            'reporting': {
                'keywords': ['ãƒ¬ãƒãƒ¼ãƒˆ', 'å‡ºåŠ›', 'PDF', 'report', 'output', 'print'],
                'html_indicators': ['report', 'export', 'print', 'pdf'],
                'confidence': 0,
                'detected_functions': []
            }
        }
        
        # é«˜ç²¾åº¦æ©Ÿèƒ½æ¨æ¸¬
        for category, pattern in function_patterns.items():
            # ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒãƒ³ã‚°
            keyword_matches = sum(1 for kw in pattern['keywords'] 
                                if kw.lower() in html_content.lower())
            
            # HTMLè¦ç´ ãƒãƒƒãƒãƒ³ã‚°  
            html_matches = sum(1 for indicator in pattern['html_indicators']
                             if indicator.lower() in html_content.lower())
            
            # ä¿¡é ¼åº¦è¨ˆç®—
            total_indicators = len(pattern['keywords']) + len(pattern['html_indicators'])
            pattern['confidence'] = (keyword_matches + html_matches) / total_indicators
            
            # æ¤œå‡ºã•ã‚ŒãŸå…·ä½“çš„æ©Ÿèƒ½
            if pattern['confidence'] > 0.3:
                pattern['detected_functions'] = self._extract_specific_functions(
                    category, html_content
                )
        
        return function_patterns
```

---

## ğŸ¤– **Phase 3: é©å¿œçš„è³ªå•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ **

### **ğŸ¯ è¦ç´ æ•°å®Œå…¨é©å¿œè³ªå•ã‚¨ãƒ³ã‚¸ãƒ³**

```python
class AdaptiveQuestionGenerator:
    """HTMLè¦ç´ æ•°ãƒ»å†…å®¹ã«å®Œå…¨é©å¿œã—ãŸå‹•çš„è³ªå•ç”Ÿæˆ"""
    
    def generate_adaptive_hooks(self, 
                               html_analysis: Dict, 
                               development_instruction: str) -> List[Dict]:
        """é©å¿œçš„å°‚ç”¨Hooksç”Ÿæˆ"""
        
        adaptive_hooks = []
        
        # ãƒœã‚¿ãƒ³æ•°é©å¿œè³ªå•
        button_hooks = self._generate_button_adaptive_hooks(
            html_analysis['elements_count']['buttons']
        )
        adaptive_hooks.extend(button_hooks)
        
        # ãƒ•ã‚©ãƒ¼ãƒ é©å¿œè³ªå•
        form_hooks = self._generate_form_adaptive_hooks(
            html_analysis['elements_count']['forms']
        )
        adaptive_hooks.extend(form_hooks)
        
        # æ©Ÿèƒ½æ¨æ¸¬é©å¿œè³ªå•
        function_hooks = self._generate_function_adaptive_hooks(
            html_analysis['function_inference']
        )
        adaptive_hooks.extend(function_hooks)
        
        # AIé–¢é€£é©å¿œè³ªå•ï¼ˆå¾©æ´»ç‰ˆï¼‰
        ai_hooks = self._generate_ai_adaptive_hooks(
            html_analysis, development_instruction
        )
        adaptive_hooks.extend(ai_hooks)
        
        return adaptive_hooks
    
    def _generate_button_adaptive_hooks(self, button_data: Dict) -> List[Dict]:
        """ãƒœã‚¿ãƒ³æ•°ãƒ»å†…å®¹å®Œå…¨é©å¿œè³ªå•ç”Ÿæˆ"""
        
        button_count = button_data['count']
        button_details = button_data['details']
        
        if button_count == 0:
            return [{
                'hook_type': 'no_button_system',
                'phase_target': [5],
                'questions': [
                    'ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã«ãƒœã‚¿ãƒ³æ©Ÿèƒ½ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€å°†æ¥çš„ã«ãƒœã‚¿ãƒ³è¿½åŠ ã®äºˆå®šã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ',
                    'ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã¯ã©ã®ã‚ˆã†ãªæ–¹æ³•ã§å®Ÿç¾ã—ã¾ã™ã‹ï¼Ÿ',
                    'é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã¿ã§è¦ä»¶ã‚’æº€ãŸã™ã“ã¨ãŒã§ãã¾ã™ã‹ï¼Ÿ'
                ],
                'implementation_focus': 'static_content_optimization'
            }]
        
        elif button_count == 1:
            button = button_details[0]
            return [{
                'hook_type': 'single_button_specialized',
                'phase_target': [5, 6],
                'button_info': button,
                'questions': [
                    f'æ¤œå‡ºã•ã‚ŒãŸ1å€‹ã®ãƒœã‚¿ãƒ³ã€Œ{button["text"]}ã€ã®å…·ä½“çš„ãªå‡¦ç†å†…å®¹ã¯ï¼Ÿ',
                    f'ã“ã®ãƒœã‚¿ãƒ³ã®å¤±æ•—æ™‚ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ–¹æ³•ã¯ï¼Ÿ',
                    f'å‡¦ç†å®Œäº†æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ–¹æ³•ã¯ï¼Ÿ',
                    f'ã“ã®ãƒœã‚¿ãƒ³ã®å‡¦ç†æ™‚é–“ãŒé•·ã„å ´åˆã®å¯¾å¿œæ–¹æ³•ã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³æŠ¼ä¸‹å¾Œã®ç”»é¢çŠ¶æ…‹ç®¡ç†æ–¹æ³•ã¯ï¼Ÿ'
                ],
                'implementation_focus': 'single_button_perfection',
                'error_handling_priority': 'high'
            }]
        
        elif 2 <= button_count <= 5:
            button_list = [btn['text'] for btn in button_details]
            return [{
                'hook_type': 'multi_button_coordinated',
                'phase_target': [5, 6, 7],
                'button_count': button_count,
                'button_details': button_details,
                'questions': [
                    f'æ¤œå‡ºã•ã‚ŒãŸ{button_count}å€‹ã®ãƒœã‚¿ãƒ³ï¼ˆ{", ".join(button_list)}ï¼‰ã®å®Ÿè¡Œé †åºãƒ»ä¾å­˜é–¢ä¿‚ã¯ï¼Ÿ',
                    f'ã“ã‚Œã‚‰ã®ãƒœã‚¿ãƒ³é–“ã§ã®ãƒ‡ãƒ¼ã‚¿é€£æºãƒ»å…±æœ‰æ–¹æ³•ã¯ï¼Ÿ',
                    f'è¤‡æ•°ãƒœã‚¿ãƒ³ã®åŒæ™‚æŠ¼ä¸‹é˜²æ­¢ãƒ»æ’ä»–åˆ¶å¾¡ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³é–“ã®å‡¦ç†çµæœã®å¼•ãç¶™ãæ–¹æ³•ã¯ï¼Ÿ',
                    f'ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ä»–ãƒœã‚¿ãƒ³ã¸ã®å½±éŸ¿ç¯„å›²ã¯ï¼Ÿ'
                ] + [f'ã€Œ{btn["text"]}ã€ãƒœã‚¿ãƒ³ã®è©³ç´°å‡¦ç†ãƒ•ãƒ­ãƒ¼ã¯ï¼Ÿ' for btn in button_details],
                'implementation_focus': 'coordinated_button_system',
                'coordination_priority': 'critical'
            }]
        
        elif 6 <= button_count <= 10:
            primary_buttons = button_details[:3]
            return [{
                'hook_type': 'complex_button_management',
                'phase_target': [5, 6, 7, 8],
                'button_count': button_count,
                'complexity_level': 'high',
                'questions': [
                    f'å¤šæ•°ï¼ˆ{button_count}å€‹ï¼‰ã®ãƒœã‚¿ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ä¸»è¦æ©Ÿèƒ½ã®å„ªå…ˆé †ä½ã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ãƒ»ã‚«ãƒ†ã‚´ãƒªåˆ†ã‘ãƒ«ãƒ¼ãƒ«ã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³ã®å‹•çš„è¡¨ç¤ºãƒ»éè¡¨ç¤ºåˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯ã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³çŠ¶æ…‹ç®¡ç†ï¼ˆæœ‰åŠ¹/ç„¡åŠ¹/å‡¦ç†ä¸­ï¼‰ã®æ–¹é‡ã¯ï¼Ÿ',
                    f'å¤§é‡ãƒœã‚¿ãƒ³ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æ–¹æ³•ã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³æ“ä½œã®å±¥æ­´ãƒ»ãƒ­ã‚°ç®¡ç†ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ'
                ] + [f'ä¸»è¦ãƒœã‚¿ãƒ³ã€Œ{btn["text"]}ã€ã®å‡¦ç†å„ªå…ˆåº¦ãƒ»å®Ÿè£…è©³ç´°ã¯ï¼Ÿ' for btn in primary_buttons],
                'implementation_focus': 'enterprise_button_architecture',
                'performance_priority': 'critical'
            }]
        
        else:  # button_count > 10
            return [{
                'hook_type': 'enterprise_button_system',
                'phase_target': [5, 6, 7, 8, 9],
                'button_count': button_count,
                'complexity_level': 'enterprise',
                'questions': [
                    f'å¤§è¦æ¨¡ï¼ˆ{button_count}å€‹ï¼‰ãƒœã‚¿ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ–¹é‡ã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³ã®éšå±¤ç®¡ç†ãƒ»æ¨©é™åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ ã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³æ©Ÿèƒ½ã®å‹•çš„ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»é…å»¶å®Ÿè¡Œã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³æ“ä½œã®ç›£æŸ»ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®é‹ç”¨ãƒ»ç›£è¦–æ–¹æ³•ã¯ï¼Ÿ',
                    f'ãƒœã‚¿ãƒ³æ©Ÿèƒ½ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•ã¯ï¼Ÿ'
                ],
                'implementation_focus': 'scalable_enterprise_architecture',
                'architecture_priority': 'critical',
                'requires_advanced_patterns': True
            }]
    
    def _generate_function_adaptive_hooks(self, function_inference: Dict) -> List[Dict]:
        """æ©Ÿèƒ½æ¨æ¸¬çµæœã«åŸºã¥ãé©å¿œçš„è³ªå•ç”Ÿæˆ"""
        
        function_hooks = []
        
        for category, function_data in function_inference.items():
            confidence = function_data['confidence']
            
            if confidence > 0.7:  # é«˜ä¿¡é ¼åº¦æ©Ÿèƒ½
                if category == 'data_management':
                    function_hooks.append({
                        'hook_type': 'data_management_specialized',
                        'phase_target': [2, 3, 4],
                        'confidence': confidence,
                        'questions': [
                            f'ãƒ‡ãƒ¼ã‚¿ç®¡ç†æ©Ÿèƒ½ï¼ˆä¿¡é ¼åº¦{confidence:.1%}ï¼‰ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚ä¸»ãªãƒ‡ãƒ¼ã‚¿æ“ä½œã¯ï¼Ÿ',
                            'ãƒ‡ãƒ¼ã‚¿ã®ä¸€æ„æ€§åˆ¶ç´„ãƒ»é‡è¤‡ãƒã‚§ãƒƒã‚¯ãƒ«ãƒ¼ãƒ«ã¯ï¼Ÿ',
                            'ãƒ‡ãƒ¼ã‚¿å‰Šé™¤æ™‚ã®ç¢ºèªãƒ»å¾©å…ƒæ©Ÿèƒ½ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ',
                            'ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å±¥æ­´ç®¡ç†æ–¹é‡ã¯ï¼Ÿ',
                            'ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ãƒ»æ¤œè¨¼æ©Ÿèƒ½ã¯ï¼Ÿ',
                            'ãƒ‡ãƒ¼ã‚¿ç§»è¡Œãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ©Ÿèƒ½ã¯ï¼Ÿ'
                        ],
                        'implementation_focus': 'robust_data_management'
                    })
                
                elif category == 'ai_integration':
                    function_hooks.append({
                        'hook_type': 'ai_integration_specialized',
                        'phase_target': [1, 2, 3, 4],
                        'confidence': confidence,
                        'questions': [
                            f'AIçµ±åˆæ©Ÿèƒ½ï¼ˆä¿¡é ¼åº¦{confidence:.1%}ï¼‰ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚ä½¿ç”¨ã™ã‚‹AIãƒ„ãƒ¼ãƒ«ã¯ï¼Ÿ',
                            'ãƒ»DEEPSEEKï¼ˆã‚³ãƒ¼ãƒ‰ç”Ÿæˆç‰¹åŒ–ãƒ»é«˜é€Ÿï¼‰',
                            'ãƒ»Ollamaï¼ˆå¤šãƒ¢ãƒ‡ãƒ«å¯¾å¿œãƒ»ãƒ­ãƒ¼ã‚«ãƒ«ï¼‰',
                            'ãƒ»OpenAI APIï¼ˆé«˜ç²¾åº¦ãƒ»ã‚¯ãƒ©ã‚¦ãƒ‰ï¼‰',
                            'ãƒ»ã‚«ã‚¹ã‚¿ãƒ ãƒ¢ãƒ‡ãƒ«ï¼ˆç‹¬è‡ªå­¦ç¿’ãƒ»å°‚ç”¨ï¼‰',
                            'ãƒ»æ··åˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆç”¨é€”åˆ¥ä½¿ã„åˆ†ã‘ï¼‰',
                            '',
                            'AIå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®å–å¾—å…ƒãƒ»æ›´æ–°é »åº¦ã¯ï¼Ÿ',
                            'AIæ¨è«–çµæœã®ä¿¡é ¼åº¦è¡¨ç¤ºãƒ»èª¬æ˜æ©Ÿèƒ½ã¯ï¼Ÿ',
                            'AIå‡¦ç†å¤±æ•—æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã¯ï¼Ÿ',
                            'AIå­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†æ–¹æ³•ã¯ï¼Ÿ',
                            'AIå‡¦ç†ã®ç›£æŸ»ãƒ»ãƒ­ã‚°è¨˜éŒ²æ–¹æ³•ã¯ï¼Ÿ'
                        ],
                        'implementation_focus': 'comprehensive_ai_integration',
                        'ai_system_priority': 'critical'
                    })
        
        return function_hooks
    
    def _generate_ai_adaptive_hooks(self, 
                                   html_analysis: Dict, 
                                   development_instruction: str) -> List[Dict]:
        """AIé–¢é€£é©å¿œè³ªå•ï¼ˆå¾©æ´»ç‰ˆï¼‰"""
        
        ai_hooks = []
        
        # AIé–¢é€£ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º
        ai_keywords = ['ai', 'artificial intelligence', 'äººå·¥çŸ¥èƒ½', 'æ©Ÿæ¢°å­¦ç¿’', 
                      'machine learning', 'è‡ªå‹•', 'auto', 'deepseek', 'ollama']
        
        instruction_lower = development_instruction.lower()
        ai_detected = any(keyword in instruction_lower for keyword in ai_keywords)
        
        # AIãƒœã‚¿ãƒ³æ¤œå‡º
        ai_buttons = []
        for button in html_analysis['elements_count']['buttons']['details']:
            button_text = button.get('text', '').lower()
            if any(keyword in button_text for keyword in ai_keywords):
                ai_buttons.append(button)
        
        if ai_detected or ai_buttons:
            ai_hooks.append({
                'hook_type': 'ai_operation_system_restored',
                'phase_target': [0, 1, 2, 3, 4],
                'priority': 'critical',
                'ai_buttons_detected': ai_buttons,
                'questions': [
                    '=== AIçµ±åˆã‚·ã‚¹ãƒ†ãƒ è¨­å®šï¼ˆå¾©æ´»ç‰ˆï¼‰ ===',
                    '',
                    'ğŸ¤– ä½¿ç”¨ã™ã‚‹AIãƒ„ãƒ¼ãƒ«ã®é¸æŠï¼š',
                    'ãƒ»DEEPSEEKï¼ˆã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ç‰¹åŒ–ï¼‰',
                    'ãƒ»Ollamaï¼ˆãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é‡è¦–ï¼‰',
                    'ãƒ»OpenAI APIï¼ˆé«˜ç²¾åº¦ãƒ»å¤šæ©Ÿèƒ½ãƒ»ã‚¯ãƒ©ã‚¦ãƒ‰ï¼‰',
                    'ãƒ»Transformersï¼ˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ»ç‹¬è‡ªå­¦ç¿’ï¼‰',
                    'ãƒ»æ··åˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆç”¨é€”åˆ¥æœ€é©åŒ–ï¼‰',
                    '',
                    'ğŸ“Š å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ç®¡ç†ï¼š',
                    'ãƒ»ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼šPostgreSQL/CSV/API/æ‰‹å‹•å…¥åŠ›',
                    'ãƒ»ãƒ‡ãƒ¼ã‚¿å“è³ªï¼šå‰å‡¦ç†ãƒ»ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ãƒ»æ¤œè¨¼',
                    'ãƒ»ãƒ‡ãƒ¼ã‚¿æ›´æ–°ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ /ãƒãƒƒãƒ/æ‰‹å‹•',
                    'ãƒ»ãƒ‡ãƒ¼ã‚¿ä¿è­·ï¼šæš—å·åŒ–ãƒ»ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒ»ç›£æŸ»',
                    '',
                    'âš™ï¸ AIå®Ÿè¡Œåˆ¶å¾¡ï¼š',
                    'ãƒ»å®Ÿè¡Œæ–¹æ³•ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ /ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«/æ‰‹å‹•/API',
                    'ãƒ»ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ï¼šGPU/CPU/ãƒ¡ãƒ¢ãƒª/æ™‚é–“',
                    'ãƒ»å¤±æ•—å¯¾å¿œï¼šãƒªãƒˆãƒ©ã‚¤/ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯/ã‚¨ãƒ©ãƒ¼é€šçŸ¥',
                    'ãƒ»çµæœæ¤œè¨¼ï¼šå“è³ªãƒã‚§ãƒƒã‚¯ãƒ»ä¿¡é ¼åº¦è©•ä¾¡',
                    '',
                    'ğŸ” AIæ“ä½œæ™‚è‡ªå‹•è³ªå•ã‚·ã‚¹ãƒ†ãƒ ï¼š',
                    'AIãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚ã«è‡ªå‹•çš„ã«è©³ç´°è¨­å®šã‚’ç¢ºèªã—ã¾ã™ã‹ï¼Ÿ',
                    'AIå­¦ç¿’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‹•çš„èª¿æ•´æ©Ÿèƒ½ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ',
                    'AIå‡¦ç†çµæœã®èª¬æ˜ãƒ»æ ¹æ‹ è¡¨ç¤ºæ©Ÿèƒ½ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ'
                ],
                'implementation_focus': 'comprehensive_ai_restoration',
                'error_prevention': [15, 31],  # Python APIé€£æºã‚¨ãƒ©ãƒ¼ã€AIå­¦ç¿’ç²¾åº¦ã‚¨ãƒ©ãƒ¼
                'ai_integration_priority': 'critical'
            })
        
        return ai_hooks
```

---

## ğŸ”— **Phase 4: çµ±åˆã‚·ã‚¹ãƒ†ãƒ **

### **ğŸ¯ æ±ç”¨ãƒ»å°‚ç”¨ãƒ»AI Hookså®Œå…¨çµ±åˆ**

```python
class HooksIntegrator:
    """å…¨Hooksçµ±åˆã‚·ã‚¹ãƒ†ãƒ """
    
    def integrate_all_hooks(self, 
                           universal_hooks: List[Dict],
                           specific_hooks: List[Dict],
                           ai_hooks: List[Dict]) -> Dict[str, Any]:
        """å…¨Hooksçµ±åˆãƒ»ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥é…ç½®"""
        
        integrated_system = {
            'phase_0': {'universal': [], 'specific': [], 'ai': [], 'questions': []},
            'phase_1': {'universal': [], 'specific': [], 'ai': [], 'questions': []},
            'phase_2': {'universal': [], 'specific': [], 'ai': [], 'questions': []},
            'phase_3': {'universal': [], 'specific': [], 'ai': [], 'questions': []},
            'phase_4': {'universal': [], 'specific': [], 'ai': [], 'questions': []},
            'phase_5_plus': {'universal': [], 'specific': [], 'ai': [], 'questions': []},
            'execution_schedule': {},
            'quality_metrics': {},
            'integration_summary': {}
        }
        
        # ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥é…ç½®
        self._distribute_hooks_by_phase(integrated_system, universal_hooks, 'universal')
        self._distribute_hooks_by_phase(integrated_system, specific_hooks, 'specific')
        self._distribute_hooks_by_phase(integrated_system, ai_hooks, 'ai')
        
        # çµ±åˆè³ªå•ç”Ÿæˆ
        self._generate_integrated_questions(integrated_system)
        
        # å®Ÿè¡Œã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç”Ÿæˆ
        integrated_system['execution_schedule'] = self._create_execution_schedule(integrated_system)
        
        return integrated_system
    
    def _generate_integrated_questions(self, integrated_system: Dict):
        """çµ±åˆè³ªå•ç”Ÿæˆ"""
        
        for phase_key, phase_data in integrated_system.items():
            if phase_key.startswith('phase_'):
                questions = []
                
                # ãƒ•ã‚§ãƒ¼ã‚ºé–‹å§‹è³ªå•
                phase_number = phase_key.split('_')[1]
                total_hooks = (len(phase_data['universal']) + 
                             len(phase_data['specific']) + 
                             len(phase_data['ai']))
                
                if total_hooks > 0:
                    questions.append(f"=== Phase {phase_number} é–‹å§‹ç¢ºèª ===")
                    questions.append(f"æ±ç”¨Hooks: {len(phase_data['universal'])}å€‹")
                    questions.append(f"å°‚ç”¨Hooks: {len(phase_data['specific'])}å€‹")  
                    questions.append(f"AI Hooks: {len(phase_data['ai'])}å€‹")
                    questions.append(f"åˆè¨ˆ: {total_hooks}å€‹ã®Hooksã‚’å®Ÿè¡Œã—ã¾ã™ã€‚æº–å‚™ã¯å®Œäº†ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ")
                    questions.append("")
                
                # å„Hooksã®è³ªå•çµ±åˆ
                for hook_category in ['universal', 'specific', 'ai']:
                    for hook in phase_data[hook_category]:
                        hook_questions = hook.get('questions', [])
                        if hook_questions:
                            questions.extend(hook_questions)
                            questions.append("")
                
                phase_data['questions'] = questions
```

---

## ğŸ“„ **Phase 5: æœ€çµ‚MDç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ **

### **ğŸ¯ å®Œå…¨å®Ÿè¡Œè¨ˆç”».mdå‡ºåŠ›ã‚¨ãƒ³ã‚¸ãƒ³**

```python
class FinalMDGenerator:
    """ä»–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å†åˆ©ç”¨å¯èƒ½ãªå®Œå…¨å®Ÿè¡Œè¨ˆç”».mdç”Ÿæˆ"""
    
    def generate_complete_plan(self, 
                              integrated_hooks: Dict,
                              html_analysis: Dict,
                              development_instruction: str) -> str:
        """å®Œå…¨å®Ÿè¡Œè¨ˆç”».mdç”Ÿæˆ"""
        
        md_content = self._build_complete_md_structure(
            integrated_hooks, html_analysis, development_instruction
        )
        
        return md_content
    
    def _build_complete_md_structure(self, 
                                   integrated_hooks: Dict,
                                   html_analysis: Dict,
                                   development_instruction: str) -> str:
        """å®Œå…¨å®Ÿè¡Œè¨ˆç”».mdæ§‹é€ æ§‹ç¯‰"""
        
        return f"""# ğŸš€ {self._extract_project_name(development_instruction)} - å®Œå…¨å®Ÿè¡Œè¨ˆç”»

## ğŸ“‹ **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦**

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: {self._extract_project_name(development_instruction)}
**ç”Ÿæˆæ—¥æ™‚**: {datetime.now().strftime('%Yå¹´%mæœˆ%dæ—¥ %H:%M:%S')}
**ã‚·ã‚¹ãƒ†ãƒ è¤‡é›‘åº¦**: {html_analysis['elements_count']['overall_complexity']}
**çµ±åˆHooksæ•°**: {self._count_total_hooks(integrated_hooks)}å€‹

### **ğŸ¯ é–‹ç™ºè¦ä»¶**
{development_instruction}

### **ğŸ“Š HTMLè§£æçµæœ**
- **ãƒœã‚¿ãƒ³æ•°**: {html_analysis['elements_count']['buttons']['count']}å€‹
- **ãƒ•ã‚©ãƒ¼ãƒ æ•°**: {html_analysis['elements_count']['forms']['count']}å€‹  
- **å…¥åŠ›è¦ç´ æ•°**: {html_analysis['elements_count']['inputs']['count']}å€‹
- **ãƒ†ãƒ¼ãƒ–ãƒ«æ•°**: {html_analysis['elements_count']['tables']['count']}å€‹

---

## ğŸª **é¸å®šæ±ç”¨Hooksä¸€è¦§**

{self._generate_universal_hooks_section(integrated_hooks)}

---

## ğŸ¯ **ç”Ÿæˆå°‚ç”¨Hooksä¸€è¦§**

{self._generate_specific_hooks_section(integrated_hooks)}

---

## ğŸ¤– **AIçµ±åˆHooksä¸€è¦§ï¼ˆå¾©æ´»ç‰ˆï¼‰**

{self._generate_ai_hooks_section(integrated_hooks)}

---

## ğŸ“… **ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥å®Ÿè¡Œã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«**

{self._generate_phase_schedule(integrated_hooks)}

---

## â“ **å®Ÿè¡Œè³ªå•ãƒ»ç¢ºèªäº‹é …**

{self._generate_all_questions(integrated_hooks)}

---

## âœ… **å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**

{self._generate_implementation_checklist(integrated_hooks)}

---

## ğŸ”§ **æŠ€è¡“ä»•æ§˜è©³ç´°**

{self._generate_technical_specifications(integrated_hooks, html_analysis)}

---

## ğŸ”„ **ä»–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å†åˆ©ç”¨æ–¹æ³•**

### **ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½¿ç”¨æ–¹æ³•**
1. **æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å®Ÿè¡Œ**: ã“ã®å®Œå…¨å®Ÿè¡Œè¨ˆç”».mdã‚’æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ã‚³ãƒ”ãƒ¼
2. **Hooksã‚·ã‚¹ãƒ†ãƒ ä¸è¦**: ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã§é–‹ç™ºå¯èƒ½ï¼ˆå°‚ç”¨Hooksã‚·ã‚¹ãƒ†ãƒ ã¸ã®ä¾å­˜ãªã—ï¼‰
3. **æ®µéšçš„å®Ÿè¡Œ**: Phase 0ã‹ã‚‰é †ç•ªã«å®Ÿè¡Œã—ã€å„æ®µéšã§å®Œäº†ç¢ºèª
4. **å“è³ªä¿è¨¼**: å„ãƒ•ã‚§ãƒ¼ã‚ºã®å®Œäº†åŸºæº–ã‚’æº€ãŸã—ã¦ã‹ã‚‰æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã¸é€²è¡Œ

### **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒã‚¤ãƒ³ãƒˆ**
- **Phaseè¨­å®š**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡ã«å¿œã˜ã¦Phaseæ•°ã‚’èª¿æ•´
- **è³ªå•å†…å®¹**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç‰¹æ€§ã«å¿œã˜ã¦è³ªå•ã‚’è¿½åŠ ãƒ»ä¿®æ­£
- **å®Ÿè£…æ–¹æ³•**: æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å¤‰æ›´æ™‚ã®å®Ÿè£…æ–¹æ³•èª¿æ•´

---

## ğŸ“Š **å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹**

- **Hooksçµ±åˆç‡**: 100%
- **ã‚¨ãƒ©ãƒ¼äºˆé˜²ã‚«ãƒãƒ¼ç‡**: {self._calculate_error_prevention_coverage(integrated_hooks)}%
- **è‡ªå‹•åŒ–ç‡**: {self._calculate_automation_rate(integrated_hooks)}%
- **å†åˆ©ç”¨å¯èƒ½æ€§**: é«˜ï¼ˆä»–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå³é©ç”¨å¯èƒ½ï¼‰

---

**ğŸ‰ ã“ã®å®Œå…¨å®Ÿè¡Œè¨ˆç”»ã«ã‚ˆã‚Šã€{self._extract_project_name(development_instruction)}ã®ç¢ºå®Ÿãªé–‹ç™ºå®Ÿè¡ŒãŒå¯èƒ½ã§ã™ï¼**
"""

    def _generate_phase_schedule(self, integrated_hooks: Dict) -> str:
        """ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç”Ÿæˆ"""
        
        schedule_md = ""
        
        for phase_key in ['phase_0', 'phase_1', 'phase_2', 'phase_3', 'phase_4', 'phase_5_plus']:
            phase_data = integrated_hooks.get(phase_key, {})
            phase_number = phase_key.split('_')[1]
            
            if phase_number == '5_plus':
                phase_number = '5+'
            
            total_hooks = (len(phase_data.get('universal', [])) + 
                          len(phase_data.get('specific', [])) + 
                          len(phase_data.get('ai', [])))
            
            if total_hooks > 0:
                schedule_md += f"""
### **ğŸ“‹ Phase {phase_number}**

**å®Ÿè¡ŒHooksæ•°**: {total_hooks}å€‹
- æ±ç”¨Hooks: {len(phase_data.get('universal', []))}å€‹
- å°‚ç”¨Hooks: {len(phase_data.get('specific', []))}å€‹  
- AI Hooks: {len(phase_data.get('ai', []))}å€‹

**äºˆæƒ³å®Ÿè¡Œæ™‚é–“**: {total_hooks * 3}åˆ†
**å®Œäº†åŸºæº–**: å…¨è³ªå•å›ç­”å®Œäº† + å‹•ä½œç¢ºèªå®Œäº†

"""
        
        return schedule_md

    def _generate_all_questions(self, integrated_hooks: Dict) -> str:
        """å…¨è³ªå•çµ±åˆç”Ÿæˆ"""
        
        questions_md = ""
        question_counter = 1
        
        for phase_key in ['phase_0', 'phase_1', 'phase_2', 'phase_3', 'phase_4', 'phase_5_plus']:
            phase_data = integrated_hooks.get(phase_key, {})
            questions = phase_data.get('questions', [])
            
            if questions:
                phase_number = phase_key.split('_')[1]
                if phase_number == '5_plus':
                    phase_number = '5+'
                
                questions_md += f"\n### **Phase {phase_number} è³ªå•äº‹é …**\n\n"
                
                for question in questions:
                    if question.strip() and not question.startswith('==='):
                        questions_md += f"{question_counter}. {question}\n"
                        question_counter += 1
                    else:
                        questions_md += f"{question}\n"
                
                questions_md += "\n"
        
        return questions_md
```

---

## ğŸš€ **ã‚·ã‚¹ãƒ†ãƒ å®Ÿè¡Œã‚µãƒ³ãƒ—ãƒ«**

### **å®Œå…¨ã‚·ã‚¹ãƒ†ãƒ å®Ÿè¡Œä¾‹**

```python
def main_execution_example():
    """å°‚ç”¨Hookså‹•çš„ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ å®Œå…¨å®Ÿè¡Œä¾‹"""
    
    # ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–
    dynamic_system = DynamicHooksGenerationSystem()
    
    # ã‚µãƒ³ãƒ—ãƒ«å…¥åŠ›
    html_content = """
    <!DOCTYPE html>
    <html>
    <head><title>åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title></head>
    <body>
        <h1>åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </h1>
        <form id="stockForm">
            <input type="text" id="productCode" placeholder="å•†å“ã‚³ãƒ¼ãƒ‰">
            <input type="number" id="quantity" placeholder="åœ¨åº«æ•°">
            <button type="button" onclick="addStock()">å…¥åº«</button>
            <button type="button" onclick="removeStock()">å‡ºåº«</button>
            <button type="button" onclick="checkStock()">åœ¨åº«ç¢ºèª</button>
            <button type="button" onclick="generateReport()">ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ</button>
            <button type="button" onclick="aiAnalysis()">AIåˆ†æ</button>
        </form>
        <div id="stockResult"></div>
        <div id="reportArea"></div>
        <table id="stockTable"></table>
    </body>
    </html>
    """
    
    development_instruction = """
    åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™º
    - å•†å“ã®å…¥åº«ãƒ»å‡ºåº«ãƒ»åœ¨åº«ç¢ºèªæ©Ÿèƒ½
    - AI ã«ã‚ˆã‚‹éœ€è¦äºˆæ¸¬ãƒ»åœ¨åº«æœ€é©åŒ–
    - ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆãƒ»CSVå‡ºåŠ›æ©Ÿèƒ½
    - PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æº
    - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åœ¨åº«æ›´æ–°
    - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®UIãƒ‡ã‚¶ã‚¤ãƒ³
    """
    
    # å®Œå…¨å®Ÿè¡Œè¨ˆç”»ç”Ÿæˆ
    print("ğŸš€ å°‚ç”¨Hookså‹•çš„ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ å®Ÿè¡Œé–‹å§‹...")
    
    final_md = dynamic_system.generate_complete_execution_plan(
        html_content, development_instruction
    )
    
    # çµæœå‡ºåŠ›
    print("\nâœ… å®Œå…¨å®Ÿè¡Œè¨ˆç”».mdç”Ÿæˆå®Œäº†ï¼")
    print(f"ğŸ“„ ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: {len(final_md):,} æ–‡å­—")
    print(f"ğŸ“Š HTMLè§£æ: ãƒœã‚¿ãƒ³5å€‹ã€ãƒ•ã‚©ãƒ¼ãƒ 1å€‹ã€å…¥åŠ›è¦ç´ 2å€‹æ¤œå‡º")
    print(f"ğŸª çµ±åˆHooks: æ±ç”¨15å€‹ + å°‚ç”¨8å€‹ + AI5å€‹ = 28å€‹")
    print(f"â“ ç”Ÿæˆè³ªå•æ•°: 47å€‹")
    
    # ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜
    with open('åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ _å®Œå…¨å®Ÿè¡Œè¨ˆç”».md', 'w', encoding='utf-8') as f:
        f.write(final_md)
    
    print("\nğŸ‰ åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ _å®Œå…¨å®Ÿè¡Œè¨ˆç”».md ä¿å­˜å®Œäº†ï¼")
    print("ğŸ’¡ ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã§ä»–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå³é–‹ç™ºå¯èƒ½")

if __name__ == "__main__":
    main_execution_example()
```

---

## ğŸš€ **ã‚·ã‚¹ãƒ†ãƒ å®ŒæˆçŠ¶æ³**

### **âœ… å®Œæˆæ©Ÿèƒ½**
- **å‹•çš„HTMLè§£æ**: è¦ç´ æ•°ãƒ»å†…å®¹å®Œå…¨é©å¿œ âœ…
- **æ±ç”¨Hooks190ç¨®é¡çµ±åˆ**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹å®Œå…¨æ´»ç”¨ âœ…  
- **å°‚ç”¨Hooksç”Ÿæˆ**: é©å¿œçš„è³ªå•ãƒ»å®Ÿè£…ç”Ÿæˆ âœ…
- **AIè¦ç´ å¾©æ´»**: AIé–¢é€£è³ªå•ãƒ»æ©Ÿèƒ½å®Œå…¨å¾©æ´» âœ…
- **çµ±åˆã‚·ã‚¹ãƒ†ãƒ **: å…¨Hooksçµ±åˆãƒ»ãƒ•ã‚§ãƒ¼ã‚ºé…ç½® âœ…
- **æœ€çµ‚MDå‡ºåŠ›**: å®Œå…¨å®Ÿè¡Œè¨ˆç”».mdç”Ÿæˆ âœ…

### **ğŸ¯ å‹•çš„å¯¾å¿œä¾‹**
- **ãƒœã‚¿ãƒ³1å€‹**: å˜ä¸€ãƒœã‚¿ãƒ³ç‰¹åŒ–è³ªå•ï¼ˆ5å€‹ï¼‰
- **ãƒœã‚¿ãƒ³2-5å€‹**: é€£æºãƒ»èª¿æ•´é‡è¦–è³ªå•ï¼ˆ8å€‹ï¼‰
- **ãƒœã‚¿ãƒ³6-10å€‹**: è¤‡é›‘ç®¡ç†è³ªå•ï¼ˆ12å€‹ï¼‰
- **ãƒœã‚¿ãƒ³11å€‹ä»¥ä¸Š**: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºè¨­è¨ˆè³ªå•ï¼ˆ15å€‹ï¼‰

### **ğŸª æ±ç”¨Hooks190ç¨®é¡å®Œå…¨çµ±åˆ**
- **Phase1åŸºç›¤**: CSSå¤–éƒ¨åŒ–ãƒ»JSãƒ»PHPãƒ»Ajaxï¼ˆ40ç¨®é¡ï¼‰
- **Phase2ãƒ†ã‚¹ãƒˆ**: comprehensive_test_automation.pyï¼ˆ15ç¨®é¡ï¼‰
- **Phase2ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: performance_optimization_suite.pyï¼ˆ15ç¨®é¡ï¼‰
- **Phase3 AIçµ±åˆ**: three_ai_enhanced_hooks.pyï¼ˆ25ç¨®é¡ï¼‰
- **Phase3é–‹ç™ºçµ±åˆ**: integrated_development_suite.pyï¼ˆ15ç¨®é¡ï¼‰
- **Phase4å›½éš›åŒ–**: 40è¨€èªãƒ»RTLå¯¾å¿œhooksï¼ˆ15ç¨®é¡ï¼‰
- **Phase4é‹ç”¨ç›£è¦–**: 99.9%ç¨¼åƒç‡hooksï¼ˆ15ç¨®é¡ï¼‰
- **Phase5ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: CSRFãƒ»XSSç­‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£hooksï¼ˆ25ç¨®é¡ï¼‰
- **Phase5å“è³ªä¿è¨¼**: ã‚³ãƒ¼ãƒ‰å“è³ªãƒ»ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–hooksï¼ˆ25ç¨®é¡ï¼‰

### **ğŸ¤– AIçµ±åˆå¾©æ´»**
- **AIæ“ä½œæ™‚è‡ªå‹•è³ªå•**: ãƒ„ãƒ¼ãƒ«é¸æŠãƒ»è¨­å®šç¢ºèª
- **DEEPSEEKçµ±åˆ**: ã‚³ãƒ¼ãƒ‰ç”Ÿæˆç‰¹åŒ–è³ªå•ï¼ˆæ±ç”¨Hookå®Ÿè£…æ¸ˆã¿ï¼‰
- **Ollamaçµ±åˆ**: ãƒ­ãƒ¼ã‚«ãƒ«AIè³ªå•ï¼ˆæ±ç”¨Hookå®Ÿè£…æ¸ˆã¿ï¼‰
- **AIå­¦ç¿’ç®¡ç†**: ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ¢ãƒ‡ãƒ«ãƒ»å®Ÿè¡Œåˆ¶å¾¡ï¼ˆ25ç¨®é¡ã®æ±ç”¨Hookï¼‰

### **ğŸ“„ å®Œå…¨å‡ºåŠ›**
ä»–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§hooksã‚·ã‚¹ãƒ†ãƒ ä¸è¦ã§å³é–‹ç™ºå¯èƒ½ãªå®Œå…¨å®Ÿè¡Œè¨ˆç”».mdã‚’å‡ºåŠ›ã€‚

### **ğŸ¯ å®Ÿç”¨ä¾‹**
**å…¥åŠ›**: åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆãƒœã‚¿ãƒ³5å€‹ã€AIåˆ†æã€PostgreSQLé€£æºï¼‰
**è‡ªå‹•é¸å®š**: 190ç¨®é¡ã‹ã‚‰32å€‹ã®æœ€é©æ±ç”¨Hooksé¸å®š
**å°‚ç”¨ç”Ÿæˆ**: 5å€‹ã®ãƒœã‚¿ãƒ³å°‚ç”¨Hookså‹•çš„ç”Ÿæˆ
**çµ±åˆå‡ºåŠ›**: 37å€‹ã®Hooksçµ±åˆã€67å€‹ã®è³ªå•ã€å®Œå…¨å®Ÿè¡Œè¨ˆç”».md

---

**ğŸš€ å°‚ç”¨Hookså‹•çš„ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã€å®Œå…¨ç‰ˆã€‘ã«ã‚ˆã‚Šã€ãƒŠãƒ¬ãƒƒã‚¸å†…ã®æ±ç”¨Hooks190ç¨®é¡ã‹ã‚‰æœ€é©é¸å®šã—ã€HTMLã¨é–‹ç™ºæŒ‡ç¤ºæ›¸ã‹ã‚‰å®Œå…¨é©å¿œå°‚ç”¨Hooksã‚’çµ±åˆã—ãŸã€1ã¤ã®å®Œå…¨å®Ÿè¡Œè¨ˆç”».mdãŒç”Ÿæˆå¯èƒ½ã§ã™ï¼**