総合開発計画書 v3.0
1. プロジェクト概要
この計画書は、以下の3つの主要機能を段階的に実装するためのロードマップです。

フェーズ1: Amazon PA-API連携とeBayセルミラー分析

フェーズ2: eBayカテゴリー自動判定と出品スコアリング

フェーズ3: 画像処理システムの構築（将来開発予定）

2. フェーズ3: 画像処理システムの構築（将来開発予定）
このフェーズは、以下の要件を満たすことを目標とします。

目的: 著作権問題のリスクを最小限に抑えつつ、出品画像生成を自動化する。

技術: ローカルAIモデル（Stable Diffusionなど）を活用し、APIコストをかけずに画像処理を行う。

連携: フェーズ1で取得したAmazonの公式画像、またはセルミラーで取得した画像を加工する。

2.1 開発タスク
タスク名	詳細	優先度
ローカルAI環境構築	高性能GPUを搭載したサーバーに、Stable DiffusionとそのWebUI（AUTOMATIC1111など）をセットアップする。	🔴最高
API連携モジュール	PHPからPythonで稼働しているローカルAIにAPIリクエストを送信するモジュールを開発。	🔴最高
画像加工ロジック	新品用：Amazon画像に「スタジオ撮影風」の加工（影付け、背景除去）を施すロジックを実装。 中古品用：セルミラー画像を「白抜き加工」するロジックを実装。	🟡高
画像生成ロジック	Amazonやセルミラーで適切な画像が見つからない場合、商品情報からAIに新規画像を生成させるロジックを実装。	🟠中

Google スプレッドシートにエクスポート
2.2 ワークフロー
出品準備中の商品に対し、まずAmazon公式画像の存在をチェックする。

公式画像が存在すれば、それをローカルAIに送り、「新品用加工」を施す。

公式画像が存在しない場合は、セルミラー画像をチェックする。

セルミラー画像があれば、それをローカルAIに送り、「中古品用加工」を施す。

どちらの画像も見つからない場合は、商品名と型番をプロンプトとしてAIに送り、新規画像を生成させる。

3. フェーズ1 & 2: 開発計画書（再掲）
3.1 フェーズ1: Amazon & セルミラー分析
目的: eBay Finding APIとAmazon PA-APIを連携させ、出品商品の売上可能性を自動分析する。

機能:

Amazon PA-APIから商品データを取得し、データベースに保存。

eBay Finding APIで、Amazon商品の**sold listings（落札済みリスト）**を分析。

販売数、平均価格、最安値、利益予測、信頼度スコアを算出。

3.2 フェーズ2: カテゴリー自動判定 & 出品スコアリング
目的: 取得した分析データを基に、出品の優先度を決定する。

機能:

eBay Trading APIでカテゴリーIDごとの必須項目をキャッシュする。

セルミラーの信頼度、利益率、鮮度など複数の要素で出品スコアを計算する。

スコアに基づき、出品の順番とランク（S, A, Bなど）を決定する。

このロードマップに沿って開発を進めることで、将来の画像処理システムの統合を見据えつつ、現在のコア機能である出品分析とスコアリングを堅実に構築できます。