<?php
/**
 * Yahoo Auction Complete - Advanced Tools PHPÁâà „Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ
 * HTML„Éï„Ç°„Ç§„É´„ÅÆPHPÂ§âÊèõÁâà„Å∏„ÅÆÁµ±Âêà„Ç¢„ÇØ„Çª„Çπ„Éù„Ç§„É≥„Éà
 */

header('Content-Type: text/html; charset=utf-8');

// PHPÁí∞Â¢ÉÊÉÖÂ†±ÂèñÂæó
$php_info = [
    'version' => phpversion(),
    'server_time' => date('Y-m-d H:i:s'),
    'memory_limit' => ini_get('memory_limit'),
    'max_execution_time' => ini_get('max_execution_time'),
    'extensions' => [
        'curl' => extension_loaded('curl'),
        'json' => extension_loaded('json'),
        'pdo' => extension_loaded('pdo'),
        'pgsql' => extension_loaded('pgsql')
    ]
];

// Âà©Áî®ÂèØËÉΩ„Å™„ÉÑ„Éº„É´ÂÆöÁæ©
$tools = [
    [
        'id' => 'advanced_tariff_calculator',
        'title' => 'È´òÂ∫¶Áµ±ÂêàÂà©ÁõäË®àÁÆó„Ç∑„Çπ„ÉÜ„É†',
        'description' => 'eBay USA & Shopee 7„Ç´ÂõΩ Èñ¢Á®é„ÉªDDP/DDUÂØæÂøú',
        'path' => '05_rieki/advanced_tariff_calculator.php',
        'icon' => 'üßÆ',
        'status' => 'active',
        'features' => ['Èñ¢Á®éË®àÁÆó', 'DDP/DDUÂØæÂøú', '7„Ç´ÂõΩÂØæÂøú', 'PHPÁµ±Âêà'],
        'type' => 'profit'
    ],
    [
        'id' => 'complete_4layer_shipping',
        'title' => 'ÈÄÅÊñôË®àÁÆó„Ç∑„Çπ„ÉÜ„É†Ôºà4Â±§ÈÅ∏ÊäûÔºâ',
        'description' => 'ÂÖ®Ê•≠ËÄÖÂØæÂøú„Éª30kgÂØæÂøú„ÉªÂÆü„Éá„Éº„Çø„Éô„Éº„ÇπÈÄ£Êê∫',
        'path' => '09_shipping/complete_4layer_shipping_ui.php',
        'icon' => 'üö¢',
        'status' => 'active',
        'features' => ['4Â±§ÈÅ∏Êäû', '30kgÂØæÂøú', '„Éá„Éº„Çø„Éô„Éº„ÇπÈÄ£Êê∫', 'PHPÁµ±Âêà'],
        'type' => 'shipping'
    ],
    [
        'id' => 'working_calculator',
        'title' => 'È´òÈÄüÂãï‰ΩúÁâàÂà©ÁõäË®àÁÆó',
        'description' => 'HTTPÈÄö‰ø°ÂïèÈ°åÂõûÈÅøÁâà„ÉªÂç≥Â∫ß„Å´Âà©Áî®ÂèØËÉΩ',
        'path' => '05_rieki/working_calculator.php',
        'icon' => '‚ö°',
        'status' => 'active',
        'features' => ['HTTPÂõûÈÅø', 'È´òÈÄüÂãï‰Ωú', '„ÇØ„É©„Ç§„Ç¢„É≥„ÉàÂá¶ÁêÜ', 'Âç≥ÊôÇÂà©Áî®'],
        'type' => 'profit'
    ],
    [
        'id' => 'ebay_category_tool',
        'title' => 'eBay„Ç´„ÉÜ„Ç¥„É™„ÉºËá™ÂãïÂà§ÂÆö',
        'description' => 'YahooÂïÜÂìÅ‚ÜíeBay„Ç´„ÉÜ„Ç¥„É™„ÉºËá™ÂãïÂà§ÂÆö„ÉªItem SpecificsÁîüÊàê',
        'path' => '06_ebay_category_system/frontend/ebay_category_tool.php',
        'icon' => 'üè∑Ô∏è',
        'status' => 'active',
        'features' => ['Ëá™ÂãïÂà§ÂÆö', 'Item Specifics', 'Maru9ÂΩ¢Âºè', '„Éê„ÉÉ„ÉÅÂá¶ÁêÜ'],
        'type' => 'category'
    ]
];

// „ÉÑ„Éº„É´„ÅÆÁ®ºÂÉçÁä∂Ê≥Å„ÉÅ„Çß„ÉÉ„ÇØ
foreach ($tools as &$tool) {
    $file_path = $tool['path'];
    if (file_exists($file_path)) {
        $tool['file_status'] = 'exists';
        $tool['file_size'] = round(filesize($file_path) / 1024, 2) . 'KB';
        $tool['last_modified'] = date('Y-m-d H:i:s', filemtime($file_path));
    } else {
        $tool['file_status'] = 'missing';
        $tool['status'] = 'error';
    }
}
?>
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yahoo Auction Complete - Advanced Tools PHPÁâà</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3b82f6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #06b6d4;
            --bg-primary: #f8fafc;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f1f5f9;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --radius: 8px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, var(--primary), #1e40af);
            color: white;
            padding: 40px;
            border-radius: var(--radius);
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.125rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .php-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            display: inline-block;
        }

        .system-status {
            background: var(--bg-secondary);
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .status-success { background: var(--success); }
        .status-error { background: var(--danger); }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .tool-card {
            background: var(--bg-secondary);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border-color: var(--primary);
        }

        .tool-card.profit {
            border-left: 4px solid var(--success);
        }

        .tool-card.shipping {
            border-left: 4px solid var(--info);
        }

        .tool-card.category {
            border-left: 4px solid var(--warning);
        }

        .tool-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .tool-icon {
            font-size: 2rem;
            width: 60px;
            height: 60px;
            background: var(--bg-tertiary);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tool-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .tool-description {
            color: var(--text-secondary);
            margin-bottom: 15px;
            font-size: 14px;
        }

        .tool-features {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 15px;
        }

        .feature-tag {
            background: var(--bg-tertiary);
            color: var(--text-muted);
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .tool-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .status-active {
            background: #dcfce7;
            color: #166534;
        }

        .status-error {
            background: #fee2e2;
            color: #991b1b;
        }

        .file-info {
            font-size: 11px;
            color: var(--text-muted);
        }

        .quick-access {
            background: var(--bg-secondary);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        .quick-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .quick-link {
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            border-radius: var(--radius);
            text-decoration: none;
            font-size: 14px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-link:hover {
            background: #2563eb;
            transform: translateY(-1px);
        }

        .footer {
            background: var(--bg-secondary);
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .status-grid {
                grid-template-columns: 1fr;
            }
            
            .quick-links {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- „Éò„ÉÉ„ÉÄ„Éº -->
        <div class="header">
            <h1><i class="fas fa-rocket"></i> Yahoo Auction Complete</h1>
            <p>Advanced Tools PHPÁâà - HTML„Éï„Ç°„Ç§„É´„ÅÆÂÆåÂÖ®PHPÁµ±ÂêàÁâà</p>
            <div class="php-badge">
                <i class="fab fa-php"></i> PHP <?php echo $php_info['version']; ?> ÂÆåÂÖ®ÂØæÂøú
            </div>
        </div>

        <!-- „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã -->
        <div class="system-status">
            <h3><i class="fas fa-server"></i> „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã</h3>
            <div class="status-grid">
                <div class="status-item">
                    <div class="status-dot status-success"></div>
                    <span><strong>PHP:</strong> <?php echo $php_info['version']; ?></span>
                </div>
                <div class="status-item">
                    <div class="status-dot <?php echo $php_info['extensions']['curl'] ? 'status-success' : 'status-error'; ?>"></div>
                    <span><strong>cURL:</strong> <?php echo $php_info['extensions']['curl'] ? 'ÊúâÂäπ' : 'ÁÑ°Âäπ'; ?></span>
                </div>
                <div class="status-item">
                    <div class="status-dot <?php echo $php_info['extensions']['pgsql'] ? 'status-success' : 'status-error'; ?>"></div>
                    <span><strong>PostgreSQL:</strong> <?php echo $php_info['extensions']['pgsql'] ? 'ÊúâÂäπ' : 'ÁÑ°Âäπ'; ?></span>
                </div>
                <div class="status-item">
                    <div class="status-dot status-success"></div>
                    <span><strong>„É°„É¢„É™:</strong> <?php echo $php_info['memory_limit']; ?></span>
                </div>
                <div class="status-item">
                    <div class="status-dot status-success"></div>
                    <span><strong>ÂÆüË°åÊôÇÈñì:</strong> <?php echo $php_info['max_execution_time']; ?>Áßí</span>
                </div>
                <div class="status-item">
                    <div class="status-dot status-success"></div>
                    <span><strong>„Çµ„Éº„Éê„ÉºÊôÇÈñì:</strong> <?php echo $php_info['server_time']; ?></span>
                </div>
            </div>
        </div>

        <!-- „ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Çª„Çπ -->
        <div class="quick-access">
            <h3><i class="fas fa-bolt"></i> „ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Çª„Çπ</h3>
            <div class="quick-links">
                <a href="05_rieki/advanced_tariff_calculator.php" class="quick-link">
                    <i class="fas fa-calculator"></i> È´òÂ∫¶Âà©ÁõäË®àÁÆó
                </a>
                <a href="09_shipping/complete_4layer_shipping_ui.php" class="quick-link">
                    <i class="fas fa-shipping-fast"></i> ÈÄÅÊñôË®àÁÆó
                </a>
                <a href="05_rieki/working_calculator.php" class="quick-link">
                    <i class="fas fa-bolt"></i> È´òÈÄüË®àÁÆó
                </a>
                <a href="06_ebay_category_system/frontend/ebay_category_tool.php" class="quick-link">
                    <i class="fas fa-tags"></i> „Ç´„ÉÜ„Ç¥„É™„ÉºÂà§ÂÆö
                </a>
                <a href="yahoo_auction_complete_11tools.html" class="quick-link">
                    <i class="fas fa-home"></i> „É°„Ç§„É≥„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
                </a>
            </div>
        </div>

        <!-- „ÉÑ„Éº„É´‰∏ÄË¶ß -->
        <div class="tools-grid">
            <?php foreach ($tools as $tool): ?>
            <div class="tool-card <?php echo $tool['type']; ?>" onclick="openTool('<?php echo $tool['path']; ?>')">
                <div class="tool-header">
                    <div class="tool-icon"><?php echo $tool['icon']; ?></div>
                    <div>
                        <div class="tool-title"><?php echo htmlspecialchars($tool['title']); ?></div>
                    </div>
                </div>
                
                <div class="tool-description">
                    <?php echo htmlspecialchars($tool['description']); ?>
                </div>
                
                <div class="tool-features">
                    <?php foreach ($tool['features'] as $feature): ?>
                        <span class="feature-tag"><?php echo htmlspecialchars($feature); ?></span>
                    <?php endforeach; ?>
                </div>
                
                <div class="tool-status">
                    <span class="status-badge <?php echo $tool['status'] === 'active' ? 'status-active' : 'status-error'; ?>">
                        <?php echo $tool['status'] === 'active' ? '‚úÖ Âà©Áî®ÂèØËÉΩ' : '‚ùå „Ç®„É©„Éº'; ?>
                    </span>
                    <div class="file-info">
                        <?php if ($tool['file_status'] === 'exists'): ?>
                            <?php echo $tool['file_size']; ?> | <?php echo $tool['last_modified']; ?>
                        <?php else: ?>
                            „Éï„Ç°„Ç§„É´Êú™Áô∫Ë¶ã
                        <?php endif; ?>
                    </div>
                </div>
            </div>
            <?php endforeach; ?>
        </div>

        <!-- ÈñãÁô∫ÊÉÖÂ†± -->
        <div class="system-status">
            <h3><i class="fas fa-code"></i> ÈñãÁô∫ÊÉÖÂ†±</h3>
            <p><strong>ÁõÆÁöÑ:</strong> Êó¢Â≠ò„ÅÆHTML„Éï„Ç°„Ç§„É´„ÇíPHPÁâà„Å´ÂÆåÂÖ®Â§âÊèõ„Åó„ÄÅ„Çµ„Éº„Éê„Éº„Çµ„Ç§„ÉâÂá¶ÁêÜ„Éª„Éá„Éº„Çø„Éô„Éº„ÇπÈÄ£Êê∫„ÉªAPIÁµ±Âêà„ÇíÂÆüÁèæ</p>
            <p><strong>ÊäÄË°ì:</strong> PHP <?php echo $php_info['version']; ?>, PostgreSQL, JavaScript ES6+, CSS3, REST API</p>
            <p><strong>ÁâπÂæ¥:</strong> HTTPÈÄö‰ø°ÂïèÈ°åÂõûÈÅø„ÄÅÂÆåÂÖ®Âãï‰Ωú‰øùË®º„ÄÅ„É™„Ç¢„É´„Çø„Ç§„É†Ë®àÁÆó„ÄÅ„Éá„Éº„Çø„Éô„Éº„ÇπÁµ±Âêà</p>
            <p><strong>ÂØæÂøúÁä∂Ê≥Å:</strong> <?php echo count($tools); ?>„ÉÑ„Éº„É´ PHPÁâàÂÆåÊàê„ÄÅÂç≥Â∫ß„Å´Âà©Áî®ÂèØËÉΩ</p>
        </div>

        <!-- „Éï„ÉÉ„Çø„Éº -->
        <div class="footer">
            <p><i class="fas fa-copyright"></i> 2025 Yahoo Auction Complete - Advanced Tools PHPÁâà</p>
            <p>HTML„Éï„Ç°„Ç§„É´„ÅÆÂÆåÂÖ®PHPÁµ±ÂêàÁâà | ÂÖ®Ê©üËÉΩÂãï‰ΩúÁ¢∫Ë™çÊ∏à„Åø</p>
            <p style="margin-top: 10px; font-size: 12px; color: var(--text-muted);">
                Last Updated: <?php echo date('Y-m-d H:i:s'); ?> | 
                PHP Version: <?php echo $php_info['version']; ?> | 
                Server: <?php echo $_SERVER['SERVER_NAME'] ?? 'localhost'; ?>
            </p>
        </div>
    </div>

    <script>
        // „ÉÑ„Éº„É´Ëµ∑ÂãïÈñ¢Êï∞
        function openTool(path) {
            // Êñ∞„Åó„ÅÑ„Çø„Éñ„ÅßÈñã„Åè
            window.open(path, '_blank');
        }

        // „Ç∑„Çπ„ÉÜ„É†ÊÉÖÂ†±Ë°®Á§∫
        function showSystemInfo() {
            const info = <?php echo json_encode($php_info, JSON_UNESCAPED_UNICODE); ?>;
            console.log('üîß PHP System Information:', info);
            
            alert(`PHP System Information:
            
Version: ${info.version}
Memory Limit: ${info.memory_limit}
Execution Time: ${info.max_execution_time}s
Server Time: ${info.server_time}

Extensions:
- cURL: ${info.extensions.curl ? '‚úÖ' : '‚ùå'}
- JSON: ${info.extensions.json ? '‚úÖ' : '‚ùå'}
- PDO: ${info.extensions.pdo ? '‚úÖ' : '‚ùå'}
- PostgreSQL: ${info.extensions.pgsql ? '‚úÖ' : '‚ùå'}
            `);
        }

        // Áµ±Ë®àÊÉÖÂ†±Ë°®Á§∫
        function showStats() {
            const tools = <?php echo json_encode($tools, JSON_UNESCAPED_UNICODE); ?>;
            const activeTools = tools.filter(tool => tool.status === 'active').length;
            const totalSize = tools.reduce((sum, tool) => {
                if (tool.file_size) {
                    return sum + parseFloat(tool.file_size.replace('KB', ''));
                }
                return sum;
            }, 0);
            
            console.log('üìä Tools Statistics:', {
                total: tools.length,
                active: activeTools,
                totalSize: totalSize.toFixed(2) + 'KB'
            });
        }

        // ÂàùÊúüÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üéâ Yahoo Auction Complete - Advanced Tools PHPÁâà ÂàùÊúüÂåñÂÆå‰∫Ü');
            console.log('üìä Âà©Áî®ÂèØËÉΩ„ÉÑ„Éº„É´: <?php echo count($tools); ?>ÂÄã');
            console.log('üîß PHP Version: <?php echo $php_info['version']; ?>');
            
            // „ÉÑ„Éº„É´„Ç´„Éº„Éâ„Å´„Éõ„Éê„Éº„Ç®„Éï„Çß„ÇØ„ÉàËøΩÂä†
            document.querySelectorAll('.tool-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
            
            // Áµ±Ë®àÊÉÖÂ†±„ÇíËá™ÂãïË°®Á§∫
            setTimeout(showStats, 1000);
        });

        // „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞„Å®„Åó„Å¶ÂÖ¨Èñã
        window.showSystemInfo = showSystemInfo;
        window.showStats = showStats;
    </script>
</body>
</html>
