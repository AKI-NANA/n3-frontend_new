<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAGANO-3 使い方マニュアル - クイックスタートガイド</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; background: #f5f5f5; }
        .container { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: #2563eb; text-align: center; margin-bottom: 30px; }
        h2 { color: #059669; border-left: 5px solid #059669; padding-left: 15px; margin-top: 30px; }
        h3 { color: #dc2626; }
        .step { background: #f0f9ff; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 5px solid #2563eb; }
        .warning { background: #fef3c7; padding: 15px; border-radius: 8px; border-left: 5px solid #f59e0b; margin: 15px 0; }
        .success { background: #d1fae5; padding: 15px; border-radius: 8px; border-left: 5px solid #059669; margin: 15px 0; }
        .url-box { background: #1e293b; color: #f1f5f9; padding: 15px; border-radius: 5px; font-family: monospace; margin: 10px 0; word-break: break-all; }
        .btn { display: inline-block; background: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin: 5px; }
        .btn:hover { background: #1d4ed8; }
        .workflow-flow { background: #f8fafc; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .flow-step { display: inline-block; background: #3b82f6; color: white; padding: 8px 15px; border-radius: 20px; margin: 5px; }
        .manual-step { background: #dc2626; }
        .auto-step { background: #059669; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 NAGANO-3 システム使い方マニュアル</h1>
        
        <div class="warning">
            <h3>⚡ クイックスタート - 既存データを全ワークフローで処理する方法</h3>
            <p>現在システムに1つデータが入っているようですね！そのデータを最後まで処理しましょう。</p>
        </div>

        <h2>🌐 アクセス方法</h2>
        
        <div class="step">
            <h3>1. メインダッシュボードにアクセス</h3>
            <div class="url-box">http://localhost:8080/modules/yahoo_auction_complete/new_structure/00_workflow_engine/dashboard_v2_integrated.html</div>
            <p>👆 このURLをブラウザで開いてください（推奨：Chrome・Edge）</p>
        </div>

        <h2>🔄 既存データの処理手順</h2>

        <div class="workflow-flow">
            <h3>ワークフロー全体の流れ</h3>
            <div class="flow-step auto-step">1.スクレイピング</div>
            <div class="flow-step auto-step">2.フィルタリング</div>
            <div class="flow-step auto-step">3.送料計算</div>
            <div class="flow-step auto-step">4.カテゴリー判定</div>
            <div class="flow-step auto-step">5.HTML生成</div>
            <div class="flow-step manual-step">6.データ編集</div>
            <div class="flow-step manual-step">7.承認</div>
            <div class="flow-step auto-step">8.eBay出品</div>
            <div class="flow-step auto-step">9.在庫管理</div>
            <p><span style="color: #059669;">■自動</span> <span style="color: #dc2626;">■手動確認</span></p>
        </div>

        <div class="step">
            <h3>ステップ1: システム状態確認</h3>
            <ol>
                <li>ダッシュボードにアクセス</li>
                <li>左サイドバーで「リアルタイム接続中」を確認</li>
                <li>「ワークフロー監視」タブで現在の状況を確認</li>
                <li>「処理中ワークフロー」の数字をチェック</li>
            </ol>
        </div>

        <div class="step">
            <h3>ステップ2A: 自動処理を待つ（推奨）</h3>
            <p>システムが自動でステップ1-5を処理するのを待ちます：</p>
            <ol>
                <li>ダッシュボードで「アクティブワークフロー」パネルを監視</li>
                <li>ワークフローが「ステップ6/9 - 07_editing」に到達するまで待機</li>
                <li>通常5-10分程度で完了</li>
            </ol>
            <div class="success">✅ 自動処理完了後、手動作業に進んでください</div>
        </div>

        <div class="step">
            <h3>ステップ2B: 手動で承認フロー実行（即座に処理したい場合）</h3>
            <ol>
                <li>ダッシュボードの「手動実行」セクションを探す</li>
                <li>「商品ID」欄に商品IDを入力（例：1,2,3）</li>
                <li>「優先度」を「高優先度」に設定</li>
                <li>「承認フロー実行」ボタンをクリック</li>
            </ol>
        </div>

        <div class="step">
            <h3>ステップ3: 商品データ編集（手動作業）</h3>
            <div class="url-box">http://localhost:8080/modules/yahoo_auction_complete/new_structure/07_editing/editor_fixed_complete.php</div>
            <ol>
                <li>上記URLにアクセス</li>
                <li>自動生成された商品データを確認</li>
                <li>必要に応じてタイトル・価格・説明を修正</li>
                <li>「保存」ボタンをクリック</li>
            </ol>
        </div>

        <div class="step">
            <h3>ステップ4: 商品承認（手動作業）</h3>
            <div class="url-box">http://localhost:8080/modules/yahoo_auction_complete/new_structure/03_approval/index.php</div>
            <ol>
                <li>上記URLにアクセス（ログインが必要な場合は「開発用ログイン」をクリック）</li>
                <li>商品リストで編集済み商品を確認</li>
                <li>商品をクリックして詳細確認</li>
                <li>「承認」ボタンをクリック</li>
            </ol>
            <div class="success">✅ 承認完了後、自動でeBay出品・在庫管理まで進行します！</div>
        </div>

        <h2>📊 各システムの個別アクセス</h2>

        <div class="step">
            <h3>主要システム一覧</h3>
            <a href="http://localhost:8080/modules/yahoo_auction_complete/new_structure/05_rieki/advanced_tariff_calculator.php" class="btn" target="_blank">💰 利益計算システム</a>
            <a href="http://localhost:8080/modules/yahoo_auction_complete/new_structure/02_scraping/scraping.php" class="btn" target="_blank">🔍 スクレイピング</a>
            <a href="http://localhost:8080/modules/yahoo_auction_complete/new_structure/08_listing/index.php" class="btn" target="_blank">📤 出品システム</a>
            <a href="http://localhost:8080/modules/yahoo_auction_complete/new_structure/10_zaiko/inventory.php" class="btn" target="_blank">📦 在庫管理</a>
        </div>

        <h2>⚡ 緊急時の対処法</h2>

        <div class="warning">
            <h3>システムが動かない場合</h3>
            <ol>
                <li>ブラウザをリフレッシュ（F5キー）</li>
                <li>ダッシュボードの「再接続」ボタンをクリック</li>
                <li>別のブラウザで試す</li>
                <li>ワークフローエンジンの健康状態確認：
                    <div class="url-box">http://localhost:8080/modules/yahoo_auction_complete/new_structure/00_workflow_engine/integrated_workflow_engine_8080.php?action=health_check</div>
                </li>
            </ol>
        </div>

        <div class="warning">
            <h3>データが進まない場合</h3>
            <ol>
                <li>ダッシュボードで「失敗」数を確認</li>
                <li>「ワークフロー一覧」で該当データをクリック</li>
                <li>「再実行」ボタンをクリック</li>
                <li>エラー詳細を確認して修正</li>
            </ol>
        </div>

        <h2>🎯 利益計算システムの使い方</h2>

        <div class="step">
            <h3>3つの計算モード</h3>
            <ol>
                <li><strong>高精度シミュレーション</strong>：Yahoo価格から詳細利益計算</li>
                <li><strong>eBay USA</strong>：DDP/DDU対応、関税計算</li>
                <li><strong>Shopee 7カ国</strong>：アジア7カ国の利益計算</li>
            </ol>
        </div>

        <div class="success">
            <h3>🎉 全て完了後の確認</h3>
            <ol>
                <li>ダッシュボードで「出品完了」数が増加</li>
                <li>在庫管理システムに商品登録</li>
                <li>利益計算結果の確認</li>
                <li>eBayで実際に商品が出品されているか確認</li>
            </ol>
        </div>

        <div style="text-align: center; margin-top: 40px; padding: 20px; background: #f0f9ff; border-radius: 8px;">
            <h3>🚀 これで完了です！</h3>
            <p>Yahoo！オークション → eBay 自動転売システムの完全ワークフローが実行されました。</p>
            <p><strong>質問・問題があれば、ダッシュボードの統計情報とエラーログを確認してください。</strong></p>
        </div>
    </div>
</body>
</html>