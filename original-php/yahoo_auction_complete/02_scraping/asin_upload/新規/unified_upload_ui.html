<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂïÜÂìÅ„Éá„Éº„Çø„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ - „Éû„É´„ÉÅ„É¢„Éº„É´ÂØæÂøú</title>
    <style>
        /* NAGANO-3 CSSÂ§âÊï∞Ôºàcommon/css/core/common.cssÊ∫ñÊã†Ôºâ */
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --bg-hover: #e2e8f0;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            --border-color: #e2e8f0;
            --border-light: #f1f5f9;
            --color-primary: #3b82f6;
            --color-secondary: #6366f1;
            --color-success: #10b981;
            --color-warning: #f59e0b;
            --color-danger: #ef4444;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --radius-md: 0.375rem;
            --radius-lg: 0.5rem;
            --radius-xl: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --transition-fast: all 0.15s ease;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        /* üé® „Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÂ∞ÇÁî®CSSÔºàBEMÊ∫ñÊã†Ôºâ */
        .upload-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-6);
            background: var(--bg-primary);
            min-height: 100vh;
        }

        .upload__header {
            text-align: center;
            margin-bottom: var(--space-8);
            padding-bottom: var(--space-6);
            border-bottom: 1px solid var(--border-color);
        }

        .upload__title {
            font-size: var(--text-2xl);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .upload__subtitle {
            font-size: var(--text-base);
            color: var(--text-secondary);
        }

        /* === „É¢„Éº„É´ÈÅ∏Êäû„Çª„ÇØ„Ç∑„Éß„É≥ === */
        .upload__mall-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
        }

        .upload__mall-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .upload__mall-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
        }

        .upload__mall-card {
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            text-align: center;
            cursor: pointer;
            transition: var(--transition-fast);
            position: relative;
        }

        .upload__mall-card:hover {
            border-color: var(--color-primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .upload__mall-card--active {
            border-color: var(--color-primary);
            background: rgba(59, 130, 246, 0.05);
        }

        .upload__mall-icon {
            font-size: 2rem;
            margin-bottom: var(--space-2);
        }

        .upload__mall-name {
            font-size: var(--text-sm);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .upload__mall-status {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* === ÈÅ∏ÊäûÊ∏à„Åø„É¢„Éº„É´Ë°®Á§∫ === */
        .upload__selected-mall {
            background: var(--bg-secondary);
            border: 1px solid var(--color-primary);
            border-radius: var(--radius-md);
            padding: var(--space-3);
            margin-bottom: var(--space-6);
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .upload__selected-icon {
            color: var(--color-primary);
        }

        .upload__selected-text {
            font-size: var(--text-sm);
            color: var(--text-primary);
        }

        /* === ÂãïÁöÑ„Éï„Ç©„Éº„É† === */
        .upload__form-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
        }

        .upload__form-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-4);
        }

        .upload__input-group {
            margin-bottom: var(--space-4);
        }

        .upload__label {
            display: block;
            font-size: var(--text-sm);
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .upload__input {
            width: 100%;
            padding: var(--space-3);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            color: var(--text-primary);
            background: var(--bg-primary);
            transition: var(--transition-fast);
        }

        .upload__input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .upload__textarea {
            min-height: 120px;
            resize: vertical;
            font-family: 'Courier New', monospace;
        }

        /* === Êù°‰ª∂Ë°®Á§∫Ë¶ÅÁ¥† === */
        .upload__conditional {
            display: none;
            margin-top: var(--space-4);
            padding: var(--space-4);
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            border-left: 4px solid var(--color-primary);
        }

        .upload__conditional--active {
            display: block;
        }

        /* === „Éï„Ç°„Ç§„É´„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ === */
        .upload__file-zone {
            border: 2px dashed var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-8);
            text-align: center;
            cursor: pointer;
            transition: var(--transition-fast);
            background: var(--bg-primary);
            position: relative;
        }

        .upload__file-zone:hover,
        .upload__file-zone--dragover {
            border-color: var(--color-primary);
            background: rgba(59, 130, 246, 0.05);
        }

        .upload__file-icon {
            font-size: 3rem;
            color: var(--text-muted);
            margin-bottom: var(--space-4);
        }

        .upload__file-text {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .upload__file-subtext {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        .upload__file-input {
            position: absolute;
            width: 0.1px;
            height: 0.1px;
            opacity: 0;
            overflow: hidden;
            z-index: -1;
        }

        /* === CSV„Çµ„É≥„Éó„É´ === */
        .upload__sample {
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            margin-top: var(--space-4);
        }

        .upload__sample-title {
            font-size: var(--text-sm);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .upload__sample-code {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-3);
            font-family: 'Courier New', monospace;
            font-size: 0.75rem;
            color: var(--text-secondary);
            white-space: pre-line;
            overflow-x: auto;
        }

        /* === „Éú„Çø„É≥ === */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-6);
            border: 1px solid transparent;
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition-fast);
            user-select: none;
        }

        .btn--primary {
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }

        .btn--primary:hover {
            background: #2563eb;
            border-color: #2563eb;
        }

        .btn--secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-color: var(--border-color);
        }

        .btn--secondary:hover {
            background: var(--bg-hover);
        }

        .upload__actions {
            display: flex;
            gap: var(--space-3);
            justify-content: center;
            margin-top: var(--space-6);
        }

        /* === „É¨„Çπ„Éù„É≥„Ç∑„Éñ === */
        @media (max-width: 768px) {
            .upload-container {
                padding: var(--space-4);
            }

            .upload__mall-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: var(--space-3);
            }

            .upload__actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
<script>
// CAIDS error_handling Hook

// CAIDS „Ç®„É©„ÉºÂá¶ÁêÜHook - ÂÆåÂÖ®ÂÆüË£Ö
window.CAIDS_ERROR_HANDLER = {
    isActive: true,
    errorCount: 0,
    errorHistory: [],
    
    initialize: function() {
        this.setupGlobalErrorHandler();
        this.setupUnhandledPromiseRejection();
        this.setupNetworkErrorHandler();
        console.log('‚ö†Ô∏è CAIDS „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞„Ç∑„Çπ„ÉÜ„É†ÂÆåÂÖ®ÂàùÊúüÂåñ');
    },
    
    setupGlobalErrorHandler: function() {
        window.addEventListener('error', (event) => {
            this.handleError({
                type: 'JavaScript Error',
                message: event.message,
                filename: event.filename,
                lineno: event.lineno,
                colno: event.colno,
                stack: event.error?.stack
            });
        });
    },
    
    setupUnhandledPromiseRejection: function() {
        window.addEventListener('unhandledrejection', (event) => {
            this.handleError({
                type: 'Unhandled Promise Rejection',
                message: event.reason?.message || String(event.reason),
                stack: event.reason?.stack
            });
        });
    },
    
    setupNetworkErrorHandler: function() {
        const originalFetch = window.fetch;
        window.fetch = async function(...args) {
            try {
                const response = await originalFetch.apply(this, args);
                if (!response.ok) {
                    window.CAIDS_ERROR_HANDLER.handleError({
                        type: 'Network Error',
                        message: `HTTP ${response.status}: ${response.statusText}`,
                        url: args[0]
                    });
                }
                return response;
            } catch (error) {
                window.CAIDS_ERROR_HANDLER.handleError({
                    type: 'Network Fetch Error',
                    message: error.message,
                    url: args[0]
                });
                throw error;
            }
        };
    },
    
    handleError: function(errorInfo) {
        this.errorCount++;
        this.errorHistory.push({...errorInfo, timestamp: new Date().toISOString()});
        
        console.error('üö® CAIDS Error Handler:', errorInfo);
        this.showErrorNotification(errorInfo);
        this.reportError(errorInfo);
    },
    
    showErrorNotification: function(errorInfo) {
        const errorDiv = document.createElement('div');
        errorDiv.style.cssText = `
            position: fixed; top: 10px; right: 10px; z-index: 999999;
            background: linear-gradient(135deg, #ff4444, #cc0000);
            color: white; padding: 15px 20px; border-radius: 8px;
            max-width: 350px; box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            font-size: 13px; font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            border: 2px solid #ff6666; animation: caids-error-shake 0.5s ease-in-out;
        `;
        errorDiv.innerHTML = `
            <div style="display: flex; align-items: center; gap: 10px;">
                <span style="font-size: 18px;">üö®</span>
                <div>
                    <strong>„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü</strong><br>
                    <small style="opacity: 0.9;">${errorInfo.type}: ${errorInfo.message}</small>
                </div>
            </div>
        `;
        
        // CSS Animation
        if (!document.getElementById('caids-error-styles')) {
            const style = document.createElement('style');
            style.id = 'caids-error-styles';
            style.textContent = `
                @keyframes caids-error-shake {
                    0%, 100% { transform: translateX(0); }
                    25% { transform: translateX(-5px); }
                    75% { transform: translateX(5px); }
                }
            `;
            document.head.appendChild(style);
        }
        
        document.body.appendChild(errorDiv);
        setTimeout(() => errorDiv.remove(), 7000);
    },
    
    reportError: function(errorInfo) {
        // „Ç®„É©„Éº„É¨„Éù„Éº„ÉàÁîüÊàê„ÉªÈÄÅ‰ø°ÔºàÂ∞ÜÊù•„ÅÆÊã°ÂºµÁî®Ôºâ
        const report = {
            timestamp: new Date().toISOString(),
            userAgent: navigator.userAgent,
            url: window.location.href,
            errorCount: this.errorCount,
            sessionId: this.getSessionId(),
            ...errorInfo
        };
        
        console.log('üìã CAIDS Error Report:', report);
        localStorage.setItem('caids_last_error', JSON.stringify(report));
    },
    
    getSessionId: function() {
        let sessionId = sessionStorage.getItem('caids_session_id');
        if (!sessionId) {
            sessionId = 'caids_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            sessionStorage.setItem('caids_session_id', sessionId);
        }
        return sessionId;
    },
    
    getErrorStats: function() {
        return {
            totalErrors: this.errorCount,
            recentErrors: this.errorHistory.slice(-10),
            sessionId: this.getSessionId()
        };
    }
};

window.CAIDS_ERROR_HANDLER.initialize();

</script>
<script>
// CAIDS user_feedback Hook
// CAIDS user_feedback Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ user_feedback Hook loaded');
</script>
<script>
// CAIDS character_limit Hook
// CAIDS character_limit Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ character_limit Hook loaded');
</script>
<script>
// CAIDS natural_explanation Hook
// CAIDS natural_explanation Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ natural_explanation Hook loaded');
</script>
<script>
// CAIDS character_monitoring Hook
// CAIDS character_monitoring Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ character_monitoring Hook loaded');
</script>
<script>
// CAIDS emergency_accumulation Hook
// CAIDS emergency_accumulation Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ emergency_accumulation Hook loaded');
</script>
<script>
// CAIDS processing_capacity_monitoring Hook
// CAIDS processing_capacity_monitoring Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ processing_capacity_monitoring Hook loaded');
</script>
<script>
// CAIDS pre_analysis_enforcement Hook
// CAIDS pre_analysis_enforcement Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ pre_analysis_enforcement Hook loaded');
</script>
<script>
// CAIDS user_approval_required Hook
// CAIDS user_approval_required Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ user_approval_required Hook loaded');
</script>
<script>
// CAIDS timeout_management Hook
// CAIDS timeout_management Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ timeout_management Hook loaded');
</script>
<script>
// CAIDS development_control Hook
// CAIDS development_control Hook - Âü∫Êú¨ÂÆüË£Ö
console.log('‚úÖ development_control Hook loaded');
</script>
</head>
<body>
    <div class="upload-container">
        <!-- „Éò„ÉÉ„ÉÄ„Éº -->
        <div class="upload__header">
            <h1 class="upload__title">üì¶ ÂïÜÂìÅ„Éá„Éº„Çø„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ</h1>
            <p class="upload__subtitle">Amazon„ÉªÊ•ΩÂ§©„ÉªYahoo„ÉªeBayÁ≠â„ÅÆÂïÜÂìÅ„Éá„Éº„Çø„Çí‰∏ÄÊã¨ÂèñÂæó</p>
        </div>

        <!-- „É¢„Éº„É´ÈÅ∏Êäû„Çª„ÇØ„Ç∑„Éß„É≥ -->
        <div class="upload__mall-section">
            <h2 class="upload__mall-title">
                üè™ ÂØæË±°„É¢„Éº„É´„ÇíÈÅ∏Êäû
            </h2>
            <div class="upload__mall-grid">
                <div class="upload__mall-card upload__mall-card--active" data-mall="amazon" onclick="selectMall('amazon')">
                    <div class="upload__mall-icon">üì¶</div>
                    <div class="upload__mall-name">Amazon</div>
                    <div class="upload__mall-status">Êé®Â•®</div>
                </div>
                <div class="upload__mall-card" data-mall="rakuten" onclick="selectMall('rakuten')">
                    <div class="upload__mall-icon">üõçÔ∏è</div>
                    <div class="upload__mall-name">Ê•ΩÂ§©Â∏ÇÂ†¥</div>
                    <div class="upload__mall-status">ÂØæÂøú‰∏≠</div>
                </div>
                <div class="upload__mall-card" data-mall="yahoo" onclick="selectMall('yahoo')">
                    <div class="upload__mall-icon">üõí</div>
                    <div class="upload__mall-name">Yahoo!</div>
                    <div class="upload__mall-status">ÂØæÂøú‰∏≠</div>
                </div>
                <div class="upload__mall-card" data-mall="ebay" onclick="selectMall('ebay')">
                    <div class="upload__mall-icon">üåê</div>
                    <div class="upload__mall-name">eBay</div>
                    <div class="upload__mall-status">Êñ∞Ê©üËÉΩ</div>
                </div>
                <div class="upload__mall-card" data-mall="mercari" onclick="selectMall('mercari')">
                    <div class="upload__mall-icon">üì±</div>
                    <div class="upload__mall-name">„É°„É´„Ç´„É™</div>
                    <div class="upload__mall-status">„Éô„Éº„Çø</div>
                </div>
                <div class="upload__mall-card" data-mall="other" onclick="showComingSoon()">
                    <div class="upload__mall-icon">‚ûï</div>
                    <div class="upload__mall-name">„Åù„ÅÆ‰ªñ</div>
                    <div class="upload__mall-status">È†ÜÊ¨°ÂØæÂøú</div>
                </div>
            </div>
        </div>

        <!-- ÈÅ∏ÊäûÊ∏à„Åø„É¢„Éº„É´Ë°®Á§∫ -->
        <div class="upload__selected-mall">
            <span class="upload__selected-icon">‚úÖ</span>
            <span class="upload__selected-text">ÈÅ∏ÊäûÊ∏à„Åø: <strong id="selectedMallDisplay">Amazon</strong></span>
        </div>

        <!-- ÂãïÁöÑ„Éï„Ç©„Éº„É†„Çª„ÇØ„Ç∑„Éß„É≥ -->
        <div class="upload__form-section">
            <h2 class="upload__form-title">üìù „Éá„Éº„ÇøÂÖ•Âäõ</h2>
            
            <!-- ÂÄãÂà•ÂÖ•Âäõ -->
            <div class="upload__input-group">
                <label class="upload__label" id="idLabel">ASIN</label>
                <input 
                    type="text" 
                    id="idInput" 
                    class="upload__input" 
                    placeholder="‰æã: B08N5WRWNW"
                >
            </div>

            <!-- URLÂÖ•Âäõ -->
            <div class="upload__input-group">
                <label class="upload__label">ÂïÜÂìÅURLÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ</label>
                <input 
                    type="url" 
                    id="urlInput" 
                    class="upload__input" 
                    placeholder="https://amazon.co.jp/dp/B08N5WRWNW"
                >
            </div>

            <!-- ‰∏ÄÊã¨ÂÖ•Âäõ -->
            <div class="upload__input-group">
                <label class="upload__label" id="bulkLabel">ASIN„ÉªURL‰∏ÄÊã¨ÂÖ•Âäõ</label>
                <textarea 
                    id="bulkInput" 
                    class="upload__input upload__textarea" 
                    placeholder="B08N5WRWNW&#10;B09B8RRQT5&#10;https://amazon.co.jp/dp/B08N5WRWNW"
                ></textarea>
            </div>

            <!-- „É¢„Éº„É´Âõ∫ÊúâÊ©üËÉΩÔºàÊù°‰ª∂Ë°®Á§∫Ôºâ -->
            
            <!-- AmazonÂ∞ÇÁî®Ê©üËÉΩ -->
            <div class="upload__conditional upload__conditional--active" data-mall="amazon">
                <h3 style="font-size: var(--text-base); margin-bottom: var(--space-3);">üîß AmazonÂ∞ÇÁî®Ë®≠ÂÆö</h3>
                <div class="upload__input-group">
                    <label class="upload__label">ÂèñÂæó‰ª∂Êï∞Âà∂Èôê</label>
                    <select class="upload__input">
                        <option value="100">100‰ª∂</option>
                        <option value="500">500‰ª∂</option>
                        <option value="1000" selected>1000‰ª∂</option>
                        <option value="unlimited">Âà∂Èôê„Å™„Åó</option>
                    </select>
                </div>
                <div class="upload__input-group">
                    <label class="upload__label">
                        <input type="checkbox" checked> „É¨„Éì„É•„ÉºÊÉÖÂ†±„ÇíÂèñÂæó
                    </label>
                    <label class="upload__label">
                        <input type="checkbox" checked> ‰æ°Ê†ºÂ±•Ê≠¥„ÇíÂèñÂæó
                    </label>
                </div>
            </div>

            <!-- Ê•ΩÂ§©Â∞ÇÁî®Ê©üËÉΩ -->
            <div class="upload__conditional" data-mall="rakuten">
                <h3 style="font-size: var(--text-base); margin-bottom: var(--space-3);">üõçÔ∏è Ê•ΩÂ§©Â∏ÇÂ†¥Â∞ÇÁî®Ë®≠ÂÆö</h3>
                <div class="upload__input-group">
                    <label class="upload__label">„Ç∑„Éß„ÉÉ„ÉóÊÉÖÂ†±ÂèñÂæó</label>
                    <label class="upload__label">
                        <input type="checkbox" checked> „Ç∑„Éß„ÉÉ„ÉóË©ï‰æ°„ÇíÂèñÂæó
                    </label>
                    <label class="upload__label">
                        <input type="checkbox"> „Éù„Ç§„É≥„ÉàÊÉÖÂ†±„ÇíÂèñÂæó
                    </label>
                </div>
            </div>

            <!-- eBayÂ∞ÇÁî®Ê©üËÉΩ -->
            <div class="upload__conditional" data-mall="ebay">
                <h3 style="font-size: var(--text-base); margin-bottom: var(--space-3);">üåê eBayÂ∞ÇÁî®Ë®≠ÂÆö</h3>
                <div class="upload__input-group">
                    <label class="upload__label">ÂØæË±°Âú∞Âüü</label>
                    <select class="upload__input">
                        <option value="us">United States</option>
                        <option value="uk">United Kingdom</option>
                        <option value="de">Germany</option>
                        <option value="jp">Japan</option>
                    </select>
                </div>
                <div class="upload__input-group">
                    <label class="upload__label">
                        <input type="checkbox"> ÈÄÅÊñôÊÉÖÂ†±„ÇíÂèñÂæó
                    </label>
                    <label class="upload__label">
                        <input type="checkbox"> „Ç™„Éº„ÇØ„Ç∑„Éß„É≥ÂΩ¢Âºè„ÅÆ„Åø
                    </label>
                </div>
            </div>

            <!-- CSV„Éï„Ç°„Ç§„É´„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ -->
            <div class="upload__input-group">
                <label class="upload__label">üìÑ CSV„Éï„Ç°„Ç§„É´„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ</label>
                <div class="upload__file-zone" onclick="document.getElementById('csvFile').click()">
                    <div class="upload__file-icon">üìÑ</div>
                    <div class="upload__file-text">CSV„Éï„Ç°„Ç§„É´„Çí„Éâ„É≠„ÉÉ„Éó„Åæ„Åü„ÅØ„ÇØ„É™„ÉÉ„ÇØ</div>
                    <div class="upload__file-subtext">ÊúÄÂ§ß10MB„ÄÅ1000‰ª∂„Åæ„Åß</div>
                    <input type="file" id="csvFile" class="upload__file-input" accept=".csv,.xlsx" onchange="handleFileSelect(this)">
                </div>
                
                <!-- CSV„Çµ„É≥„Éó„É´Ë°®Á§∫ÔºàÂãïÁöÑÔºâ -->
                <div class="upload__sample">
                    <div class="upload__sample-title">üìù CSV„Çµ„É≥„Éó„É´ÂΩ¢Âºè</div>
                    <div class="upload__sample-code" id="csvSample">ASIN,URL,ÂïÜÂìÅÂêç,‰æ°Ê†º
B08N5WRWNW,https://amazon.co.jp/dp/B08N5WRWNW,Echo Dot,3980
B09B8RRQT5,https://amazon.co.jp/dp/B09B8RRQT5,Fire Stick,4980</div>
                </div>
            </div>
        </div>

        <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥ -->
        <div class="upload__actions">
            <button class="btn btn--secondary" onclick="clearForm()">
                üóëÔ∏è „ÇØ„É™„Ç¢
            </button>
            <button class="btn btn--primary" onclick="startUpload()" data-action="start-upload">
                üöÄ „Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÈñãÂßã
            </button>
        </div>
    </div>

    <script>
        // „É¢„Éº„É´Ë®≠ÂÆöÔºàË®≠ÂÆö„Éï„Ç°„Ç§„É´ÈßÜÂãïÔºâ
        const mallConfigs = {
            amazon: {
                name: 'Amazon',
                idLabel: 'ASIN',
                bulkLabel: 'ASIN„ÉªURL‰∏ÄÊã¨ÂÖ•Âäõ',
                placeholder: 'B08N5WRWNW',
                urlPattern: 'https://amazon.co.jp/dp/',
                csvFormat: ['ASIN', 'URL', 'ÂïÜÂìÅÂêç', '‰æ°Ê†º']
            },
            rakuten: {
                name: 'Ê•ΩÂ§©Â∏ÇÂ†¥',
                idLabel: 'ÂïÜÂìÅID',
                bulkLabel: 'ÂïÜÂìÅID„ÉªURL‰∏ÄÊã¨ÂÖ•Âäõ',
                placeholder: 'rakuten-item-123',
                urlPattern: 'https://item.rakuten.co.jp/',
                csvFormat: ['ÂïÜÂìÅID', 'URL', 'ÂïÜÂìÅÂêç', '‰æ°Ê†º', '„Ç´„ÉÜ„Ç¥„É™']
            },
            yahoo: {
                name: 'Yahoo!„Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞',
                idLabel: 'ÂïÜÂìÅ„Ç≥„Éº„Éâ',
                bulkLabel: 'ÂïÜÂìÅ„Ç≥„Éº„Éâ„ÉªURL‰∏ÄÊã¨ÂÖ•Âäõ',
                placeholder: 'yahoo-abc123',
                urlPattern: 'https://shopping.yahoo.co.jp/',
                csvFormat: ['ÂïÜÂìÅ„Ç≥„Éº„Éâ', 'URL', 'ÂïÜÂìÅÂêç', '‰æ°Ê†º']
            },
            ebay: {
                name: 'eBay',
                idLabel: 'Item ID',
                bulkLabel: 'Item ID„ÉªURL‰∏ÄÊã¨ÂÖ•Âäõ',
                placeholder: '123456789012',
                urlPattern: 'https://ebay.com/itm/',
                csvFormat: ['ItemID', 'URL', 'Title', 'Price', 'Category']
            },
            mercari: {
                name: '„É°„É´„Ç´„É™',
                idLabel: 'ÂïÜÂìÅID',
                bulkLabel: 'ÂïÜÂìÅID„ÉªURL‰∏ÄÊã¨ÂÖ•Âäõ',
                placeholder: 'm12345678901',
                urlPattern: 'https://mercari.com/jp/items/',
                csvFormat: ['ÂïÜÂìÅID', 'URL', 'ÂïÜÂìÅÂêç', '‰æ°Ê†º', 'Áä∂ÊÖã']
            }
        };
        
        let selectedMall = 'amazon';
        
        // „É¢„Éº„É´ÈÅ∏ÊäûÊ©üËÉΩ
        function selectMall(mallId) {
            selectedMall = mallId;
            
            // „É¢„Éº„É´„Ç´„Éº„Éâ„ÅÆÁä∂ÊÖãÊõ¥Êñ∞
            document.querySelectorAll('.upload__mall-card').forEach(card => {
                card.classList.remove('upload__mall-card--active');
            });
            document.querySelector(`[data-mall="${mallId}"]`).classList.add('upload__mall-card--active');
            
            // ÈÅ∏Êäû„É¢„Éº„É´Ë°®Á§∫Êõ¥Êñ∞
            document.getElementById('selectedMallDisplay').textContent = mallConfigs[mallId].name;
            
            // „Éï„Ç©„Éº„É†„É©„Éô„É´Êõ¥Êñ∞
            const config = mallConfigs[mallId];
            document.getElementById('idLabel').textContent = config.idLabel;
            document.getElementById('bulkLabel').textContent = config.bulkLabel;
            document.getElementById('idInput').placeholder = `‰æã: ${config.placeholder}`;
            
            // Êù°‰ª∂Ë°®Á§∫Ê©üËÉΩ„ÅÆÂàá„ÇäÊõø„Åà
            document.querySelectorAll('.upload__conditional').forEach(el => {
                el.classList.remove('upload__conditional--active');
            });
            const targetConditional = document.querySelector(`[data-mall="${mallId}"].upload__conditional`);
            if (targetConditional) {
                targetConditional.classList.add('upload__conditional--active');
            }
            
            // CSV„Çµ„É≥„Éó„É´Êõ¥Êñ∞
            updateCSVSample(config.csvFormat);
            
            showNotification(`${config.name}„ÅåÈÅ∏Êäû„Åï„Çå„Åæ„Åó„Åü„ÄÇ`, 'info');
        }
        
        function showComingSoon() {
            showNotification('„Åù„ÅÆ‰ªñ„ÅÆ„É¢„Éº„É´„ÅØÈ†ÜÊ¨°ÂØæÂøú‰∫àÂÆö„Åß„Åô„ÄÇ„ÅäÊ•Ω„Åó„Åø„Å´ÔºÅ', 'info');
        }
        
        function updateCSVSample(format) {
            const sampleData = {
                amazon: `ASIN,URL,ÂïÜÂìÅÂêç,‰æ°Ê†º
B08N5WRWNW,https://amazon.co.jp/dp/B08N5WRWNW,Echo Dot,3980
B09B8RRQT5,https://amazon.co.jp/dp/B09B8RRQT5,Fire Stick,4980`,
                rakuten: `ÂïÜÂìÅID,URL,ÂïÜÂìÅÂêç,‰æ°Ê†º,„Ç´„ÉÜ„Ç¥„É™
rakuten-123,https://item.rakuten.co.jp/shop/item123,ÂïÜÂìÅÂêç,2980,ÂÆ∂Èõª
rakuten-456,https://item.rakuten.co.jp/shop/item456,ÂïÜÂìÅÂêç,4980,ÁîüÊ¥ªÁî®ÂìÅ`,
                yahoo: `ÂïÜÂìÅ„Ç≥„Éº„Éâ,URL,ÂïÜÂìÅÂêç,‰æ°Ê†º
yahoo-abc123,https://shopping.yahoo.co.jp/products/abc123,ÂïÜÂìÅÂêç,1980
yahoo-def456,https://shopping.yahoo.co.jp/products/def456,ÂïÜÂìÅÂêç,3980`,
                ebay: `ItemID,URL,Title,Price,Category
123456789012,https://ebay.com/itm/123456789012,Product Name,29.99,Electronics
123456789013,https://ebay.com/itm/123456789013,Product Name,49.99,Home`,
                mercari: `ÂïÜÂìÅID,URL,ÂïÜÂìÅÂêç,‰æ°Ê†º,Áä∂ÊÖã
m12345678901,https://mercari.com/jp/items/m123456,ÂïÜÂìÅÂêç,1500,Êñ∞ÂìÅ„ÉªÊú™‰ΩøÁî®
m12345678902,https://mercari.com/jp/items/m123457,ÂïÜÂìÅÂêç,2800,ÁõÆÁ´ã„Å£„ÅüÂÇ∑„ÇÑÊ±ö„Çå„Å™„Åó`
            };
            
            document.getElementById('csvSample').textContent = sampleData[selectedMall] || sampleData.amazon;
        }
        
        // „Éï„Ç°„Ç§„É´ÈÅ∏ÊäûÂá¶ÁêÜ
        function handleFileSelect(input) {
            const file = input.files[0];
            if (file) {
                showNotification(`„Éï„Ç°„Ç§„É´„Äå${file.name}„Äç„ÅåÈÅ∏Êäû„Åï„Çå„Åæ„Åó„Åü„ÄÇ`, 'success');
                
                // „Éï„Ç°„Ç§„É´ÂêçË°®Á§∫
                const fileZone = document.querySelector('.upload__file-zone');
                fileZone.querySelector('.upload__file-text').textContent = file.name;
                fileZone.style.borderColor = 'var(--color-success)';
                fileZone.style.background = 'rgba(16, 185, 129, 0.05)';
            }
        }
        
        // „Éï„Ç©„Éº„É†„ÇØ„É™„Ç¢
        function clearForm() {
            document.getElementById('idInput').value = '';
            document.getElementById('urlInput').value = '';
            document.getElementById('bulkInput').value = '';
            document.getElementById('csvFile').value = '';
            
            // „Éï„Ç°„Ç§„É´„Çæ„Éº„É≥„É™„Çª„ÉÉ„Éà
            const fileZone = document.querySelector('.upload__file-zone');
            fileZone.querySelector('.upload__file-text').textContent = 'CSV„Éï„Ç°„Ç§„É´„Çí„Éâ„É≠„ÉÉ„Éó„Åæ„Åü„ÅØ„ÇØ„É™„ÉÉ„ÇØ';
            fileZone.style.borderColor = 'var(--border-color)';
            fileZone.style.background = 'var(--bg-primary)';
            
            showNotification('„Éï„Ç©„Éº„É†„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åó„Åü„ÄÇ', 'info');
        }
        
        // „Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÈñãÂßã
        function startUpload() {
            const idValue = document.getElementById('idInput').value.trim();
            const urlValue = document.getElementById('urlInput').value.trim();
            const bulkValue = document.getElementById('bulkInput').value.trim();
            const fileValue = document.getElementById('csvFile').files.length > 0;
            
            if (!idValue && !urlValue && !bulkValue && !fileValue) {
                showNotification('ÂïÜÂìÅID„ÄÅURL„ÄÅ‰∏ÄÊã¨ÂÖ•Âäõ„ÄÅ„Åæ„Åü„ÅØCSV„Éï„Ç°„Ç§„É´„ÅÆ„ÅÑ„Åö„Çå„Åã„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ', 'error');
                return;
            }
            
            // ÂÆüÈöõ„ÅÆÂá¶ÁêÜ„ÅØ„Åì„Åì„ÅßAjaxÈÄÅ‰ø°
            showNotification(`${mallConfigs[selectedMall].name}„ÅÆÂïÜÂìÅ„Éá„Éº„ÇøÂèñÂæó„ÇíÈñãÂßã„Åó„Åæ„Åô...`, 'success');
            
            // „Éá„É¢Áî®: 3ÁßíÂæå„Å´ÂÆå‰∫ÜÈÄöÁü•
            setTimeout(() => {
                showNotification('ÂïÜÂìÅ„Éá„Éº„Çø„ÅÆÂèñÂæó„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ', 'success');
            }, 3000);
        }
        
        // ÈÄöÁü•„Ç∑„Çπ„ÉÜ„É†ÔºàÁ∞°ÊòìÁâàÔºâ
        function showNotification(message, type = 'info') {
            // ÈÄöÁü•Ë¶ÅÁ¥†‰ΩúÊàê
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 16px;
                border-radius: 6px;
                color: white;
                font-size: 14px;
                z-index: 1000;
                max-width: 300px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                transition: all 0.3s ease;
            `;
            
            // „Çø„Ç§„ÉóÂà•„Çπ„Çø„Ç§„É´
            const colors = {
                info: '#3b82f6',
                success: '#10b981',
                error: '#ef4444',
                warning: '#f59e0b'
            };
            notification.style.background = colors[type] || colors.info;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // 3ÁßíÂæå„Å´ÂâäÈô§
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        // „Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„ÉóÂØæÂøú
        const fileZone = document.querySelector('.upload__file-zone');
        
        fileZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileZone.classList.add('upload__file-zone--dragover');
        });
        
        fileZone.addEventListener('dragleave', () => {
            fileZone.classList.remove('upload__file-zone--dragover');
        });
        
        fileZone.addEventListener('drop', (e) => {
            e.preventDefault();
            fileZone.classList.remove('upload__file-zone--dragover');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                document.getElementById('csvFile').files = files;
                handleFileSelect(document.getElementById('csvFile'));
            }
        });
        
        // ÂàùÊúüÂåñ
        selectMall('amazon');
    </script>
</body>
</html>