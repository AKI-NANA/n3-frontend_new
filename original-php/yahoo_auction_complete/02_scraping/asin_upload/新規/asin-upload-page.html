<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASIN/å•†å“URL ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ - Emverze SaaS</title>
    
    <!-- ãƒ¡ã‚¿ã‚¿ã‚° -->
    <meta name="description" content="Amazon ASINã€å•†å“URLã€CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€æ‹¬å–å¾—">
    <meta name="keywords" content="ASIN,Amazon,å•†å“URL,ä¸€æ‹¬ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰,CSV">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    
    <!-- ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <style>
        /* ========================================
           NAGANO-3 ASIN/å•†å“URLã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸
           ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ CSSå®Ÿè£…ï¼ˆåˆ†é›¢æº–å‚™å¯¾å¿œç‰ˆï¼‰
           ======================================== */

        /* ===== CSSå¤‰æ•°å®šç¾©ï¼ˆå‡ºå…¸: common/css/core/common.cssï¼‰ ===== */
        :root {
            /* ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ */
            --color-primary: #3b82f6;       /* common.css: ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼ */
            --color-secondary: #8b5cf6;     /* common.css: ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚«ãƒ©ãƒ¼ */
            --color-success: #10b981;       /* common.css: æˆåŠŸã‚«ãƒ©ãƒ¼ */
            --color-warning: #f59e0b;       /* common.css: è­¦å‘Šã‚«ãƒ©ãƒ¼ */
            --color-danger: #ef4444;        /* common.css: å±é™ºã‚«ãƒ©ãƒ¼ */
            --color-info: #06b6d4;          /* common.css: æƒ…å ±ã‚«ãƒ©ãƒ¼ */
            
            /* ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ */
            --accent-blue: #06b6d4;         /* common.css: ã‚¢ã‚¯ã‚»ãƒ³ãƒˆãƒ–ãƒ«ãƒ¼ */
            --accent-purple: #8b5cf6;       /* common.css: ã‚¢ã‚¯ã‚»ãƒ³ãƒˆãƒ‘ãƒ¼ãƒ—ãƒ« */
            --accent-green: #10b981;        /* common.css: ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚°ãƒªãƒ¼ãƒ³ */
            
            /* èƒŒæ™¯ã‚«ãƒ©ãƒ¼ */
            --bg-primary: #f8fafc;          /* common.css: ãƒ—ãƒ©ã‚¤ãƒãƒªèƒŒæ™¯ */
            --bg-secondary: #ffffff;        /* common.css: ã‚»ã‚«ãƒ³ãƒ€ãƒªèƒŒæ™¯ */
            --bg-tertiary: #f1f5f9;         /* common.css: ã‚¿ãƒ¼ã‚·ãƒ£ãƒªèƒŒæ™¯ */
            --bg-hover: #e2e8f0;            /* common.css: ãƒ›ãƒãƒ¼èƒŒæ™¯ */
            
            /* ãƒ†ã‚­ã‚¹ãƒˆã‚«ãƒ©ãƒ¼ */
            --text-primary: #1e293b;        /* common.css: ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ†ã‚­ã‚¹ãƒˆ */
            --text-secondary: #475569;      /* common.css: ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒ†ã‚­ã‚¹ãƒˆ */
            --text-tertiary: #64748b;       /* common.css: ã‚¿ãƒ¼ã‚·ãƒ£ãƒªãƒ†ã‚­ã‚¹ãƒˆ */
            --text-muted: #94a3b8;          /* common.css: ãƒŸãƒ¥ãƒ¼ãƒˆãƒ†ã‚­ã‚¹ãƒˆ */
            --text-white: #ffffff;          /* common.css: ç™½ãƒ†ã‚­ã‚¹ãƒˆ */
            
            /* ãƒœãƒ¼ãƒ€ãƒ¼ãƒ»ã‚·ãƒ£ãƒ‰ã‚¦ */
            --border-color: #e2e8f0;        /* common.css: ãƒœãƒ¼ãƒ€ãƒ¼ã‚«ãƒ©ãƒ¼ */
            --border-light: #f1f5f9;        /* common.css: ãƒ©ã‚¤ãƒˆãƒœãƒ¼ãƒ€ãƒ¼ */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);      /* common.css: å°ã‚·ãƒ£ãƒ‰ã‚¦ */
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);    /* common.css: ä¸­ã‚·ãƒ£ãƒ‰ã‚¦ */
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);  /* common.css: å¤§ã‚·ãƒ£ãƒ‰ã‚¦ */
            
            /* ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚° */
            --space-1: 0.25rem;             /* common.css: 4px */
            --space-2: 0.5rem;              /* common.css: 8px */
            --space-3: 0.75rem;             /* common.css: 12px */
            --space-4: 1rem;                /* common.css: 16px */
            --space-5: 1.25rem;             /* common.css: 20px */
            --space-6: 1.5rem;              /* common.css: 24px */
            --space-8: 2rem;                /* common.css: 32px */
            
            /* ãƒœãƒ¼ãƒ€ãƒ¼ãƒ©ã‚¸ã‚¢ã‚¹ */
            --radius-sm: 0.375rem;          /* common.css: 6px */
            --radius-md: 0.5rem;            /* common.css: 8px */
            --radius-lg: 0.75rem;           /* common.css: 12px */
            --radius-xl: 1rem;              /* common.css: 16px */
            --radius-2xl: 1.25rem;          /* common.css: 20px */
            
            /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º */
            --text-xs: 0.75rem;             /* common.css: 12px */
            --text-sm: 0.875rem;            /* common.css: 14px */
            --text-base: 1rem;              /* common.css: 16px */
            --text-lg: 1.125rem;            /* common.css: 18px */
            --text-xl: 1.25rem;             /* common.css: 20px */
            --text-2xl: 1.5rem;             /* common.css: 24px */
            --text-3xl: 1.875rem;           /* common.css: 30px */
            
            /* ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ */
            --transition-fast: all 0.15s ease;     /* common.css: é«˜é€Ÿãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ */
            --transition-normal: all 0.3s ease;    /* common.css: æ¨™æº–ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ */
            
            /* ASINå°‚ç”¨å¤‰æ•°ï¼ˆå‡ºå…¸: pages/asin_upload.css æƒ³å®šï¼‰ */
            --asin-upload-primary: var(--accent-blue);
            --asin-upload-secondary: var(--accent-purple);
            --asin-upload-success: var(--accent-green);
        }
        
        /* ===== ãƒªã‚»ãƒƒãƒˆãƒ»ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå‡ºå…¸: common/css/core/common.cssï¼‰ ===== */
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            height: 100%;
            scroll-behavior: smooth;
            overflow-x: hidden;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }
        
        body {
            font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            transition: var(--transition-normal);
            overflow-x: hidden;
            font-weight: 400;
            font-size: var(--text-sm);
        }
        
        /* ===== ã‚³ãƒ³ãƒ†ãƒŠãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå‡ºå…¸: common/css/core/layout.cssï¼‰ ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-4);
            width: 100%;
        }
        
        /* ===== ASIN ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå‡ºå…¸: pages/asin_upload.css æƒ³å®šï¼‰ ===== */
        
        /* ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆBEM: asin-upload__page-headerï¼‰ */
        .asin-upload__page-header {
            background: linear-gradient(135deg, var(--asin-upload-primary), var(--asin-upload-secondary));
            border-radius: var(--radius-2xl);
            padding: var(--space-8);
            margin-bottom: var(--space-8);
            color: var(--text-white);
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }
        
        .asin-upload__page-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: rotate(45deg);
        }
        
        .asin-upload__header-content {
            position: relative;
            z-index: 2;
        }
        
        .asin-upload__page-title {
            font-size: var(--text-3xl);
            font-weight: 700;
            margin-bottom: var(--space-2);
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }
        
        .asin-upload__title-icon {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-2xl);
            backdrop-filter: blur(10px);
        }
        
        .asin-upload__page-subtitle {
            font-size: var(--text-lg);
            opacity: 0.9;
            margin: 0;
            font-weight: 400;
        }
        
        /* ãƒ¡ã‚¤ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆBEM: asin-upload__main-sectionï¼‰ */
        .asin-upload__main-section {
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            overflow: hidden;
            margin-bottom: var(--space-8);
        }
        
        .asin-upload__section-header {
            background: var(--bg-primary);
            padding: var(--space-5);
            border-bottom: 1px solid var(--border-color);
        }
        
        .asin-upload__section-title {
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        /* ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆBEM: asin-upload__tabsï¼‰ */
        .asin-upload__tabs {
            display: flex;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
        }
        
        .asin-upload__tab-button {
            flex: 1;
            padding: var(--space-4) var(--space-6);
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-size: var(--text-sm);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition-fast);
            border-bottom: 3px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
        }
        
        .asin-upload__tab-button:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }
        
        .asin-upload__tab-button--active {
            background: var(--bg-secondary);
            color: var(--asin-upload-primary);
            border-bottom-color: var(--asin-upload-primary);
        }
        
        /* ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆBEM: asin-upload__tab-contentï¼‰ */
        .asin-upload__tab-content {
            padding: var(--space-6);
            display: none;
        }
        
        .asin-upload__tab-content--active {
            display: block;
        }
        
        /* æ¤œè¨¼ãƒ«ãƒ¼ãƒ«è¡¨ç¤ºï¼ˆBEM: asin-upload__validation-rulesï¼‰ */
        .asin-upload__validation-rules {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin-bottom: var(--space-6);
        }
        
        .asin-upload__rules-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-3);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .asin-upload__rules-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .asin-upload__rules-list li {
            padding: var(--space-2) 0;
            color: var(--text-secondary);
            font-size: var(--text-sm);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .asin-upload__rules-list li::before {
            content: "âœ“";
            color: var(--asin-upload-success);
            font-weight: bold;
            width: 16px;
            text-align: center;
        }
        
        /* ã‚µãƒ³ãƒ—ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆBEM: asin-upload__sample-sectionï¼‰ */
        .asin-upload__sample-section {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin-bottom: var(--space-6);
        }
        
        .asin-upload__sample-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-3);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .asin-upload__sample-code {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            font-family: 'Courier New', monospace;
            font-size: var(--text-xs);
            color: var(--text-secondary);
            white-space: pre;
            overflow-x: auto;
        }
        
        /* ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ï¼ˆBEM: asin-upload__file-upload-areaï¼‰ */
        .asin-upload__file-upload-area {
            border: 2px dashed var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-8);
            text-align: center;
            cursor: pointer;
            transition: var(--transition-fast);
            background: var(--bg-tertiary);
            margin-bottom: var(--space-6);
            position: relative;
        }
        
        .asin-upload__file-upload-area:hover {
            border-color: var(--asin-upload-primary);
            background: var(--bg-hover);
        }
        
        .asin-upload__file-upload-area--dragover {
            border-color: var(--asin-upload-primary);
            background: rgba(59, 130, 246, 0.1);
        }
        
        .asin-upload__upload-icon {
            font-size: var(--text-3xl);
            margin-bottom: var(--space-3);
            color: var(--text-muted);
        }
        
        .asin-upload__upload-text {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }
        
        .asin-upload__upload-subtext {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }
        
        .asin-upload__hidden-input {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        
        /* ãƒ¢ãƒ¼ãƒ«é¸æŠã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆBEM: asin-upload__mall-selectorï¼‰ */
        .asin-upload__mall-selector {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
        }
        
        .asin-upload__mall-title {
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .asin-upload__mall-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
        }
        
        .asin-upload__mall-card {
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            text-align: center;
            cursor: pointer;
            transition: var(--transition-fast);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-2);
        }
        
        .asin-upload__mall-card:hover {
            border-color: var(--asin-upload-primary);
            background: var(--bg-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .asin-upload__mall-card--active {
            border-color: var(--asin-upload-primary);
            background: rgba(59, 130, 246, 0.1);
            box-shadow: var(--shadow-md);
        }
        
        .asin-upload__mall-card--coming-soon {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .asin-upload__mall-card--coming-soon:hover {
            transform: none;
            border-color: var(--border-color);
            background: var(--bg-tertiary);
        }
        
        .asin-upload__mall-icon {
            font-size: var(--text-3xl);
            margin-bottom: var(--space-2);
        }
        
        .asin-upload__mall-name {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }
        
        .asin-upload__mall-subtitle {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }
        
        .asin-upload__selected-mall {
            background: var(--asin-upload-primary);
            color: var(--text-white);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            margin-left: var(--space-3);
        }
        
        /* ãƒ•ã‚©ãƒ¼ãƒ è¡Œãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆURLè‡ªå‹•å–å¾—ç”¨ï¼‰ */
        .asin-upload__form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }
        .asin-upload__form-group {
            margin-bottom: var(--space-6);
        }
        
        .asin-upload__label {
            display: block;
            font-size: var(--text-sm);
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }
        
        .asin-upload__input {
            width: 100%;
            padding: var(--space-3) var(--space-4);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            color: var(--text-primary);
            background: var(--bg-secondary);
            transition: var(--transition-fast);
        }
        
        .asin-upload__input:focus {
            outline: none;
            border-color: var(--asin-upload-primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .asin-upload__textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        /* ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå‡ºå…¸: common/css/core/components.cssï¼‰ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-6);
            border: 1px solid transparent;
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition-fast);
            user-select: none;
        }
        
        .btn--primary {
            background: var(--color-primary);
            color: var(--text-white);
            border-color: var(--color-primary);
        }
        
        .btn--primary:hover {
            background: #2563eb;
            border-color: #2563eb;
        }
        
        .btn--secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-color: var(--border-color);
        }
        
        .btn--secondary:hover {
            background: var(--bg-hover);
        }
        
        .btn--success {
            background: var(--color-success);
            color: var(--text-white);
            border-color: var(--color-success);
        }
        
        .btn--success:hover {
            background: #059669;
            border-color: #059669;
        }
        
        .btn--large {
            padding: var(--space-4) var(--space-8);
            font-size: var(--text-base);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ï¼ˆBEM: asin-upload__progressï¼‰ */
        .asin-upload__progress {
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            overflow: hidden;
            margin-bottom: var(--space-4);
            display: none;
        }
        
        .asin-upload__progress--show {
            display: block;
        }
        
        .asin-upload__progress-bar {
            height: 20px;
            background: linear-gradient(90deg, var(--asin-upload-primary), var(--asin-upload-secondary));
            border-radius: var(--radius-md);
            transition: width 0.3s ease;
            width: 0%;
            position: relative;
        }
        
        .asin-upload__progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--text-white);
            font-size: var(--text-xs);
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        /* çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ï¼ˆBEM: asin-upload__resultsï¼‰ */
        .asin-upload__results {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin-top: var(--space-6);
            display: none;
        }
        
        .asin-upload__results--show {
            display: block;
        }
        
        .asin-upload__results-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .asin-upload__results-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }
        
        .asin-upload__stat-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            text-align: center;
        }
        
        .asin-upload__stat-number {
            font-size: var(--text-2xl);
            font-weight: 700;
            color: var(--asin-upload-primary);
            display: block;
        }
        
        .asin-upload__stat-label {
            font-size: var(--text-xs);
            color: var(--text-secondary);
            margin-top: var(--space-1);
        }
        
        /* é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ï¼ˆå‡ºå…¸: common/js/core/notifications.js æƒ³å®šï¼‰ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 400px;
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }
        
        .notification--show {
            transform: translateX(0);
        }
        
        .notification--success {
            background: var(--color-success);
            color: var(--text-white);
        }
        
        .notification--error {
            background: var(--color-danger);
            color: var(--text-white);
        }
        
        .notification--info {
            background: var(--color-info);
            color: var(--text-white);
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆå‡ºå…¸: common/css/core/common.css ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒªï¼‰ */
        @media (min-width: 768px) {
            .container {
                padding: var(--space-6);
            }
        }
        
        @media (min-width: 1024px) {
            .container {
                padding: var(--space-8);
            }
        }
        
        @media (max-width: 768px) {
            .asin-upload__page-header {
                padding: var(--space-6);
                margin-bottom: var(--space-6);
            }
            
            .asin-upload__page-title {
                font-size: var(--text-2xl);
                flex-direction: column;
                text-align: center;
            }
            
            .asin-upload__tabs {
                flex-direction: column;
            }
            
            .asin-upload__tab-button {
                padding: var(--space-3) var(--space-4);
                border-bottom: 1px solid var(--border-color);
                border-right: none;
            }
            
            .asin-upload__tab-button--active {
                border-bottom-color: var(--border-color);
                border-left: 3px solid var(--asin-upload-primary);
            }
            
            .asin-upload__results-summary {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: var(--space-2);
            }
            
            .asin-upload__file-upload-area {
                padding: var(--space-6);
            }
            
            .asin-upload__results-summary {
                grid-template-columns: 1fr;
            }
        }
        
        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå‡ºå…¸: common/css/core/common.cssï¼‰ */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        /* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†ï¼ˆå‡ºå…¸: common/css/core/common.cssï¼‰ */
        *:focus {
            outline: 2px solid var(--color-primary);
            outline-offset: 2px;
        }
        
        /* é¸æŠãƒ†ã‚­ã‚¹ãƒˆ */
        ::selection {
            background-color: rgba(59, 130, 246, 0.3);
            color: var(--text-primary);
        }
    </style>
<script>
// CAIDS error_handling Hook

// CAIDS ã‚¨ãƒ©ãƒ¼å‡¦ç†Hook - å®Œå…¨å®Ÿè£…
window.CAIDS_ERROR_HANDLER = {
    isActive: true,
    errorCount: 0,
    errorHistory: [],
    
    initialize: function() {
        this.setupGlobalErrorHandler();
        this.setupUnhandledPromiseRejection();
        this.setupNetworkErrorHandler();
        console.log('âš ï¸ CAIDS ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨åˆæœŸåŒ–');
    },
    
    setupGlobalErrorHandler: function() {
        window.addEventListener('error', (event) => {
            this.handleError({
                type: 'JavaScript Error',
                message: event.message,
                filename: event.filename,
                lineno: event.lineno,
                colno: event.colno,
                stack: event.error?.stack
            });
        });
    },
    
    setupUnhandledPromiseRejection: function() {
        window.addEventListener('unhandledrejection', (event) => {
            this.handleError({
                type: 'Unhandled Promise Rejection',
                message: event.reason?.message || String(event.reason),
                stack: event.reason?.stack
            });
        });
    },
    
    setupNetworkErrorHandler: function() {
        const originalFetch = window.fetch;
        window.fetch = async function(...args) {
            try {
                const response = await originalFetch.apply(this, args);
                if (!response.ok) {
                    window.CAIDS_ERROR_HANDLER.handleError({
                        type: 'Network Error',
                        message: `HTTP ${response.status}: ${response.statusText}`,
                        url: args[0]
                    });
                }
                return response;
            } catch (error) {
                window.CAIDS_ERROR_HANDLER.handleError({
                    type: 'Network Fetch Error',
                    message: error.message,
                    url: args[0]
                });
                throw error;
            }
        };
    },
    
    handleError: function(errorInfo) {
        this.errorCount++;
        this.errorHistory.push({...errorInfo, timestamp: new Date().toISOString()});
        
        console.error('ğŸš¨ CAIDS Error Handler:', errorInfo);
        this.showErrorNotification(errorInfo);
        this.reportError(errorInfo);
    },
    
    showErrorNotification: function(errorInfo) {
        const errorDiv = document.createElement('div');
        errorDiv.style.cssText = `
            position: fixed; top: 10px; right: 10px; z-index: 999999;
            background: linear-gradient(135deg, #ff4444, #cc0000);
            color: white; padding: 15px 20px; border-radius: 8px;
            max-width: 350px; box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            font-size: 13px; font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            border: 2px solid #ff6666; animation: caids-error-shake 0.5s ease-in-out;
        `;
        errorDiv.innerHTML = `
            <div style="display: flex; align-items: center; gap: 10px;">
                <span style="font-size: 18px;">ğŸš¨</span>
                <div>
                    <strong>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</strong><br>
                    <small style="opacity: 0.9;">${errorInfo.type}: ${errorInfo.message}</small>
                </div>
            </div>
        `;
        
        // CSS Animation
        if (!document.getElementById('caids-error-styles')) {
            const style = document.createElement('style');
            style.id = 'caids-error-styles';
            style.textContent = `
                @keyframes caids-error-shake {
                    0%, 100% { transform: translateX(0); }
                    25% { transform: translateX(-5px); }
                    75% { transform: translateX(5px); }
                }
            `;
            document.head.appendChild(style);
        }
        
        document.body.appendChild(errorDiv);
        setTimeout(() => errorDiv.remove(), 7000);
    },
    
    reportError: function(errorInfo) {
        // ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆãƒ»é€ä¿¡ï¼ˆå°†æ¥ã®æ‹¡å¼µç”¨ï¼‰
        const report = {
            timestamp: new Date().toISOString(),
            userAgent: navigator.userAgent,
            url: window.location.href,
            errorCount: this.errorCount,
            sessionId: this.getSessionId(),
            ...errorInfo
        };
        
        console.log('ğŸ“‹ CAIDS Error Report:', report);
        localStorage.setItem('caids_last_error', JSON.stringify(report));
    },
    
    getSessionId: function() {
        let sessionId = sessionStorage.getItem('caids_session_id');
        if (!sessionId) {
            sessionId = 'caids_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            sessionStorage.setItem('caids_session_id', sessionId);
        }
        return sessionId;
    },
    
    getErrorStats: function() {
        return {
            totalErrors: this.errorCount,
            recentErrors: this.errorHistory.slice(-10),
            sessionId: this.getSessionId()
        };
    }
};

window.CAIDS_ERROR_HANDLER.initialize();

</script>
<script>
// CAIDS user_feedback Hook
// CAIDS user_feedback Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… user_feedback Hook loaded');
</script>
<script>
// CAIDS character_limit Hook
// CAIDS character_limit Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… character_limit Hook loaded');
</script>
<script>
// CAIDS natural_explanation Hook
// CAIDS natural_explanation Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… natural_explanation Hook loaded');
</script>
<script>
// CAIDS character_monitoring Hook
// CAIDS character_monitoring Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… character_monitoring Hook loaded');
</script>
<script>
// CAIDS emergency_accumulation Hook
// CAIDS emergency_accumulation Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… emergency_accumulation Hook loaded');
</script>
<script>
// CAIDS processing_capacity_monitoring Hook
// CAIDS processing_capacity_monitoring Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… processing_capacity_monitoring Hook loaded');
</script>
<script>
// CAIDS pre_analysis_enforcement Hook
// CAIDS pre_analysis_enforcement Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… pre_analysis_enforcement Hook loaded');
</script>
<script>
// CAIDS user_approval_required Hook
// CAIDS user_approval_required Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… user_approval_required Hook loaded');
</script>
<script>
// CAIDS timeout_management Hook
// CAIDS timeout_management Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… timeout_management Hook loaded');
</script>
<script>
// CAIDS development_control Hook
// CAIDS development_control Hook - åŸºæœ¬å®Ÿè£…
console.log('âœ… development_control Hook loaded');
</script>
</head>
<body>
    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div class="container">
        <!-- ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="asin-upload__page-header fade-in">
            <div class="asin-upload__header-content">
                <h1 class="asin-upload__page-title">
                    <div class="asin-upload__title-icon">
                        <i class="fas fa-upload"></i>
                    </div>
                    ASIN/å•†å“URL ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
                </h1>
                <p class="asin-upload__page-subtitle">
                    Amazon ASINã€å•†å“URLã€ã¾ãŸã¯CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€æ‹¬å–å¾—ã—ã¾ã™
                </p>
            </div>
        </header>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <main class="asin-upload__main-section fade-in">
            <!-- ãƒ¢ãƒ¼ãƒ«é¸æŠã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <div class="asin-upload__mall-selector">
                <div class="asin-upload__mall-title">
                    <i class="fas fa-store"></i>
                    å¯¾è±¡ãƒ¢ãƒ¼ãƒ«é¸æŠ
                </div>
                <div class="asin-upload__mall-grid">
                    <button class="asin-upload__mall-card asin-upload__mall-card--active" onclick="selectMall('amazon')" data-mall="amazon">
                        <div class="asin-upload__mall-icon">ğŸ›’</div>
                        <div class="asin-upload__mall-name">Amazon</div>
                        <div class="asin-upload__mall-subtitle">æ—¥æœ¬ãƒ»ç±³å›½ãƒ»EU</div>
                    </button>
                    <button class="asin-upload__mall-card" onclick="selectMall('rakuten')" data-mall="rakuten">
                        <div class="asin-upload__mall-icon">ğŸ›ï¸</div>
                        <div class="asin-upload__mall-name">æ¥½å¤©å¸‚å ´</div>
                        <div class="asin-upload__mall-subtitle">æ—¥æœ¬æœ€å¤§ç´š</div>
                    </button>
                    <button class="asin-upload__mall-card" onclick="selectMall('yahoo')" data-mall="yahoo">
                        <div class="asin-upload__mall-icon">ğŸ›’</div>
                        <div class="asin-upload__mall-name">Yahoo!ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°</div>
                        <div class="asin-upload__mall-subtitle">PayPayé€£æº</div>
                    </button>
                    <button class="asin-upload__mall-card" onclick="selectMall('ebay')" data-mall="ebay">
                        <div class="asin-upload__mall-icon">ğŸŒ</div>
                        <div class="asin-upload__mall-name">eBay</div>
                        <div class="asin-upload__mall-subtitle">ã‚°ãƒ­ãƒ¼ãƒãƒ«</div>
                    </button>
                    <button class="asin-upload__mall-card" onclick="selectMall('mercari')" data-mall="mercari">
                        <div class="asin-upload__mall-icon">ğŸ“±</div>
                        <div class="asin-upload__mall-name">ãƒ¡ãƒ«ã‚«ãƒª</div>
                        <div class="asin-upload__mall-subtitle">ãƒ•ãƒªãƒã‚¢ãƒ—ãƒª</div>
                    </button>
                    <button class="asin-upload__mall-card asin-upload__mall-card--coming-soon" onclick="showComingSoon()">
                        <div class="asin-upload__mall-icon">â•</div>
                        <div class="asin-upload__mall-name">ãã®ä»–50+</div>
                        <div class="asin-upload__mall-subtitle">é †æ¬¡å¯¾å¿œäºˆå®š</div>
                    </button>
                </div>
            </div>

            <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ -->
            <div class="asin-upload__section-header">
                <h2 class="asin-upload__section-title">
                    <i class="fas fa-database"></i>
                    ãƒ‡ãƒ¼ã‚¿å…¥åŠ›æ–¹æ³•ã‚’é¸æŠ
                    <span class="asin-upload__selected-mall" id="selectedMallDisplay">Amazon</span>
                </h2>
            </div>

            <!-- ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
            <nav class="asin-upload__tabs">
                <button class="asin-upload__tab-button asin-upload__tab-button--active" onclick="switchTab('csv-upload')">
                    <i class="fas fa-file-csv"></i>
                    CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
                </button>
                <button class="asin-upload__tab-button" onclick="switchTab('manual-input')">
                    <i class="fas fa-edit"></i>
                    æ‰‹å‹•å…¥åŠ›
                </button>
                <button class="asin-upload__tab-button" onclick="switchTab('bulk-paste')">
                    <i class="fas fa-clipboard"></i>
                    ä¸€æ‹¬è²¼ã‚Šä»˜ã‘
                </button>
                <button class="asin-upload__tab-button" onclick="switchTab('url-auto-collect')">
                    <i class="fas fa-magic"></i>
                    URLè‡ªå‹•å–å¾—
                </button>
            </nav>

            <!-- CSVã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¿ãƒ– -->
            <div id="csv-upload" class="asin-upload__tab-content asin-upload__tab-content--active">
                <!-- æ¤œè¨¼ãƒ«ãƒ¼ãƒ«è¡¨ç¤º -->
                <div class="asin-upload__validation-rules">
                    <div class="asin-upload__rules-title">
                        <i class="fas fa-check-circle"></i>
                        CSVãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼è¦ä»¶
                    </div>
                    <ul class="asin-upload__rules-list">
                        <li>ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼: .csv, .xlsxå¯¾å¿œ</li>
                        <li>æœ€å¤§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 10MB</li>
                        <li>æœ€å¤§è¡Œæ•°: 10,000è¡Œ</li>
                        <li>æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°: UTF-8æ¨å¥¨</li>
                        <li>åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼: ASIN, URL, ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰, SKU (ä»»æ„)</li>
                    </ul>
                </div>

                <!-- ã‚µãƒ³ãƒ—ãƒ«è¡¨ç¤º -->
                <div class="asin-upload__sample-section">
                    <div class="asin-upload__sample-title">
                        <i class="fas fa-code"></i>
                        CSVã‚µãƒ³ãƒ—ãƒ«å½¢å¼
                    </div>
                    <div class="asin-upload__sample-code">ASIN,URL,ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰,SKU
B08N5WRWNW,https://amazon.co.jp/dp/B08N5WRWNW,Echo Dot,ECHO-DOT-001
B09B8RRQT5,https://amazon.co.jp/dp/B09B8RRQT5,Fire Stick,FIRE-STICK-002
B07YNM3GJG,https://amazon.co.jp/dp/B07YNM3GJG,Kindle,KINDLE-003</div>
                </div>

                <!-- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ -->
                <div class="asin-upload__form-group">
                    <div class="asin-upload__file-upload-area" onclick="document.getElementById('csvFile').click()">
                        <div class="asin-upload__upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <div class="asin-upload__upload-text">CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—</div>
                        <div class="asin-upload__upload-subtext">ã¾ãŸã¯ã€ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</div>
                        <input type="file" id="csvFile" class="asin-upload__hidden-input" accept=".csv,.xlsx,.xls">
                    </div>
                </div>

                <!-- å‡¦ç†ãƒœã‚¿ãƒ³ -->
                <div class="asin-upload__form-group">
                    <button class="btn btn--primary btn--large" onclick="processCsvFile()" disabled id="processCsvBtn">
                        <i class="fas fa-cogs"></i>
                        CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†
                    </button>
                </div>
            </div>

            <!-- æ‰‹å‹•å…¥åŠ›ã‚¿ãƒ– -->
            <div id="manual-input" class="asin-upload__tab-content">
                <div class="asin-upload__form-group">
                    <label class="asin-upload__label" for="asinInput">
                        <i class="fas fa-barcode"></i>
                        <span id="asinLabel">ASIN</span>
                    </label>
                    <input type="text" id="asinInput" class="asin-upload__input" placeholder="ä¾‹: B08N5WRWNW">
                </div>

                <div class="asin-upload__form-group">
                    <label class="asin-upload__label" for="urlInput">
                        <i class="fas fa-link"></i>
                        å•†å“URL
                    </label>
                    <input type="url" id="urlInput" class="asin-upload__input" placeholder="ä¾‹: https://amazon.co.jp/dp/B08N5WRWNW">
                </div>

                <div class="asin-upload__form-group">
                    <button class="btn btn--primary btn--large" onclick="processManualInput()">
                        <i class="fas fa-search"></i>
                        å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
                    </button>
                </div>
            </div>

            <!-- ä¸€æ‹¬è²¼ã‚Šä»˜ã‘ã‚¿ãƒ– -->
            <div id="bulk-paste" class="asin-upload__tab-content">
                <div class="asin-upload__form-group">
                    <label class="asin-upload__label" for="bulkInput">
                        <i class="fas fa-clipboard-list"></i>
                        <span id="bulkLabel">ASINãƒ»URLä¸€æ‹¬å…¥åŠ›</span>
                    </label>
                    <textarea id="bulkInput" class="asin-upload__input asin-upload__textarea" 
                              placeholder="ASINã¾ãŸã¯URLã‚’1è¡Œãšã¤å…¥åŠ›ã—ã¦ãã ã•ã„&#10;&#10;ä¾‹:&#10;B08N5WRWNW&#10;https://amazon.co.jp/dp/B09B8RRQT5&#10;B07YNM3GJG"></textarea>
                </div>

                <div class="asin-upload__form-group">
                    <button class="btn btn--primary btn--large" onclick="processBulkInput()">
                        <i class="fas fa-list-check"></i>
                        ä¸€æ‹¬å‡¦ç†ã‚’é–‹å§‹
                    </button>
                </div>
            </div>

            <!-- URLè‡ªå‹•å–å¾—ã‚¿ãƒ–ï¼ˆæ–°æ©Ÿèƒ½ï¼‰ -->
            <div id="url-auto-collect" class="asin-upload__tab-content">
                <div class="asin-upload__validation-rules">
                    <div class="asin-upload__rules-title">
                        <i class="fas fa-magic"></i>
                        URLè‡ªå‹•å–å¾—æ©Ÿèƒ½
                    </div>
                    <ul class="asin-upload__rules-list">
                        <li>æ¤œç´¢çµæœãƒšãƒ¼ã‚¸ã®URLã‚’æŒ‡å®š</li>
                        <li>ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•é€²è¡Œ</li>
                        <li>æŒ‡å®šä»¶æ•°ã¾ã§å•†å“URLã‚’è‡ªå‹•åé›†</li>
                        <li>æ¡ä»¶ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã§çµã‚Šè¾¼ã¿å¯èƒ½</li>
                    </ul>
                </div>

                <div class="asin-upload__form-group">
                    <label class="asin-upload__label" for="startUrlInput">
                        <i class="fas fa-link"></i>
                        é–‹å§‹URLï¼ˆæ¤œç´¢çµæœãƒšãƒ¼ã‚¸ï¼‰
                    </label>
                    <input type="url" id="startUrlInput" class="asin-upload__input" 
                           placeholder="ä¾‹: https://amazon.co.jp/s?k=ã‚¹ãƒãƒ¼ãƒˆã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼">
                </div>

                <div class="asin-upload__form-row">
                    <div class="asin-upload__form-group">
                        <label class="asin-upload__label" for="maxCountInput">
                            <i class="fas fa-hashtag"></i>
                            å–å¾—ä»¶æ•°
                        </label>
                        <select id="maxCountInput" class="asin-upload__input">
                            <option value="50">50ä»¶</option>
                            <option value="100" selected>100ä»¶</option>
                            <option value="200">200ä»¶</option>
                            <option value="500">500ä»¶</option>
                            <option value="1000">1000ä»¶</option>
                        </select>
                    </div>
                    
                    <div class="asin-upload__form-group">
                        <label class="asin-upload__label" for="priceRangeInput">
                            <i class="fas fa-yen-sign"></i>
                            ä¾¡æ ¼å¸¯ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
                        </label>
                        <select id="priceRangeInput" class="asin-upload__input">
                            <option value="">åˆ¶é™ãªã—</option>
                            <option value="0-1000">1,000å††ä»¥ä¸‹</option>
                            <option value="1000-5000">1,000å††-5,000å††</option>
                            <option value="5000-10000">5,000å††-10,000å††</option>
                            <option value="10000-50000">10,000å††-50,000å††</option>
                            <option value="50000-">50,000å††ä»¥ä¸Š</option>
                        </select>
                    </div>
                </div>

                <div class="asin-upload__form-group">
                    <button class="btn btn--primary btn--large" onclick="processUrlAutoCollect()">
                        <i class="fas fa-magic"></i>
                        è‡ªå‹•å–å¾—ã‚’é–‹å§‹
                    </button>
                </div>
            </div>

            <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ -->
            <div class="asin-upload__progress" id="progressBar">
                <div class="asin-upload__progress-bar" id="progressBarFill">
                    <div class="asin-upload__progress-text" id="progressText">0%</div>
                </div>
            </div>

            <!-- çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div class="asin-upload__results" id="resultsArea">
                <div class="asin-upload__results-title">
                    <i class="fas fa-chart-line"></i>
                    å‡¦ç†çµæœ
                </div>
                
                <div class="asin-upload__results-summary">
                    <div class="asin-upload__stat-card">
                        <span class="asin-upload__stat-number" id="totalCount">0</span>
                        <div class="asin-upload__stat-label">ç·ä»¶æ•°</div>
                    </div>
                    <div class="asin-upload__stat-card">
                        <span class="asin-upload__stat-number" id="successCount">0</span>
                        <div class="asin-upload__stat-label">æˆåŠŸ</div>
                    </div>
                    <div class="asin-upload__stat-card">
                        <span class="asin-upload__stat-number" id="errorCount">0</span>
                        <div class="asin-upload__stat-label">ã‚¨ãƒ©ãƒ¼</div>
                    </div>
                    <div class="asin-upload__stat-card">
                        <span class="asin-upload__stat-number" id="processingTime">0s</span>
                        <div class="asin-upload__stat-label">å‡¦ç†æ™‚é–“</div>
                    </div>
                </div>

                <div class="asin-upload__form-group">
                    <button class="btn btn--success" onclick="downloadResults()" disabled id="downloadBtn">
                        <i class="fas fa-download"></i>
                        çµæœã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                    </button>
                    <button class="btn btn--secondary" onclick="resetForm()" style="margin-left: var(--space-3);">
                        <i class="fas fa-redo"></i>
                        ãƒªã‚»ãƒƒãƒˆ
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- é€šçŸ¥ã‚¨ãƒªã‚¢ -->
    <div id="notificationArea"></div>

    <!-- JavaScriptï¼ˆæœ€å°é™å®Ÿè£…ï¼‰ -->
    <script>
        /* ========================================
           NAGANO-3 ASIN ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ JavaScript
           å‡ºå…¸: common/js/modules/asin_upload.js æƒ³å®š
           ======================================== */
        
        "use strict";
        
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let currentFile = null;
        let isProcessing = false;
        let selectedMall = 'amazon';
        
        // ãƒ¢ãƒ¼ãƒ«è¨­å®š
        const mallConfigs = {
            amazon: {
                name: 'Amazon',
                asinLabel: 'ASIN',
                bulkLabel: 'ASINãƒ»URLä¸€æ‹¬å…¥åŠ›',
                placeholder: 'B08N5WRWNW',
                urlPattern: 'https://amazon.co.jp/dp/',
                csvFormat: ['ASIN', 'URL', 'å•†å“å', 'ä¾¡æ ¼']
            },
            rakuten: {
                name: 'æ¥½å¤©å¸‚å ´',
                asinLabel: 'å•†å“ID',
                bulkLabel: 'å•†å“IDãƒ»URLä¸€æ‹¬å…¥åŠ›',
                placeholder: 'rakuten-item-123',
                urlPattern: 'https://item.rakuten.co.jp/',
                csvFormat: ['å•†å“ID', 'URL', 'å•†å“å', 'ä¾¡æ ¼', 'ã‚«ãƒ†ã‚´ãƒª']
            },
            yahoo: {
                name: 'Yahoo!ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°',
                asinLabel: 'å•†å“ã‚³ãƒ¼ãƒ‰',
                bulkLabel: 'å•†å“ã‚³ãƒ¼ãƒ‰ãƒ»URLä¸€æ‹¬å…¥åŠ›',
                placeholder: 'yahoo-abc123',
                urlPattern: 'https://shopping.yahoo.co.jp/',
                csvFormat: ['å•†å“ã‚³ãƒ¼ãƒ‰', 'URL', 'å•†å“å', 'ä¾¡æ ¼']
            },
            ebay: {
                name: 'eBay',
                asinLabel: 'Item ID',
                bulkLabel: 'Item IDãƒ»URLä¸€æ‹¬å…¥åŠ›',
                placeholder: '123456789012',
                urlPattern: 'https://ebay.com/itm/',
                csvFormat: ['ItemID', 'URL', 'Title', 'Price', 'Category']
            },
            mercari: {
                name: 'ãƒ¡ãƒ«ã‚«ãƒª',
                asinLabel: 'å•†å“ID',
                bulkLabel: 'å•†å“IDãƒ»URLä¸€æ‹¬å…¥åŠ›',
                placeholder: 'm12345678901',
                urlPattern: 'https://mercari.com/jp/items/',
                csvFormat: ['å•†å“ID', 'URL', 'å•†å“å', 'ä¾¡æ ¼', 'çŠ¶æ…‹']
            }
        };
        
        // ===== ãƒ¢ãƒ¼ãƒ«é¸æŠæ©Ÿèƒ½ =====
        function selectMall(mallId) {
            selectedMall = mallId;
            
            // ãƒ¢ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰ã®çŠ¶æ…‹æ›´æ–°
            document.querySelectorAll('.asin-upload__mall-card').forEach(card => {
                card.classList.remove('asin-upload__mall-card--active');
            });
            document.querySelector(`[data-mall="${mallId}"]`).classList.add('asin-upload__mall-card--active');
            
            // é¸æŠãƒ¢ãƒ¼ãƒ«è¡¨ç¤ºæ›´æ–°
            document.getElementById('selectedMallDisplay').textContent = mallConfigs[mallId].name;
            
            // ãƒ•ã‚©ãƒ¼ãƒ ãƒ©ãƒ™ãƒ«æ›´æ–°
            const config = mallConfigs[mallId];
            document.getElementById('asinLabel').textContent = config.asinLabel;
            document.getElementById('bulkLabel').textContent = config.bulkLabel;
            document.getElementById('asinInput').placeholder = `ä¾‹: ${config.placeholder}`;
            
            // CSVã‚µãƒ³ãƒ—ãƒ«æ›´æ–°
            updateCSVSample(config.csvFormat);
            
            showNotification(`${config.name}ãŒé¸æŠã•ã‚Œã¾ã—ãŸã€‚`, 'info');
        }
        
        function showComingSoon() {
            showNotification('ãã®ä»–ã®ãƒ¢ãƒ¼ãƒ«ã¯é †æ¬¡å¯¾å¿œäºˆå®šã§ã™ã€‚ãŠæ¥½ã—ã¿ã«ï¼', 'info');
        }
        
        function updateCSVSample(format) {
            const sampleData = {
                amazon: `ASIN,URL,å•†å“å,ä¾¡æ ¼
B08N5WRWNW,https://amazon.co.jp/dp/B08N5WRWNW,Echo Dot,3980
B09B8RRQT5,https://amazon.co.jp/dp/B09B8RRQT5,Fire Stick,4980`,
                rakuten: `å•†å“ID,URL,å•†å“å,ä¾¡æ ¼,ã‚«ãƒ†ã‚´ãƒª
rakuten-123,https://item.rakuten.co.jp/shop/item123,å•†å“å,2980,å®¶é›»
rakuten-456,https://item.rakuten.co.jp/shop/item456,å•†å“å,4980,ç”Ÿæ´»ç”¨å“`,
                yahoo: `å•†å“ã‚³ãƒ¼ãƒ‰,URL,å•†å“å,ä¾¡æ ¼
yahoo-abc123,https://shopping.yahoo.co.jp/products/abc123,å•†å“å,1980
yahoo-def456,https://shopping.yahoo.co.jp/products/def456,å•†å“å,3980`,
                ebay: `ItemID,URL,Title,Price,Category
123456789012,https://ebay.com/itm/123456789012,Product Name,29.99,Electronics
123456789013,https://ebay.com/itm/123456789013,Product Name,49.99,Home`,
                mercari: `å•†å“ID,URL,å•†å“å,ä¾¡æ ¼,çŠ¶æ…‹
m12345678901,https://mercari.com/jp/items/m12345678901,å•†å“å,1500,æœªä½¿ç”¨ã«è¿‘ã„
m12345678902,https://mercari.com/jp/items/m12345678902,å•†å“å,2800,ã‚„ã‚„å‚·ã‚„æ±šã‚Œã‚ã‚Š`
            };
            
            document.querySelector('.asin-upload__sample-code').textContent = sampleData[selectedMall] || sampleData.amazon;
        }
        
        // ===== ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ =====
        function switchTab(tabId) {
            // å…¨ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('.asin-upload__tab-button').forEach(btn => {
                btn.classList.remove('asin-upload__tab-button--active');
            });
            
            // å…¨ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤º
            document.querySelectorAll('.asin-upload__tab-content').forEach(content => {
                content.classList.remove('asin-upload__tab-content--active');
            });
            
            // å¯¾è±¡ã‚¿ãƒ–ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–
            document.querySelector(`[onclick="switchTab('${tabId}')"]`).classList.add('asin-upload__tab-button--active');
            document.getElementById(tabId).classList.add('asin-upload__tab-content--active');
            
            // çµæœã‚¨ãƒªã‚¢ã‚’ãƒªã‚»ãƒƒãƒˆ
            hideResults();
        }
        
        // ===== ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†æ©Ÿèƒ½ =====
        function setupFileUpload() {
            const fileInput = document.getElementById('csvFile');
            const uploadArea = document.querySelector('.asin-upload__file-upload-area');
            const processBtn = document.getElementById('processCsvBtn');
            
            // ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠæ™‚ã®å‡¦ç†
            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    handleFileSelection(file);
                }
            });
            
            // ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å‡¦ç†
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.classList.add('asin-upload__file-upload-area--dragover');
            });
            
            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('asin-upload__file-upload-area--dragover');
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('asin-upload__file-upload-area--dragover');
                
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFileSelection(files[0]);
                }
            });
        }
        
        function handleFileSelection(file) {
            // ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ãƒã‚§ãƒƒã‚¯
            const allowedTypes = ['text/csv', 'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'];
            const fileExtension = '.' + file.name.split('.').pop().toLowerCase();
            const allowedExtensions = ['.csv', '.xlsx', '.xls'];
            
            if (!allowedTypes.includes(file.type) && !allowedExtensions.includes(fileExtension)) {
                showNotification('ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™ã€‚CSVã€XLSã€XLSXãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯èƒ½ã§ã™ã€‚', 'error');
                return;
            }
            
            // ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯ (10MB)
            const maxSize = 10 * 1024 * 1024;
            if (file.size > maxSize) {
                showNotification('ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã¾ã™ã€‚10MBä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚', 'error');
                return;
            }
            
            currentFile = file;
            document.getElementById('processCsvBtn').disabled = false;
            showNotification(`ãƒ•ã‚¡ã‚¤ãƒ« "${file.name}" ãŒé¸æŠã•ã‚Œã¾ã—ãŸã€‚å‡¦ç†ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç¶šè¡Œã—ã¦ãã ã•ã„ã€‚`, 'success');
        }
        
        // ===== å‡¦ç†æ©Ÿèƒ½ =====
        async function processCsvFile() {
            if (!currentFile || isProcessing) return;
            
            isProcessing = true;
            showProgress(true);
            updateProgress(0, 'ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£æä¸­...');
            
            try {
                // æ¨¡æ“¬å‡¦ç†ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯ API å‘¼ã³å‡ºã—ï¼‰
                await simulateProcessing();
                
                // çµæœè¡¨ç¤º
                showResults({
                    total: 1000,
                    success: 950,
                    error: 50,
                    processingTime: 32
                });
                
                showNotification('CSVãƒ•ã‚¡ã‚¤ãƒ«ã®å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸã€‚', 'success');
                
            } catch (error) {
                showNotification('å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message, 'error');
            } finally {
                isProcessing = false;
                showProgress(false);
            }
        }
        
        async function processManualInput() {
            if (isProcessing) return;
            
            const asinValue = document.getElementById('asinInput').value.trim();
            const url = document.getElementById('urlInput').value.trim();
            
            if (!asinValue && !url) {
                const config = mallConfigs[selectedMall];
                showNotification(`${config.asinLabel}ã¾ãŸã¯URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚`, 'error');
                return;
            }
            
            isProcessing = true;
            showProgress(true);
            updateProgress(0, 'å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...');
            
            try {
                await simulateProcessing();
                
                showResults({
                    total: 1,
                    success: 1,
                    error: 0,
                    processingTime: 2
                });
                
                showNotification(`${mallConfigs[selectedMall].name}ã®å•†å“ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒå®Œäº†ã—ã¾ã—ãŸã€‚`, 'success');
                
            } catch (error) {
                showNotification('ãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message, 'error');
            } finally {
                isProcessing = false;
                showProgress(false);
            }
        }
        
        async function processBulkInput() {
            if (isProcessing) return;
            
            const bulkData = document.getElementById('bulkInput').value.trim();
            if (!bulkData) {
                const config = mallConfigs[selectedMall];
                showNotification(`${config.bulkLabel.replace('ä¸€æ‹¬å…¥åŠ›', '')}ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚`, 'error');
                return;
            }
            
            const lines = bulkData.split('\n').filter(line => line.trim());
            if (lines.length === 0) {
                showNotification('æœ‰åŠ¹ãªãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚', 'error');
                return;
            }
            
            isProcessing = true;
            showProgress(true);
            updateProgress(0, `${mallConfigs[selectedMall].name}: ${lines.length}ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ä¸­...`);
            
            try {
                await simulateProcessing();
                
                const successCount = Math.floor(lines.length * 0.95);
                const errorCount = lines.length - successCount;
                
                showResults({
                    total: lines.length,
                    success: successCount,
                    error: errorCount,
                    processingTime: Math.ceil(lines.length / 10)
                });
                
                showNotification(`${mallConfigs[selectedMall].name}: ${lines.length}ä»¶ã®ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸã€‚`, 'success');
                
            } catch (error) {
                showNotification('ä¸€æ‹¬å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message, 'error');
            } finally {
                isProcessing = false;
                showProgress(false);
            }
        }
        
        async function processUrlAutoCollect() {
            if (isProcessing) return;
            
            const startUrl = document.getElementById('startUrlInput').value.trim();
            const maxCount = parseInt(document.getElementById('maxCountInput').value);
            const priceRange = document.getElementById('priceRangeInput').value;
            
            if (!startUrl) {
                showNotification('é–‹å§‹URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚', 'error');
                return;
            }
            
            isProcessing = true;
            showProgress(true);
            updateProgress(0, `${mallConfigs[selectedMall].name}: URLè‡ªå‹•å–å¾—ã‚’é–‹å§‹ä¸­...`);
            
            try {
                // æ®µéšçš„ãªé€²æ—è¡¨ç¤º
                updateProgress(20, 'ãƒšãƒ¼ã‚¸ã‚’è§£æä¸­...');
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                updateProgress(40, 'å•†å“URLã‚’åé›†ä¸­...');
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                updateProgress(60, 'ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚’é€²è¡Œä¸­...');
                await new Promise(resolve => setTimeout(resolve, 1200));
                
                updateProgress(80, 'ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶ã‚’é©ç”¨ä¸­...');
                await new Promise(resolve => setTimeout(resolve, 800));
                
                updateProgress(100, 'è‡ªå‹•å–å¾—å®Œäº†');
                
                const successCount = Math.floor(maxCount * 0.92);
                const errorCount = maxCount - successCount;
                
                showResults({
                    total: maxCount,
                    success: successCount,
                    error: errorCount,
                    processingTime: Math.ceil(maxCount / 50)
                });
                
                showNotification(`${mallConfigs[selectedMall].name}: ${successCount}ä»¶ã®URLè‡ªå‹•å–å¾—ãŒå®Œäº†ã—ã¾ã—ãŸã€‚`, 'success');
                
            } catch (error) {
                showNotification('URLè‡ªå‹•å–å¾—ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message, 'error');
            } finally {
                isProcessing = false;
                showProgress(false);
            }
        }
        
        // ===== UIåˆ¶å¾¡æ©Ÿèƒ½ =====
        function showProgress(show) {
            const progressBar = document.getElementById('progressBar');
            if (show) {
                progressBar.classList.add('asin-upload__progress--show');
            } else {
                progressBar.classList.remove('asin-upload__progress--show');
            }
        }
        
        function updateProgress(percentage, message) {
            const progressFill = document.getElementById('progressBarFill');
            const progressText = document.getElementById('progressText');
            
            progressFill.style.width = percentage + '%';
            progressText.textContent = message || `${percentage}%`;
        }
        
        function showResults(data) {
            document.getElementById('totalCount').textContent = data.total.toLocaleString();
            document.getElementById('successCount').textContent = data.success.toLocaleString();
            document.getElementById('errorCount').textContent = data.error.toLocaleString();
            document.getElementById('processingTime').textContent = data.processingTime + 's';
            
            document.getElementById('resultsArea').classList.add('asin-upload__results--show');
            document.getElementById('downloadBtn').disabled = false;
        }
        
        function hideResults() {
            document.getElementById('resultsArea').classList.remove('asin-upload__results--show');
            document.getElementById('downloadBtn').disabled = true;
        }
        
        function resetForm() {
            // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('csvFile').value = '';
            document.getElementById('asinInput').value = '';
            document.getElementById('urlInput').value = '';
            document.getElementById('bulkInput').value = '';
            document.getElementById('startUrlInput').value = '';
            document.getElementById('maxCountInput').value = '100';
            document.getElementById('priceRangeInput').value = '';
            
            // çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ
            currentFile = null;
            isProcessing = false;
            document.getElementById('processCsvBtn').disabled = true;
            
            // UI ãƒªã‚»ãƒƒãƒˆ
            hideResults();
            showProgress(false);
            
            showNotification('ãƒ•ã‚©ãƒ¼ãƒ ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸã€‚', 'info');
        }
        
        function downloadResults() {
            const config = mallConfigs[selectedMall];
            showNotification(`${config.name}ã®çµæœãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚`, 'info');
            
            // ãƒ¢ãƒ¼ãƒ«åˆ¥ã®CSVãƒ˜ãƒƒãƒ€ãƒ¼
            const csvHeader = config.csvFormat.join(',');
            const csvContent = `${csvHeader}\n${config.placeholder},${config.urlPattern}${config.placeholder},ã‚µãƒ³ãƒ—ãƒ«å•†å“,1980,æˆåŠŸ`;
            
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `${selectedMall}_upload_results_${new Date().toISOString().slice(0, 10)}.csv`;
            link.click();
        }
        
        // ===== é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ  =====
        function showNotification(message, type = 'info') {
            const notificationArea = document.getElementById('notificationArea');
            
            const notification = document.createElement('div');
            notification.className = `notification notification--${type}`;
            
            const icon = type === 'success' ? 'fa-check-circle' : 
                        type === 'error' ? 'fa-times-circle' : 
                        type === 'warning' ? 'fa-exclamation-triangle' : 
                        'fa-info-circle';
            
            notification.innerHTML = `
                <i class="fas ${icon}"></i>
                <span>${message}</span>
            `;
            
            notificationArea.appendChild(notification);
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º
            setTimeout(() => {
                notification.classList.add('notification--show');
            }, 100);
            
            // è‡ªå‹•å‰Šé™¤
            setTimeout(() => {
                notification.classList.remove('notification--show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }
        
        // ===== æ¨¡æ“¬å‡¦ç†ï¼ˆé–‹ç™ºç”¨ï¼‰ =====
        async function simulateProcessing() {
            const steps = [
                { progress: 10, message: 'ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£æä¸­...' },
                { progress: 30, message: 'ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œè¨¼ä¸­...' },
                { progress: 50, message: 'Amazon APIã«æ¥ç¶šä¸­...' },
                { progress: 70, message: 'å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...' },
                { progress: 90, message: 'ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ä¸­...' },
                { progress: 100, message: 'å‡¦ç†å®Œäº†' }
            ];
            
            for (const step of steps) {
                updateProgress(step.progress, step.message);
                await new Promise(resolve => setTimeout(resolve, 800));
            }
        }
        
        // ===== åˆæœŸåŒ– =====
        document.addEventListener('DOMContentLoaded', function() {
            setupFileUpload();
            selectMall('amazon'); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§Amazonã‚’é¸æŠ
            showNotification('å•†å“ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ãŒæº–å‚™å®Œäº†ã—ã¾ã—ãŸã€‚', 'success');
        });
    </script>
</body>
</html>