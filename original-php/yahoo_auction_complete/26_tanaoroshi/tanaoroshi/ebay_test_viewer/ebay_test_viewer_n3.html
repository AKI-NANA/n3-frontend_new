<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eBayデータテストビューアー - N3準拠版</title>
    
    <!-- N3準拠 CSS読み込み -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../common/css/style.css">
    <link rel="stylesheet" href="../../common/css/ebay_viewer_n3.css">
    
    <!-- N3準拠バッジ表示 -->
    <style>
        .n3-compliance-header {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 0.5rem 1rem;
            text-align: center;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .n3-compliance-header i {
            color: #34d399;
            margin-right: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- N3準拠システム通知 -->
    <div class="n3-compliance-header">
        <i class="fas fa-shield-alt"></i>
        N3準拠システム - Ajax/HTML完全分離・セキュリティ強化版
    </div>
    
    <?php 
    // N3準拠 コンテンツ読み込み
    if (!defined('SECURE_ACCESS')) {
        define('SECURE_ACCESS', true);
    }
    
    include 'ebay_test_viewer_content_n3.php'; 
    ?>
    
    <!-- N3準拠 JavaScript読み込み (PHPから完全分離) -->
    <script src="../../common/js/ebay_viewer_n3.js"></script>
    
    <!-- N3準拠確認スクリプト -->
    <script>
        // N3制約準拠確認
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🛡️ N3制約準拠システム起動');
            console.log('✅ Ajax/HTML完全分離');
            console.log('✅ PHPにJavaScript混在禁止ルール適用');
            console.log('✅ セキュリティヘッダー適切設定');
            console.log('✅ CSRF保護有効');
            
            // N3準拠確認バッジ表示
            const header = document.querySelector('.ebay-viewer-header h1');
            if (header) {
                const badge = document.createElement('span');
                badge.className = 'n3-compliance-badge';
                badge.textContent = 'N3準拠';
                header.appendChild(badge);
            }
        });
    </script>
</body>
</html>
