# Phase 2 å®Œå…¨å®Ÿè£…ã‚¬ã‚¤ãƒ‰

## ğŸ¯ å®Ÿè£…å†…å®¹

1. âœ… åˆ©ç›Šè¨ˆç®—APIä¿®æ­£ï¼ˆdefault_profit_margin/amount_usdä¿å­˜ï¼‰
2. âœ… ä¾¡æ ¼é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ«ä½œæˆ
3. âœ… å¸‚å ´èª¿æŸ»ã‚¿ãƒ–ä½œæˆ
4. â³ ãƒ¢ãƒ¼ãƒ€ãƒ«çµ±åˆï¼ˆæ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

---

## ğŸ“¦ ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«

### 1. APIä¿®æ­£
```
/app/api/tools/profit-calculate/route_PHASE2.ts
```

### 2. æ–°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```
/app/tools/editing/components/PricingStrategyModal.tsx
/app/tools/editing/components/MarketResearchTab.tsx
```

---

## ğŸ”§ é©ç”¨æ‰‹é †

### Step 1: APIæ›´æ–°

```bash
cd /Users/aritahiroaki/n3-frontend_new
cp app/api/tools/profit-calculate/route_PHASE2.ts app/api/tools/profit-calculate/route.ts
```

### Step 2: æ—¢å­˜ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ä¿®æ­£ãŒå¿…è¦

`ProductModal.tsx`ã‚’è¦‹ã¤ã‘ã¦ã€ä»¥ä¸‹ã‚’çµ±åˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

1. **ã‚¿ãƒ–è¿½åŠ **
   - åŸºæœ¬æƒ…å ±
   - ä¾¡æ ¼è¨­å®šï¼ˆæ–°ï¼šPricingStrategyModalï¼‰
   - å¸‚å ´èª¿æŸ»ï¼ˆæ–°ï¼šMarketResearchTabï¼‰

2. **ä¾¡æ ¼è¨­å®šãƒœã‚¿ãƒ³ã®è¿½åŠ **
   - ã€Œä¾¡æ ¼ã‚’é¸æŠã€ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
   - ã‚¯ãƒªãƒƒã‚¯ã§ PricingStrategyModal ã‚’è¡¨ç¤º

---

## ğŸ¨ ProductModal.tsx ã®ä¿®æ­£ä¾‹

```typescript
import { useState } from 'react'
import { PricingStrategyModal } from './PricingStrategyModal'
import { MarketResearchTab } from './MarketResearchTab'

export function ProductModal({ product, isOpen, onClose }) {
  const [activeTab, setActiveTab] = useState<'info' | 'pricing' | 'research'>('info')
  const [showPricingModal, setShowPricingModal] = useState(false)

  return (
    <div className="modal">
      {/* ã‚¿ãƒ– */}
      <div className="tabs">
        <button onClick={() => setActiveTab('info')}>åŸºæœ¬æƒ…å ±</button>
        <button onClick={() => setActiveTab('pricing')}>ä¾¡æ ¼è¨­å®š</button>
        <button onClick={() => setActiveTab('research')}>å¸‚å ´èª¿æŸ»</button>
      </div>

      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
      {activeTab === 'info' && <div>åŸºæœ¬æƒ…å ±ã®å†…å®¹</div>}
      
      {activeTab === 'pricing' && (
        <div>
          <button onClick={() => setShowPricingModal(true)}>
            ä¾¡æ ¼æˆ¦ç•¥ã‚’é¸æŠ
          </button>
          {/* ç¾åœ¨ã®ä¾¡æ ¼æƒ…å ±è¡¨ç¤º */}
        </div>
      )}
      
      {activeTab === 'research' && <MarketResearchTab product={product} />}

      {/* ä¾¡æ ¼é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ« */}
      <PricingStrategyModal
        product={product}
        isOpen={showPricingModal}
        onClose={() => setShowPricingModal(false)}
        onSelect={(strategy) => {
          // é¸æŠã—ãŸä¾¡æ ¼ã‚’ä¿å­˜
          console.log('é¸æŠã•ã‚ŒãŸä¾¡æ ¼:', strategy)
        }}
      />
    </div>
  )
}
```

---

## ğŸ” æ¬¡ã«å¿…è¦ãªã“ã¨

1. **ProductModal.tsxã®å ´æ‰€ã‚’ç¢ºèª**
   ```bash
   find /Users/aritahiroaki/n3-frontend_new/app/tools/editing -name "*Modal*.tsx"
   ```

2. **ãƒ¢ãƒ¼ãƒ€ãƒ«ã«çµ±åˆ**
   - ã‚¿ãƒ–ã®è¿½åŠ 
   - PricingStrategyModal ã®çµ±åˆ
   - MarketResearchTab ã®çµ±åˆ

---

## ğŸ¯ å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸

### ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•†å“è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [åŸºæœ¬æƒ…å ±] [ä¾¡æ ¼è¨­å®š] [å¸‚å ´èª¿æŸ»]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€ä¾¡æ ¼è¨­å®šã‚¿ãƒ–ã€‘                     â”‚
â”‚                                     â”‚
â”‚ ç¾åœ¨ã®ä¾¡æ ¼: $45.99                  â”‚
â”‚ åˆ©ç›Šç‡: 32% | åˆ©ç›Šé¡: $14.72        â”‚
â”‚                                     â”‚
â”‚ [ä¾¡æ ¼æˆ¦ç•¥ã‚’é¸æŠ]  â† ã‚¯ãƒªãƒƒã‚¯         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¾¡æ ¼é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ«
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¾¡æ ¼æˆ¦ç•¥ã‚’é¸æŠ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â—‹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¾¡æ ¼   $45.99          â”‚
â”‚   åˆ©ç›Šç‡: 32% | åˆ©ç›Šé¡: $14.72      â”‚
â”‚                                     â”‚
â”‚ â—‹ ç«¶åˆæœ€å®‰å€¤       $38.50          â”‚
â”‚   åˆ©ç›Šç‡: 18% | åˆ©ç›Šé¡: $6.93       â”‚
â”‚                                     â”‚
â”‚ â—‹ ä¸­å¤®å€¤          $52.00          â”‚
â”‚   åˆ©ç›Šç‡: 38% | åˆ©ç›Šé¡: $19.76      â”‚
â”‚                                     â”‚
â”‚ ğŸ“Š ç«¶åˆãƒ‡ãƒ¼ã‚¿                        â”‚
â”‚ ç«¶åˆæ•°: 100 | æ—¥æœ¬äºº: 15 (15%)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]  [ã“ã®ä¾¡æ ¼ã‚’é©ç”¨]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ç¢ºèªäº‹é …

- [ ] Phase 1ï¼ˆBrowse APIï¼‰ã‚’é©ç”¨æ¸ˆã¿
- [ ] Phase 2ï¼ˆåˆ©ç›Šè¨ˆç®—APIï¼‰ã‚’é©ç”¨
- [ ] ProductModal.tsxã®å ´æ‰€ã‚’ç¢ºèª
- [ ] ãƒ¢ãƒ¼ãƒ€ãƒ«ã«ã‚¿ãƒ–ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ±åˆ

---

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’æ•™ãˆã¦ãã ã•ã„ï¼
